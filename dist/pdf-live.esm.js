var e=e=>{if("dark"!==e&&"light"!==e)throw new Error("The theme can be either light or dark");document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)};class t{loadingNode;constructor(e){e.insertAdjacentHTML("beforeend",this.render()),this.loadingNode=e.lastChild}render(){return'<div class="loading">\n              <div class="loading-content">\n                <div class="loading-spinner"></div>\n              </div>\n            </div>'}show(){return this.loadingNode.classList.add("loading-show"),this}hide(){return this.loadingNode.classList.remove("loading-show"),this}destroy(){this.loadingNode.remove()}}class n{modalNode;language;constructor(e,t){this.language=t,e.insertAdjacentHTML("beforeend",this.render()),this.modalNode=e.lastChild;for(let e of Array.from(this.modalNode.querySelectorAll("[data-element]")))this[e.dataset.element]=e}render(){return""}show(){return this.modalNode.classList.add("modal-show"),this}hide(){return this.modalNode.classList.remove("modal-show"),this}destroy(){this.modalNode.remove()}}class s extends n{message;constructor(e){super(e),this.message=this.modalNode.querySelector('[data-element="message"]')}render(){return'<div class="modal">\n              <div class="modal-dialog">\n                <div class="modal-content">\n                  <div class="modal-body">\n                    <div data-element="message">This is an error</div>\n                  </div>\n                </div>\n              </div>\n            </div>'}show(e){return this.message.textContent=e,super.show(),this}}var r=e=>e&&e.constructor&&e.constructor===Object.getPrototypeOf((async function(){})).constructor,a=async e=>new Promise((t=>setTimeout(t,1e3*e)));var i=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(function(e){var t={};function n(s){if(t[s])return t[s].exports;var r=t[s]={exports:{},id:s,loaded:!1};return e[s].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){var s=n(1).default;t.__esModule=!0;var r=s(n(2)),a=s(n(45)),i=n(46),o=n(51),l=s(n(52)),c=s(n(49)),h=s(n(44)),u=r.default.create;function d(){var e=u();return e.compile=function(t,n){return o.compile(t,n,e)},e.precompile=function(t,n){return o.precompile(t,n,e)},e.AST=a.default,e.Compiler=o.Compiler,e.JavaScriptCompiler=l.default,e.Parser=i.parser,e.parse=i.parse,e.parseWithoutProcessing=i.parseWithoutProcessing,e}var p=d();p.create=d,h.default(p),p.Visitor=c.default,p.default=p,t.default=p,e.exports=t.default},function(e,t){t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(e,t,n){var s=n(3).default,r=n(1).default;t.__esModule=!0;var a=s(n(4)),i=r(n(37)),o=r(n(6)),l=s(n(5)),c=s(n(38)),h=r(n(44));function u(){var e=new a.HandlebarsEnvironment;return l.extend(e,a),e.SafeString=i.default,e.Exception=o.default,e.Utils=l,e.escapeExpression=l.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e}var d=u();d.create=u,h.default(d),d.default=d,t.default=d,e.exports=t.default},function(e,t){t.default=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},t.__esModule=!0},function(e,t,n){var s=n(1).default;t.__esModule=!0,t.HandlebarsEnvironment=h;var r=n(5),a=s(n(6)),i=n(10),o=n(30),l=s(n(32)),c=n(33);function h(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},i.registerDefaultHelpers(this),o.registerDefaultDecorators(this)}t.VERSION="4.7.7",t.COMPILER_REVISION=8,t.LAST_COMPATIBLE_COMPILER_REVISION=7,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"},h.prototype={constructor:h,logger:l.default,log:l.default.log,registerHelper:function(e,t){if("[object Object]"===r.toString.call(e)){if(t)throw new a.default("Arg not supported with multiple helpers");r.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===r.toString.call(e))r.extend(this.partials,e);else{if(void 0===t)throw new a.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===r.toString.call(e)){if(t)throw new a.default("Arg not supported with multiple decorators");r.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){c.resetLoggedProperties()}};var u=l.default.log;t.log=u,t.createFrame=r.createFrame,t.logger=l.default},function(e,t){t.__esModule=!0,t.extend=i,t.indexOf=function(e,t){for(var n=0,s=e.length;n<s;n++)if(e[n]===t)return n;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return r.test(e)?e.replace(s,a):e},t.isEmpty=function(e){return!e&&0!==e||!(!c(e)||0!==e.length)},t.createFrame=function(e){var t=i({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},s=/[&<>"'`=]/g,r=/[&<>"'`=]/;function a(e){return n[e]}function i(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var o=Object.prototype.toString;t.toString=o;var l=function(e){return"function"==typeof e};l(/x/)&&(t.isFunction=l=function(e){return"function"==typeof e&&"[object Function]"===o.call(e)}),t.isFunction=l;var c=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===o.call(e)};t.isArray=c},function(e,t,n){var s=n(7).default;t.__esModule=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function a(e,t){var n=t&&t.loc,i=void 0,o=void 0,l=void 0,c=void 0;n&&(i=n.start.line,o=n.end.line,l=n.start.column,c=n.end.column,e+=" - "+i+":"+l);for(var h=Error.prototype.constructor.call(this,e),u=0;u<r.length;u++)this[r[u]]=h[r[u]];Error.captureStackTrace&&Error.captureStackTrace(this,a);try{n&&(this.lineNumber=i,this.endLineNumber=o,s?(Object.defineProperty(this,"column",{value:l,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:c,enumerable:!0})):(this.column=l,this.endColumn=c))}catch(e){}}a.prototype=new Error,t.default=a,e.exports=t.default},function(e,t,n){e.exports={default:n(8),__esModule:!0}},function(e,t,n){var s=n(9);e.exports=function(e,t,n){return s.setDesc(e,t,n)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){var s=n(1).default;t.__esModule=!0,t.registerDefaultHelpers=function(e){r.default(e),a.default(e),i.default(e),o.default(e),l.default(e),c.default(e),h.default(e)},t.moveHelperToHooks=function(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])};var r=s(n(11)),a=s(n(12)),i=s(n(25)),o=s(n(26)),l=s(n(27)),c=s(n(28)),h=s(n(29))},function(e,t,n){t.__esModule=!0;var s=n(5);t.default=function(e){e.registerHelper("blockHelperMissing",(function(t,n){var r=n.inverse,a=n.fn;if(!0===t)return a(this);if(!1===t||null==t)return r(this);if(s.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):r(this);if(n.data&&n.ids){var i=s.createFrame(n.data);i.contextPath=s.appendContextPath(n.data.contextPath,n.name),n={data:i}}return a(t,n)}))},e.exports=t.default},function(e,t,n){(function(s){var r=n(13).default,a=n(1).default;t.__esModule=!0;var i=n(5),o=a(n(6));t.default=function(e){e.registerHelper("each",(function(e,t){if(!t)throw new o.default("Must pass iterator to #each");var n,a=t.fn,l=t.inverse,c=0,h="",u=void 0,d=void 0;function p(t,n,s){u&&(u.key=t,u.index=n,u.first=0===n,u.last=!!s,d&&(u.contextPath=d+t)),h+=a(e[t],{data:u,blockParams:i.blockParams([e[t],t],[d+t,null])})}if(t.data&&t.ids&&(d=i.appendContextPath(t.data.contextPath,t.ids[0])+"."),i.isFunction(e)&&(e=e.call(this)),t.data&&(u=i.createFrame(t.data)),e&&"object"==typeof e)if(i.isArray(e))for(var f=e.length;c<f;c++)c in e&&p(c,c,c===e.length-1);else if(s.Symbol&&e[s.Symbol.iterator]){for(var m=[],g=e[s.Symbol.iterator](),_=g.next();!_.done;_=g.next())m.push(_.value);for(f=(e=m).length;c<f;c++)p(c,c,c===e.length-1)}else n=void 0,r(e).forEach((function(e){void 0!==n&&p(n,c-1),n=e,c++})),void 0!==n&&p(n,c-1,!0);return 0===c&&(h=l(this)),h}))},e.exports=t.default}).call(t,function(){return this}())},function(e,t,n){e.exports={default:n(14),__esModule:!0}},function(e,t,n){n(15),e.exports=n(21).Object.keys},function(e,t,n){var s=n(16);n(18)("keys",(function(e){return function(t){return e(s(t))}}))},function(e,t,n){var s=n(17);e.exports=function(e){return Object(s(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var s=n(19),r=n(21),a=n(24);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],i={};i[e]=t(n),s(s.S+s.F*a((function(){n(1)})),"Object",i)}},function(e,t,n){var s=n(20),r=n(21),a=n(22),i=function(e,t,n){var o,l,c,h=e&i.F,u=e&i.G,d=e&i.S,p=e&i.P,f=e&i.B,m=e&i.W,g=u?r:r[t]||(r[t]={}),_=u?s:d?s[t]:(s[t]||{}).prototype;for(o in u&&(n=t),n)(l=!h&&_&&o in _)&&o in g||(c=l?_[o]:n[o],g[o]=u&&"function"!=typeof _[o]?n[o]:f&&l?a(c,s):m&&_[o]==c?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t.prototype=e.prototype,t}(c):p&&"function"==typeof c?a(Function.call,c):c,p&&((g.prototype||(g.prototype={}))[o]=c))};i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,e.exports=i},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(e,t,n){var s=n(23);e.exports=function(e,t,n){if(s(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,s){return e.call(t,n,s)};case 3:return function(n,s,r){return e.call(t,n,s,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var s=n(1).default;t.__esModule=!0;var r=s(n(6));t.default=function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},e.exports=t.default},function(e,t,n){var s=n(1).default;t.__esModule=!0;var r=n(5),a=s(n(6));t.default=function(e){e.registerHelper("if",(function(e,t){if(2!=arguments.length)throw new a.default("#if requires exactly one argument");return r.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,n){if(2!=arguments.length)throw new a.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},e.exports=t.default},function(e,t){t.__esModule=!0,t.default=function(e){e.registerHelper("log",(function(){for(var t=[void 0],n=arguments[arguments.length-1],s=0;s<arguments.length-1;s++)t.push(arguments[s]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),t[0]=r,e.log.apply(e,t)}))},e.exports=t.default},function(e,t){t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",(function(e,t,n){return e?n.lookupProperty(e,t):e}))},e.exports=t.default},function(e,t,n){var s=n(1).default;t.__esModule=!0;var r=n(5),a=s(n(6));t.default=function(e){e.registerHelper("with",(function(e,t){if(2!=arguments.length)throw new a.default("#with requires exactly one argument");r.isFunction(e)&&(e=e.call(this));var n=t.fn;if(r.isEmpty(e))return t.inverse(this);var s=t.data;return t.data&&t.ids&&((s=r.createFrame(t.data)).contextPath=r.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:s,blockParams:r.blockParams([e],[s&&s.contextPath])})}))},e.exports=t.default},function(e,t,n){var s=n(1).default;t.__esModule=!0,t.registerDefaultDecorators=function(e){r.default(e)};var r=s(n(31))},function(e,t,n){t.__esModule=!0;var s=n(5);t.default=function(e){e.registerDecorator("inline",(function(e,t,n,r){var a=e;return t.partials||(t.partials={},a=function(r,a){var i=n.partials;n.partials=s.extend({},i,t.partials);var o=e(r,a);return n.partials=i,o}),t.partials[r.args[0]]=r.fn,a}))},e.exports=t.default},function(e,t,n){t.__esModule=!0;var s=n(5),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=s.indexOf(r.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=r.lookupLevel(e),"undefined"!=typeof console&&r.lookupLevel(r.level)<=e){var t=r.methodMap[e];console[t]||(t="log");for(var n=arguments.length,s=Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];console[t].apply(console,s)}}};t.default=r,e.exports=t.default},function(e,t,n){var s=n(34).default,r=n(13).default,a=n(3).default;t.__esModule=!0,t.createProtoAccessControl=function(e){var t=s(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var n=s(null);return n.__proto__=!1,{properties:{whitelist:i.createNewLookupObject(n,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:i.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}},t.resultIsAllowed=function(e,t,n){return function(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(function(e){!0!==l[e]&&(l[e]=!0,o.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(t),!1)}("function"==typeof e?t.methods:t.properties,n)},t.resetLoggedProperties=function(){r(l).forEach((function(e){delete l[e]}))};var i=n(36),o=a(n(32)),l=s(null)},function(e,t,n){e.exports={default:n(35),__esModule:!0}},function(e,t,n){var s=n(9);e.exports=function(e,t){return s.create(e,t)}},function(e,t,n){var s=n(34).default;t.__esModule=!0,t.createNewLookupObject=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.extend.apply(void 0,[s(null)].concat(t))};var r=n(5)},function(e,t){function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t.default=n,e.exports=t.default},function(e,t,n){var s=n(39).default,r=n(13).default,a=n(3).default,i=n(1).default;t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,n=c.COMPILER_REVISION;if(!(t>=c.LAST_COMPATIBLE_COMPILER_REVISION&&t<=c.COMPILER_REVISION)){if(t<c.LAST_COMPATIBLE_COMPILER_REVISION){var s=c.REVISION_CHANGES[n],r=c.REVISION_CHANGES[t];throw new l.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+s+") or downgrade your runtime to an older version ("+r+").")}throw new l.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},t.template=function(e,t){if(!t)throw new l.default("No environment passed to template");if(!e||!e.main)throw new l.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n=e.compiler&&7===e.compiler[0],a={strict:function(e,t,n){if(!e||!(t in e))throw new l.default('"'+t+'" not defined in '+e,{loc:n});return a.lookupProperty(e,t)},lookupProperty:function(e,t){var n=e[t];return null==n||Object.prototype.hasOwnProperty.call(e,t)||d.resultIsAllowed(n,a.protoAccessControl,t)?n:void 0},lookup:function(e,t){for(var n=e.length,s=0;s<n;s++)if(null!=(e[s]&&a.lookupProperty(e[s],t)))return e[s][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:o.escapeExpression,invokePartial:function(n,s,r){r.hash&&(s=o.extend({},s,r.hash),r.ids&&(r.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,s,r);var a=o.extend({},r,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),i=t.VM.invokePartial.call(this,n,s,a);if(null==i&&t.compile&&(r.partials[r.name]=t.compile(n,e.compilerOptions,t),i=r.partials[r.name](s,a)),null!=i){if(r.indent){for(var c=i.split("\n"),h=0,u=c.length;h<u&&(c[h]||h+1!==u);h++)c[h]=r.indent+c[h];i=c.join("\n")}return i}throw new l.default("The partial "+r.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,s,r){var a=this.programs[e],i=this.fn(e);return t||r||s||n?a=p(this,e,i,t,n,s,r):a||(a=this.programs[e]=p(this,e,i)),a},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=o.extend({},t,e)),n},nullContext:s({}),noop:t.VM.noop,compilerInfo:e.compiler};function i(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=n.data;i._setup(n),!n.partial&&e.useData&&(s=m(t,s));var r=void 0,o=e.useBlockParams?[]:void 0;function l(t){return""+e.main(a,t,a.helpers,a.partials,s,o,r)}return e.useDepths&&(r=n.depths?t!=n.depths[0]?[t].concat(n.depths):n.depths:[t]),(l=g(e.main,l,a,n.depths||[],s,o))(t,n)}return i.isTop=!0,i._setup=function(s){if(s.partial)a.protoAccessControl=s.protoAccessControl,a.helpers=s.helpers,a.partials=s.partials,a.decorators=s.decorators,a.hooks=s.hooks;else{var i=o.extend({},t.helpers,s.helpers);!function(e,t){r(e).forEach((function(n){var s=e[n];e[n]=function(e,t){var n=t.lookupProperty;return u.wrapHelper(e,(function(e){return o.extend({lookupProperty:n},e)}))}(s,t)}))}(i,a),a.helpers=i,e.usePartial&&(a.partials=a.mergeIfNeeded(s.partials,t.partials)),(e.usePartial||e.useDecorators)&&(a.decorators=o.extend({},t.decorators,s.decorators)),a.hooks={},a.protoAccessControl=d.createProtoAccessControl(s);var l=s.allowCallsToHelperMissing||n;h.moveHelperToHooks(a,"helperMissing",l),h.moveHelperToHooks(a,"blockHelperMissing",l)}},i._child=function(t,n,s,r){if(e.useBlockParams&&!s)throw new l.default("must pass block params");if(e.useDepths&&!r)throw new l.default("must pass parent depths");return p(a,t,e[t],n,0,s,r)},i},t.wrapProgram=p,t.resolvePartial=function(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e},t.invokePartial=function(e,t,n){var s=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var r=void 0;if(n.fn&&n.fn!==f&&function(){n.data=c.createFrame(n.data);var e=n.fn;r=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=c.createFrame(n.data),n.data["partial-block"]=s,e(t,n)},e.partials&&(n.partials=o.extend({},n.partials,e.partials))}(),void 0===e&&r&&(e=r),void 0===e)throw new l.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},t.noop=f;var o=a(n(5)),l=i(n(6)),c=n(4),h=n(10),u=n(43),d=n(33);function p(e,t,n,s,r,a,i){function o(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=i;return!i||t==i[0]||t===e.nullContext&&null===i[0]||(o=[t].concat(i)),n(e,t,e.helpers,e.partials,r.data||s,a&&[r.blockParams].concat(a),o)}return(o=g(n,o,e,i,s,a)).program=t,o.depth=i?i.length:0,o.blockParams=r||0,o}function f(){return""}function m(e,t){return t&&"root"in t||((t=t?c.createFrame(t):{}).root=e),t}function g(e,t,n,s,r,a){if(e.decorator){var i={};t=e.decorator(t,i,n,s&&s[0],r,a,s),o.extend(t,i)}return t}},function(e,t,n){e.exports={default:n(40),__esModule:!0}},function(e,t,n){n(41),e.exports=n(21).Object.seal},function(e,t,n){var s=n(42);n(18)("seal",(function(e){return function(t){return e&&s(t)?e(t):t}}))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){t.__esModule=!0,t.wrapHelper=function(e,t){return"function"!=typeof e?e:function(){var n=arguments[arguments.length-1];return arguments[arguments.length-1]=t(n),e.apply(this,arguments)}}},function(e,t){(function(n){t.__esModule=!0,t.default=function(e){var t=void 0!==n?n:window,s=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=s),e}},e.exports=t.default}).call(t,function(){return this}())},function(e,t){t.__esModule=!0;var n={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!n.helpers.scopedId(e)&&!e.depth}}};t.default=n,e.exports=t.default},function(e,t,n){var s=n(1).default,r=n(3).default;t.__esModule=!0,t.parseWithoutProcessing=h,t.parse=function(e,t){var n=h(e,t);return new i.default(t).accept(n)};var a=s(n(47)),i=s(n(48)),o=r(n(50)),l=n(5);t.parser=a.default;var c={};function h(e,t){return"Program"===e.type?e:(a.default.yy=c,c.locInfo=function(e){return new c.SourceLocation(t&&t.srcName,e)},a.default.parse(e))}l.extend(c,o)},function(e,t){t.__esModule=!0;var n=function(){var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,n,s,r,a,i){var o=a.length-1;switch(r){case 1:return a[o-1];case 2:this.$=s.prepareProgram(a[o]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:case 40:case 41:this.$=a[o];break;case 9:this.$={type:"CommentStatement",value:s.stripComment(a[o]),strip:s.stripFlags(a[o],a[o]),loc:s.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:a[o],value:a[o],loc:s.locInfo(this._$)};break;case 11:this.$=s.prepareRawBlock(a[o-2],a[o-1],a[o],this._$);break;case 12:this.$={path:a[o-3],params:a[o-2],hash:a[o-1]};break;case 13:this.$=s.prepareBlock(a[o-3],a[o-2],a[o-1],a[o],!1,this._$);break;case 14:this.$=s.prepareBlock(a[o-3],a[o-2],a[o-1],a[o],!0,this._$);break;case 15:this.$={open:a[o-5],path:a[o-4],params:a[o-3],hash:a[o-2],blockParams:a[o-1],strip:s.stripFlags(a[o-5],a[o])};break;case 16:case 17:this.$={path:a[o-4],params:a[o-3],hash:a[o-2],blockParams:a[o-1],strip:s.stripFlags(a[o-5],a[o])};break;case 18:this.$={strip:s.stripFlags(a[o-1],a[o-1]),program:a[o]};break;case 19:var l=s.prepareBlock(a[o-2],a[o-1],a[o],a[o],!1,this._$),c=s.prepareProgram([l],a[o-1].loc);c.chained=!0,this.$={strip:a[o-2].strip,program:c,chain:!0};break;case 21:this.$={path:a[o-1],strip:s.stripFlags(a[o-2],a[o])};break;case 22:case 23:this.$=s.prepareMustache(a[o-3],a[o-2],a[o-1],a[o-4],s.stripFlags(a[o-4],a[o]),this._$);break;case 24:this.$={type:"PartialStatement",name:a[o-3],params:a[o-2],hash:a[o-1],indent:"",strip:s.stripFlags(a[o-4],a[o]),loc:s.locInfo(this._$)};break;case 25:this.$=s.preparePartialBlock(a[o-2],a[o-1],a[o],this._$);break;case 26:this.$={path:a[o-3],params:a[o-2],hash:a[o-1],strip:s.stripFlags(a[o-4],a[o])};break;case 29:this.$={type:"SubExpression",path:a[o-3],params:a[o-2],hash:a[o-1],loc:s.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:a[o],loc:s.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:s.id(a[o-2]),value:a[o],loc:s.locInfo(this._$)};break;case 32:this.$=s.id(a[o-1]);break;case 35:this.$={type:"StringLiteral",value:a[o],original:a[o],loc:s.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(a[o]),original:Number(a[o]),loc:s.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===a[o],original:"true"===a[o],loc:s.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:s.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:s.locInfo(this._$)};break;case 42:this.$=s.preparePath(!0,a[o],this._$);break;case 43:this.$=s.preparePath(!1,a[o],this._$);break;case 44:a[o-2].push({part:s.id(a[o]),original:a[o],separator:a[o-1]}),this.$=a[o-2];break;case 45:this.$=[{part:s.id(a[o]),original:a[o]}];break;case 46:case 48:case 50:case 58:case 64:case 70:case 78:case 82:case 86:case 90:case 94:this.$=[];break;case 47:case 49:case 51:case 59:case 65:case 71:case 79:case 83:case 87:case 91:case 95:case 99:case 101:a[o-1].push(a[o]);break;case 98:case 100:this.$=[a[o]]}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=[0],n=[null],s=[],r=this.table,a="",i=0,o=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;s.push(l);var c=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var h,u,d,p,f,m,g,_,y,b={};;){if(u=t[t.length-1],this.defaultActions[u]?d=this.defaultActions[u]:(null==h&&(y=void 0,"number"!=typeof(y=this.lexer.lex()||1)&&(y=this.symbols_[y]||y),h=y),d=r[u]&&r[u][h]),void 0===d||!d.length||!d[0]){var v;for(f in _=[],r[u])this.terminals_[f]&&f>2&&_.push("'"+this.terminals_[f]+"'");v=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[h]||h)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==h?"end of input":"'"+(this.terminals_[h]||h)+"'"),this.parseError(v,{text:this.lexer.match,token:this.terminals_[h]||h,line:this.lexer.yylineno,loc:l,expected:_})}if(d[0]instanceof Array&&d.length>1)throw new Error("Parse Error: multiple actions possible at state: "+u+", token: "+h);switch(d[0]){case 1:t.push(h),n.push(this.lexer.yytext),s.push(this.lexer.yylloc),t.push(d[1]),h=null,o=this.lexer.yyleng,a=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc;break;case 2:if(m=this.productions_[d[1]][1],b.$=n[n.length-m],b._$={first_line:s[s.length-(m||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(m||1)].first_column,last_column:s[s.length-1].last_column},c&&(b._$.range=[s[s.length-(m||1)].range[0],s[s.length-1].range[1]]),void 0!==(p=this.performAction.call(b,a,o,i,this.yy,d[1],n,s)))return p;m&&(t=t.slice(0,-1*m*2),n=n.slice(0,-1*m),s=s.slice(0,-1*m)),t.push(this.productions_[d[1]][0]),n.push(b.$),s.push(b._$),g=r[t[t.length-2]][t[t.length-1]],t.push(g);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var s=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===s.length?this.yylloc.first_column:0)+s[s.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,s,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var a=this._currentRules(),i=0;i<a.length&&(!(n=this._input.match(this.rules[a[i]]))||t&&!(n[0].length>t[0].length)||(t=n,s=i,this.options.flex));i++);return t?((r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,a[s],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,s){function r(e,n){return t.yytext=t.yytext.substring(e,t.yyleng-n+e)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:case 5:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(r(5,9),"END_RAW_BLOCK");case 6:case 22:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:case 23:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 24:return 73;case 25:case 26:case 41:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=r(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=r(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return e}();function n(){this.yy={}}return e.lexer=t,n.prototype=e,e.Parser=n,new n}();t.default=n,e.exports=t.default},function(e,t,n){var s=n(1).default;t.__esModule=!0;var r=s(n(49));function a(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function i(e,t,n){void 0===t&&(t=e.length);var s=e[t-1],r=e[t-2];return s?"ContentStatement"===s.type?(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(s.original):void 0:n}function o(e,t,n){void 0===t&&(t=-1);var s=e[t+1],r=e[t+2];return s?"ContentStatement"===s.type?(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(s.original):void 0:n}function l(e,t,n){var s=e[null==t?0:t+1];if(s&&"ContentStatement"===s.type&&(n||!s.rightStripped)){var r=s.value;s.value=s.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),s.rightStripped=s.value!==r}}function c(e,t,n){var s=e[null==t?e.length-1:t-1];if(s&&"ContentStatement"===s.type&&(n||!s.leftStripped)){var r=s.value;return s.value=s.value.replace(n?/\s+$/:/[ \t]+$/,""),s.leftStripped=s.value!==r,s.leftStripped}}a.prototype=new r.default,a.prototype.Program=function(e){var t=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var s=e.body,r=0,a=s.length;r<a;r++){var h=s[r],u=this.accept(h);if(u){var d=i(s,r,n),p=o(s,r,n),f=u.openStandalone&&d,m=u.closeStandalone&&p,g=u.inlineStandalone&&d&&p;u.close&&l(s,r,!0),u.open&&c(s,r,!0),t&&g&&(l(s,r),c(s,r)&&"PartialStatement"===h.type&&(h.indent=/([ \t]+$)/.exec(s[r-1].original)[1])),t&&f&&(l((h.program||h.inverse).body),c(s,r)),t&&m&&(l(s,r),c((h.inverse||h.program).body))}}return e},a.prototype.BlockStatement=a.prototype.DecoratorBlock=a.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,s=n,r=n;if(n&&n.chained)for(s=n.body[0].program;r.chained;)r=r.body[r.body.length-1].program;var a={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:o(t.body),closeStandalone:i((s||t).body)};if(e.openStrip.close&&l(t.body,null,!0),n){var h=e.inverseStrip;h.open&&c(t.body,null,!0),h.close&&l(s.body,null,!0),e.closeStrip.open&&c(r.body,null,!0),!this.options.ignoreStandalone&&i(t.body)&&o(s.body)&&(c(t.body),l(s.body))}else e.closeStrip.open&&c(t.body,null,!0);return a},a.prototype.Decorator=a.prototype.MustacheStatement=function(e){return e.strip},a.prototype.PartialStatement=a.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t.default=a,e.exports=t.default},function(e,t,n){var s=n(1).default;t.__esModule=!0;var r=s(n(6));function a(){this.parents=[]}function i(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function o(e){i.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function l(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}a.prototype={constructor:a,mutating:!1,acceptKey:function(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!a.prototype[n.type])throw new r.default('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new r.default(e.type+" requires "+t)},acceptArray:function(e){for(var t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function(e){if(e){if(!this[e.type])throw new r.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:i,Decorator:i,BlockStatement:o,DecoratorBlock:o,PartialStatement:l,PartialBlockStatement:function(e){l.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:i,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t.default=a,e.exports=t.default},function(e,t,n){var s=n(1).default;t.__esModule=!0,t.SourceLocation=function(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}},t.id=function(e){return/^\[.*\]$/.test(e)?e.substring(1,e.length-1):e},t.stripFlags=function(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}},t.stripComment=function(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},t.preparePath=function(e,t,n){n=this.locInfo(n);for(var s=e?"@":"",a=[],i=0,o=0,l=t.length;o<l;o++){var c=t[o].part,h=t[o].original!==c;if(s+=(t[o].separator||"")+c,h||".."!==c&&"."!==c&&"this"!==c)a.push(c);else{if(a.length>0)throw new r.default("Invalid path: "+s,{loc:n});".."===c&&i++}}return{type:"PathExpression",data:e,depth:i,parts:a,original:s,loc:n}},t.prepareMustache=function(e,t,n,s,r,a){var i=s.charAt(3)||s.charAt(2),o="{"!==i&&"&"!==i;return{type:/\*/.test(s)?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:o,strip:r,loc:this.locInfo(a)}},t.prepareRawBlock=function(e,t,n,s){a(e,n);var r={type:"Program",body:t,strip:{},loc:s=this.locInfo(s)};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:r,openStrip:{},inverseStrip:{},closeStrip:{},loc:s}},t.prepareBlock=function(e,t,n,s,i,o){s&&s.path&&a(e,s);var l=/\*/.test(e.open);t.blockParams=e.blockParams;var c=void 0,h=void 0;if(n){if(l)throw new r.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=s.strip),h=n.strip,c=n.program}return i&&(i=c,c=t,t=i),{type:l?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:c,openStrip:e.strip,inverseStrip:h,closeStrip:s&&s.strip,loc:this.locInfo(o)}},t.prepareProgram=function(e,t){if(!t&&e.length){var n=e[0].loc,s=e[e.length-1].loc;n&&s&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:s.end.line,column:s.end.column}})}return{type:"Program",body:e,strip:{},loc:t}},t.preparePartialBlock=function(e,t,n,s){return a(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(s)}};var r=s(n(6));function a(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var n={loc:e.path.loc};throw new r.default(e.path.original+" doesn't match "+t,n)}}},function(e,t,n){var s=n(34).default,r=n(1).default;t.__esModule=!0,t.Compiler=c,t.precompile=function(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new a.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);"data"in(t=t||{})||(t.data=!0),t.compat&&(t.useDepths=!0);var s=n.parse(e,t),r=(new n.Compiler).compile(s,t);return(new n.JavaScriptCompiler).compile(r,t)},t.compile=function(e,t,n){if(void 0===t&&(t={}),null==e||"string"!=typeof e&&"Program"!==e.type)throw new a.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in(t=i.extend({},t))||(t.data=!0),t.compat&&(t.useDepths=!0);var s=void 0;function r(){var s=n.parse(e,t),r=(new n.Compiler).compile(s,t),a=(new n.JavaScriptCompiler).compile(r,t,void 0,!0);return n.template(a)}function o(e,t){return s||(s=r()),s.call(this,e,t)}return o._setup=function(e){return s||(s=r()),s._setup(e)},o._child=function(e,t,n,a){return s||(s=r()),s._child(e,t,n,a)},o};var a=r(n(6)),i=n(5),o=r(n(45)),l=[].slice;function c(){}function h(e,t){if(e===t)return!0;if(i.isArray(e)&&i.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!h(e[n],t[n]))return!1;return!0}}function u(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}c.prototype={compiler:c,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var s=this.opcodes[n],r=e.opcodes[n];if(s.opcode!==r.opcode||!h(s.args,r.args))return!1}for(t=this.children.length,n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[],t.knownHelpers=i.extend(s(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},t.knownHelpers),this.accept(e)},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),n=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[n]=t,this.useDepths=this.useDepths||t.useDepths,n},accept:function(e){if(!this[e.type])throw new a.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,s=0;s<n;s++)this.accept(t[s]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){u(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);var s=this.classifySexpr(e);"helper"===s?this.helperSexpr(e,t,n):"simple"===s?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,void 0),s=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,s.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new a.default("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var s=e.name.original,r="SubExpression"===e.name.type;r&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var i=e.indent||"";this.options.preventIndent&&i&&(this.opcode("appendContent",i),i=""),this.opcode("invokePartial",r,s,i),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){u(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,n){var s=e.path,r=s.parts[0],a=null!=t||null!=n;this.opcode("getContext",s.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),s.strict=!0,this.accept(s),this.opcode("invokeAmbiguous",r,a)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var s=this.setupFullMustacheParams(e,t,n),r=e.path,i=r.parts[0];if(this.options.knownHelpers[i])this.opcode("invokeKnownHelper",s.length,i);else{if(this.options.knownHelpersOnly)throw new a.default("You specified knownHelpersOnly, but used the unknown helper "+i,e);r.strict=!0,r.falsy=!0,this.accept(r),this.opcode("invokeHelper",s.length,r.original,o.default.helpers.simpleId(r))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=o.default.helpers.scopedId(e),s=!e.depth&&!n&&this.blockParamIndex(t);s?this.opcode("lookupBlockParam",s,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,n=0,s=t.length;for(this.opcode("pushHash");n<s;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:l.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=o.default.helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),s=!n&&o.default.helpers.helperExpression(e),r=!n&&(s||t);if(r&&!s){var a=e.path.parts[0],i=this.options;i.knownHelpers[a]?s=!0:i.knownHelpersOnly&&(r=!1)}return s?"helper":r?"ambiguous":"simple"},pushParams:function(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n=void 0;if(!e.parts||o.default.helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var s=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,s)}else(t=e.original||t).replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,n,s){var r=e.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",s),r},blockParamIndex:function(e){for(var t=0,n=this.options.blockParams.length;t<n;t++){var s=this.options.blockParams[t],r=s&&i.indexOf(s,e);if(s&&r>=0)return[t,r]}}}},function(e,t,n){var s=n(13).default,r=n(1).default;t.__esModule=!0;var a=n(4),i=r(n(6)),o=n(5),l=r(n(53));function c(e){this.value=e}function h(){}h.prototype={nameLookup:function(e,t){return this.internalNameLookup(e,t)},depthedLookup:function(e){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(e),")"]},compilerInfo:function(){var e=a.COMPILER_REVISION;return[e,a.REVISION_CHANGES[e]]},appendToBuffer:function(e,t,n){return o.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(e,t){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",e,",",JSON.stringify(t),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(e,t,n,s){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!s,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var r=e.opcodes,a=void 0,o=void 0,l=void 0,c=void 0;for(l=0,c=r.length;l<c;l++)a=r[l],this.source.currentLocation=a.loc,o=o||a.loc,this[a.opcode].apply(this,a.args);if(this.source.currentLocation=o,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new i.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),s?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var h=this.createFunctionContext(s);if(this.isChild)return h;var u={compiler:this.compilerInfo(),main:h};this.decorators&&(u.main_d=this.decorators,u.useDecorators=!0);var d=this.context,p=d.programs,f=d.decorators;for(l=0,c=p.length;l<c;l++)p[l]&&(u[l]=p[l],f[l]&&(u[l+"_d"]=f[l],u.useDecorators=!0));return this.environment.usePartial&&(u.usePartial=!0),this.options.data&&(u.useData=!0),this.useDepths&&(u.useDepths=!0),this.useBlockParams&&(u.useBlockParams=!0),this.options.compat&&(u.compat=!0),s?u.compilerOptions=this.options:(u.compiler=JSON.stringify(u.compiler),this.source.currentLocation={start:{line:1,column:0}},u=this.objectLiteral(u),t.srcName?(u=u.toStringWithSourceMap({file:t.destName})).map=u.map&&u.map.toString():u=u.toString()),u},preamble:function(){this.lastContext=0,this.source=new l.default(this.options.srcName),this.decorators=new l.default(this.options.srcName)},createFunctionContext:function(e){var t=this,n="",r=this.stackVars.concat(this.registers.list);r.length>0&&(n+=", "+r.join(", "));var a=0;s(this.aliases).forEach((function(e){var s=t.aliases[e];s.children&&s.referenceCount>1&&(n+=", alias"+ ++a+"="+e,s.children[0]="alias"+a)})),this.lookupPropertyFunctionIsUsed&&(n+=", "+this.lookupPropertyFunctionVarDeclaration());var i=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&i.push("blockParams"),this.useDepths&&i.push("depths");var o=this.mergeSource(n);return e?(i.push(o),Function.apply(this,i)):this.source.wrap(["function(",i.join(","),") {\n  ",o,"}"])},mergeSource:function(e){var t=this.environment.isSimple,n=!this.forceBuffer,s=void 0,r=void 0,a=void 0,i=void 0;return this.source.each((function(e){e.appendToBuffer?(a?e.prepend("  + "):a=e,i=e):(a&&(r?a.prepend("buffer += "):s=!0,i.add(";"),a=i=void 0),r=!0,t||(n=!1))})),n?a?(a.prepend("return "),i.add(";")):r||this.source.push('return "";'):(e+=", buffer = "+(s?"":this.initializeBuffer()),a?(a.prepend("return buffer + "),i.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(s?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(e){var t=this.aliasable("container.hooks.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var s=this.popStack();n.splice(1,0,s),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function(){var e=this.aliasable("container.hooks.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack((function(e){return[" != null ? ",e,' : ""']})),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,n,s){var r=0;s||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[r++])),this.resolvePath("context",e,r,t,n)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function(e,t,n,s,r){var a=this;if(this.options.strict||this.options.assumeObjects)this.push(function(e,t,n,s){var r=t.popStack(),a=0,i=n.length;for(e&&i--;a<i;a++)r=t.nameLookup(r,n[a],s);return e?[t.aliasable("container.strict"),"(",r,", ",t.quotedString(n[a]),", ",JSON.stringify(t.source.currentLocation)," )"]:r}(this.options.strict&&r,this,t,e));else for(var i=t.length;n<i;n++)this.replaceStack((function(r){var i=a.nameLookup(r,t[n],e);return s?[" && ",i]:[" != null ? ",i," : ",r]}))},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var n=this.nameLookup("decorators",t,"decorator"),s=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",s])," || fn;"])},invokeHelper:function(e,t,n){var s=this.popStack(),r=this.setupHelper(e,t),a=[];n&&a.push(r.name),a.push(s),this.options.strict||a.push(this.aliasable("container.hooks.helperMissing"));var i=["(",this.itemsSeparatedBy(a,"||"),")"],o=this.source.functionCall(i,"call",r.callParams);this.push(o)},itemsSeparatedBy:function(e,t){var n=[];n.push(e[0]);for(var s=1;s<e.length;s++)n.push(t,e[s]);return n},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var n=this.popStack();this.emptyHash();var s=this.setupHelper(0,e,t),r=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",e,"helper")," || ",n,")"];this.options.strict||(r[0]="(helper = ",r.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",r,s.paramsInit?["),(",s.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",s.callParams)," : helper))"])},invokePartial:function(e,t,n){var s=[],r=this.setupParams(t,1,s);e&&(t=this.popStack(),delete r.name),n&&(r.indent=JSON.stringify(n)),r.helpers="helpers",r.partials="partials",r.decorators="container.decorators",e?s.unshift(t):s.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),s.push(r),this.push(this.source.functionCall("container.invokePartial","",s))},assignToHash:function(e){var t=this.popStack(),n=void 0,s=void 0,r=void 0;this.trackIds&&(r=this.popStack()),this.stringParams&&(s=this.popStack(),n=this.popStack());var a=this.hash;n&&(a.contexts[e]=n),s&&(a.types[e]=s),r&&(a.ids[e]=r),a.values[e]=t},pushId:function(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:h,compileChildren:function(e,t){for(var n=e.children,s=void 0,r=void 0,a=0,i=n.length;a<i;a++){s=n[a],r=new this.compiler;var o=this.matchExistingProgram(s);if(null==o){this.context.programs.push("");var l=this.context.programs.length;s.index=l,s.name="program"+l,this.context.programs[l]=r.compile(s,t,this.context,!this.precompile),this.context.decorators[l]=r.decorators,this.context.environments[l]=s,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams,s.useDepths=this.useDepths,s.useBlockParams=this.useBlockParams}else s.index=o.index,s.name="program"+o.index,this.useDepths=this.useDepths||o.useDepths,this.useBlockParams=this.useBlockParams||o.useBlockParams}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;t<n;t++){var s=this.context.environments[t];if(s&&s.equals(e))return s}},programExpression:function(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof c||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new c(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],n=void 0,s=void 0,r=void 0;if(!this.isInline())throw new i.default("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof c)t=["(",n=[a.value]],r=!0;else{s=!0;var o=this.incrStack();t=["((",this.push(o)," = ",a,")"],n=this.topStack()}var l=e.call(this,n);r||this.popStack(),s&&this.stackSlot--,this.push(t.concat(l,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var s=e[t];if(s instanceof c)this.compileStack.push(s);else{var r=this.incrStack();this.pushSource([r," = ",s,";"]),this.compileStack.push(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof c)return n.value;if(!t){if(!this.stackSlot)throw new i.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof c?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):((t=this.aliases[e]=this.source.wrap(e)).aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,n){var s=[];return{params:s,paramsInit:this.setupHelperArgs(t,e,s,n),name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(s)}},setupParams:function(e,t,n){var s={},r=[],a=[],i=[],o=!n,l=void 0;o&&(n=[]),s.name=this.quotedString(e),s.hash=this.popStack(),this.trackIds&&(s.hashIds=this.popStack()),this.stringParams&&(s.hashTypes=this.popStack(),s.hashContexts=this.popStack());var c=this.popStack(),h=this.popStack();(h||c)&&(s.fn=h||"container.noop",s.inverse=c||"container.noop");for(var u=t;u--;)l=this.popStack(),n[u]=l,this.trackIds&&(i[u]=this.popStack()),this.stringParams&&(a[u]=this.popStack(),r[u]=this.popStack());return o&&(s.args=this.source.generateArray(n)),this.trackIds&&(s.ids=this.source.generateArray(i)),this.stringParams&&(s.types=this.source.generateArray(a),s.contexts=this.source.generateArray(r)),this.options.data&&(s.data="data"),this.useBlockParams&&(s.blockParams="blockParams"),s},setupHelperArgs:function(e,t,n,s){var r=this.setupParams(e,t,n);return r.loc=JSON.stringify(this.source.currentLocation),r=this.objectLiteral(r),s?(this.useRegister("options"),n.push("options"),["options=",r]):n?(n.push(r),""):r}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=h.RESERVED_WORDS={},n=0,s=e.length;n<s;n++)t[e[n]]=!0}(),h.isValidJavaScriptVariableName=function(e){return!h.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t.default=h,e.exports=t.default},function(e,t,n){var s=n(13).default;t.__esModule=!0;var r=n(5),a=void 0;function i(e,t,n){if(r.isArray(e)){for(var s=[],a=0,i=e.length;a<i;a++)s.push(t.wrap(e[a],n));return s}return"boolean"==typeof e||"number"==typeof e?e+"":e}function o(e){this.srcFile=e,this.source=[]}a||((a=function(e,t,n,s){this.src="",s&&this.add(s)}).prototype={add:function(e){r.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){r.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),o.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each((function(t){e.add(["  ",t,"\n"])})),e},each:function(e){for(var t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new a(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof a?e:(e=i(e,this,t),new a(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=this,n=[];s(e).forEach((function(s){var r=i(e[s],t);"undefined"!==r&&n.push([t.quotedString(s),":",r])}));var r=this.generateList(n);return r.prepend("{"),r.add("}"),r},generateList:function(e){for(var t=this.empty(),n=0,s=e.length;n<s;n++)n&&t.add(","),t.add(i(e[n],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t.default=o,e.exports=t.default}]));
/**!

 @license
 handlebars v4.7.7

Copyright (C) 2011-2019 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/function o(e){return"string"==typeof e}function l(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}var h,u=Object.freeze({__proto__:null,opr:function(e,t,n){if("=="===t)return e==n;if("==="===t)return e===n;if("!="===t)return e!=n;if("!=="===t)return e!==n;if("<"===t)return e<n;if(">"===t)return e>n;if("<="===t)return e<=n;if(">="===t)return e>=n;throw new Error(`opr helper operator: ${t} is invalid`)},eq:function(e,t){return e===t},eqw:function(e,t){return e==t},neq:function(e,t){return e!==t},neqw:function(e,t){return e!=t},lt:function(e,t){return e<t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t},lte:function(e,t){return e<=t},ifx:function(e,t,n){return l(n)&&"ifx"===n.name&&n.hasOwnProperty("hash")&&(n=""),e?t:n},not:function(e){return!e},empty:function(e){return"string"==typeof e?e=e.replace(/^[\s]+|[\s]+$/g,""):Array.isArray(e)&&0===e.length&&(e=null),!e},notEmpty:function(e){return"string"==typeof e?e=e.replace(/^[\s]+|[\s]+$/g,""):Array.isArray(e)&&0===e.length&&(e=null),!!e},count:function(e){return!!c(e)&&e.length},and:function(...e){l(e[e.length-1])&&e.pop();for(let t=0;t<e.length;t++)if(!e[t])return!1;return!0},or:function(...e){l(e[e.length-1])&&e.pop();for(let t=0;t<e.length;t++)if(e[t])return!0;return!1},coalesce:function(...e){l(e[e.length-1])&&e.pop();for(let t=0;t<e.length;t++)if(e[t])return e[t];return e.pop()},includes:function(e,t,n=!0){if(!c(e)||0===e.length)return!1;for(let s=0;s<e.length;s++)if(n&&e[s]===t||!n&&e[s]==t)return!0;return!1}}),d={exports:{}};(h=d).exports=function(){var e,t;function n(){return e.apply(null,arguments)}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function i(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(a(e,t))return!1;return!0}function o(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}function d(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,s){return wt(e,t,n,s,!0).utc()}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var n=f(e),s=t.call(n.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidEra&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&s);if(e._strict&&(r=r&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function g(e){var t=p(NaN);return null!=e?d(f(t),e):f(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),s=n.length>>>0;for(t=0;t<s;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var _=n.momentProperties=[],y=!1;function b(e,t){var n,s,r;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=f(t)),o(t._locale)||(e._locale=t._locale),_.length>0)for(n=0;n<_.length;n++)o(r=t[s=_[n]])||(e[s]=r);return e}function v(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,n.updateOffset(this),y=!1)}function S(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function A(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function x(e,t){var s=!0;return d((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),s){var r,i,o,l=[];for(i=0;i<arguments.length;i++){if(r="","object"==typeof arguments[i]){for(o in r+="\n["+i+"] ",arguments[0])a(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[i];l.push(r)}A(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),s=!1}return t.apply(this,arguments)}),t)}var w,k={};function P(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),k[e]||(A(t),k[e]=!0)}function C(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function T(e,t){var n,s=d({},e);for(n in t)a(t,n)&&(r(e[n])&&r(t[n])?(s[n]={},d(s[n],e[n]),d(s[n],t[n])):null!=t[n]?s[n]=t[n]:delete s[n]);for(n in e)a(e,n)&&!a(t,n)&&r(e[n])&&(s[n]=d({},s[n]));return s}function M(e){null!=e&&this.set(e)}function E(e,t,n){var s=""+Math.abs(e),r=t-s.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+s}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,w=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)a(e,t)&&n.push(t);return n};var R=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,D={},O={};function L(e,t,n,s){var r=s;"string"==typeof s&&(r=function(){return this[s]()}),e&&(O[e]=r),t&&(O[t[0]]=function(){return E(r.apply(this,arguments),t[1],t[2])}),n&&(O[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function I(e,t){return e.isValid()?(t=N(t,e.localeData()),D[t]=D[t]||function(e){var t,n,s,r=e.match(R);for(t=0,n=r.length;t<n;t++)O[r[t]]?r[t]=O[r[t]]:r[t]=(s=r[t]).match(/\[[\s\S]/)?s.replace(/^\[|\]$/g,""):s.replace(/\\/g,"");return function(t){var s,a="";for(s=0;s<n;s++)a+=C(r[s])?r[s].call(t,e):r[s];return a}}(t),D[t](e)):e.localeData().invalidDate()}function N(e,t){var n=5;function s(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;n>=0&&F.test(e);)e=e.replace(F,s),F.lastIndex=0,n-=1;return e}var j={};function B(e,t){var n=e.toLowerCase();j[n]=j[n+"s"]=j[t]=e}function z(e){return"string"==typeof e?j[e]||j[e.toLowerCase()]:void 0}function U(e){var t,n,s={};for(n in e)a(e,n)&&(t=z(n))&&(s[t]=e[n]);return s}var W={};function H(e,t){W[e]=t}function Y(e){return e%4==0&&e%100!=0||e%400==0}function q(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function V(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=q(t)),n}function G(e,t){return function(s){return null!=s?(X(this,e,s),n.updateOffset(this,t),this):$(this,e)}}function $(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function X(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Y(e.year())&&1===e.month()&&29===e.date()?(n=V(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Se(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var K,Z=/\d/,J=/\d\d/,Q=/\d{3}/,ee=/\d{4}/,te=/[+-]?\d{6}/,ne=/\d\d?/,se=/\d\d\d\d?/,re=/\d\d\d\d\d\d?/,ae=/\d{1,3}/,ie=/\d{1,4}/,oe=/[+-]?\d{1,6}/,le=/\d+/,ce=/[+-]?\d+/,he=/Z|[+-]\d\d:?\d\d/gi,ue=/Z|[+-]\d\d(?::?\d\d)?/gi,de=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function pe(e,t,n){K[e]=C(t)?t:function(e,s){return e&&n?n:t}}function fe(e,t){return a(K,e)?K[e](t._strict,t._locale):new RegExp(me(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,s,r){return t||n||s||r}))))}function me(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}K={};var ge,_e={};function ye(e,t){var n,s=t;for("string"==typeof e&&(e=[e]),l(t)&&(s=function(e,n){n[t]=V(e)}),n=0;n<e.length;n++)_e[e[n]]=s}function be(e,t){ye(e,(function(e,n,s,r){s._w=s._w||{},t(e,s._w,s,r)}))}function ve(e,t,n){null!=t&&a(_e,e)&&_e[e](t,n._a,n,e)}function Se(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return e+=(t-n)/12,1===n?Y(e)?29:28:31-n%7%2}ge=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},L("M",["MM",2],"Mo",(function(){return this.month()+1})),L("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),L("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),B("month","M"),H("month",8),pe("M",ne),pe("MM",ne,J),pe("MMM",(function(e,t){return t.monthsShortRegex(e)})),pe("MMMM",(function(e,t){return t.monthsRegex(e)})),ye(["M","MM"],(function(e,t){t[1]=V(e)-1})),ye(["MMM","MMMM"],(function(e,t,n,s){var r=n._locale.monthsParse(e,s,n._strict);null!=r?t[1]=r:f(n).invalidMonth=e}));var Ae="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),we=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ke=de,Pe=de;function Ce(e,t,n){var s,r,a,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)a=p([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=ge.call(this._shortMonthsParse,i))?r:null:-1!==(r=ge.call(this._longMonthsParse,i))?r:null:"MMM"===t?-1!==(r=ge.call(this._shortMonthsParse,i))||-1!==(r=ge.call(this._longMonthsParse,i))?r:null:-1!==(r=ge.call(this._longMonthsParse,i))||-1!==(r=ge.call(this._shortMonthsParse,i))?r:null}function Te(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=V(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Se(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Me(e){return null!=e?(Te(this,e),n.updateOffset(this,!0),this):$(this,"Month")}function Ee(){function e(e,t){return t.length-e.length}var t,n,s=[],r=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),s.push(this.monthsShort(n,"")),r.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(s.sort(e),r.sort(e),a.sort(e),t=0;t<12;t++)s[t]=me(s[t]),r[t]=me(r[t]);for(t=0;t<24;t++)a[t]=me(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Re(e){return Y(e)?366:365}L("Y",0,0,(function(){var e=this.year();return e<=9999?E(e,4):"+"+e})),L(0,["YY",2],0,(function(){return this.year()%100})),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),B("year","y"),H("year",1),pe("Y",ce),pe("YY",ne,J),pe("YYYY",ie,ee),pe("YYYYY",oe,te),pe("YYYYYY",oe,te),ye(["YYYYY","YYYYYY"],0),ye("YYYY",(function(e,t){t[0]=2===e.length?n.parseTwoDigitYear(e):V(e)})),ye("YY",(function(e,t){t[0]=n.parseTwoDigitYear(e)})),ye("Y",(function(e,t){t[0]=parseInt(e,10)})),n.parseTwoDigitYear=function(e){return V(e)+(V(e)>68?1900:2e3)};var Fe=G("FullYear",!0);function De(e,t,n,s,r,a,i){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,s,r,a,i),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,s,r,a,i),o}function Oe(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Le(e,t,n){var s=7+t-n;return-(7+Oe(e,0,s).getUTCDay()-t)%7+s-1}function Ie(e,t,n,s,r){var a,i,o=1+7*(t-1)+(7+n-s)%7+Le(e,s,r);return o<=0?i=Re(a=e-1)+o:o>Re(e)?(a=e+1,i=o-Re(e)):(a=e,i=o),{year:a,dayOfYear:i}}function Ne(e,t,n){var s,r,a=Le(e.year(),t,n),i=Math.floor((e.dayOfYear()-a-1)/7)+1;return i<1?s=i+je(r=e.year()-1,t,n):i>je(e.year(),t,n)?(s=i-je(e.year(),t,n),r=e.year()+1):(r=e.year(),s=i),{week:s,year:r}}function je(e,t,n){var s=Le(e,t,n),r=Le(e+1,t,n);return(Re(e)-s+r)/7}function Be(e,t){return e.slice(t,7).concat(e.slice(0,t))}L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),B("week","w"),B("isoWeek","W"),H("week",5),H("isoWeek",5),pe("w",ne),pe("ww",ne,J),pe("W",ne),pe("WW",ne,J),be(["w","ww","W","WW"],(function(e,t,n,s){t[s.substr(0,1)]=V(e)})),L("d",0,"do","day"),L("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),L("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),L("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),B("day","d"),B("weekday","e"),B("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),pe("d",ne),pe("e",ne),pe("E",ne),pe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),pe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),pe("dddd",(function(e,t){return t.weekdaysRegex(e)})),be(["dd","ddd","dddd"],(function(e,t,n,s){var r=n._locale.weekdaysParse(e,s,n._strict);null!=r?t.d=r:f(n).invalidWeekday=e})),be(["d","e","E"],(function(e,t,n,s){t[s]=V(e)}));var ze="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ue="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),We="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),He=de,Ye=de,qe=de;function Ve(e,t,n){var s,r,a,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)a=p([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=ge.call(this._weekdaysParse,i))?r:null:"ddd"===t?-1!==(r=ge.call(this._shortWeekdaysParse,i))?r:null:-1!==(r=ge.call(this._minWeekdaysParse,i))?r:null:"dddd"===t?-1!==(r=ge.call(this._weekdaysParse,i))||-1!==(r=ge.call(this._shortWeekdaysParse,i))||-1!==(r=ge.call(this._minWeekdaysParse,i))?r:null:"ddd"===t?-1!==(r=ge.call(this._shortWeekdaysParse,i))||-1!==(r=ge.call(this._weekdaysParse,i))||-1!==(r=ge.call(this._minWeekdaysParse,i))?r:null:-1!==(r=ge.call(this._minWeekdaysParse,i))||-1!==(r=ge.call(this._weekdaysParse,i))||-1!==(r=ge.call(this._shortWeekdaysParse,i))?r:null}function Ge(){function e(e,t){return t.length-e.length}var t,n,s,r,a,i=[],o=[],l=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),s=me(this.weekdaysMin(n,"")),r=me(this.weekdaysShort(n,"")),a=me(this.weekdays(n,"")),i.push(s),o.push(r),l.push(a),c.push(s),c.push(r),c.push(a);i.sort(e),o.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function $e(){return this.hours()%12||12}function Xe(e,t){L(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Ke(e,t){return t._meridiemParse}L("H",["HH",2],0,"hour"),L("h",["hh",2],0,$e),L("k",["kk",2],0,(function(){return this.hours()||24})),L("hmm",0,0,(function(){return""+$e.apply(this)+E(this.minutes(),2)})),L("hmmss",0,0,(function(){return""+$e.apply(this)+E(this.minutes(),2)+E(this.seconds(),2)})),L("Hmm",0,0,(function(){return""+this.hours()+E(this.minutes(),2)})),L("Hmmss",0,0,(function(){return""+this.hours()+E(this.minutes(),2)+E(this.seconds(),2)})),Xe("a",!0),Xe("A",!1),B("hour","h"),H("hour",13),pe("a",Ke),pe("A",Ke),pe("H",ne),pe("h",ne),pe("k",ne),pe("HH",ne,J),pe("hh",ne,J),pe("kk",ne,J),pe("hmm",se),pe("hmmss",re),pe("Hmm",se),pe("Hmmss",re),ye(["H","HH"],3),ye(["k","kk"],(function(e,t,n){var s=V(e);t[3]=24===s?0:s})),ye(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),ye(["h","hh"],(function(e,t,n){t[3]=V(e),f(n).bigHour=!0})),ye("hmm",(function(e,t,n){var s=e.length-2;t[3]=V(e.substr(0,s)),t[4]=V(e.substr(s)),f(n).bigHour=!0})),ye("hmmss",(function(e,t,n){var s=e.length-4,r=e.length-2;t[3]=V(e.substr(0,s)),t[4]=V(e.substr(s,2)),t[5]=V(e.substr(r)),f(n).bigHour=!0})),ye("Hmm",(function(e,t,n){var s=e.length-2;t[3]=V(e.substr(0,s)),t[4]=V(e.substr(s))})),ye("Hmmss",(function(e,t,n){var s=e.length-4,r=e.length-2;t[3]=V(e.substr(0,s)),t[4]=V(e.substr(s,2)),t[5]=V(e.substr(r))}));var Ze,Je=G("Hours",!0),Qe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ae,monthsShort:xe,week:{dow:0,doy:6},weekdays:ze,weekdaysMin:We,weekdaysShort:Ue,meridiemParse:/[ap]\.?m?\.?/i},et={},tt={};function nt(e,t){var n,s=Math.min(e.length,t.length);for(n=0;n<s;n+=1)if(e[n]!==t[n])return n;return s}function st(e){return e?e.toLowerCase().replace("_","-"):e}function rt(e){var t=null;if(void 0===et[e]&&h&&h.exports)try{t=Ze._abbr,function(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}("./locale/"+e),at(t)}catch(t){et[e]=null}return et[e]}function at(e,t){var n;return e&&((n=o(t)?ot(e):it(e,t))?Ze=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Ze._abbr}function it(e,t){if(null!==t){var n,s=Qe;if(t.abbr=e,null!=et[e])P("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=et[e]._config;else if(null!=t.parentLocale)if(null!=et[t.parentLocale])s=et[t.parentLocale]._config;else{if(null==(n=rt(t.parentLocale)))return tt[t.parentLocale]||(tt[t.parentLocale]=[]),tt[t.parentLocale].push({name:e,config:t}),null;s=n._config}return et[e]=new M(T(s,t)),tt[e]&&tt[e].forEach((function(e){it(e.name,e.config)})),at(e),et[e]}return delete et[e],null}function ot(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ze;if(!s(e)){if(t=rt(e))return t;e=[e]}return function(e){for(var t,n,s,r,a=0;a<e.length;){for(t=(r=st(e[a]).split("-")).length,n=(n=st(e[a+1]))?n.split("-"):null;t>0;){if(s=rt(r.slice(0,t).join("-")))return s;if(n&&n.length>=t&&nt(r,n)>=t-1)break;t--}a++}return Ze}(e)}function lt(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>Se(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,f(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),f(e)._overflowWeeks&&-1===t&&(t=7),f(e)._overflowWeekday&&-1===t&&(t=8),f(e).overflow=t),e}var ct=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ut=/Z|[+-]\d\d(?::?\d\d)?/,dt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ft=/^\/?Date\((-?\d+)/i,mt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,gt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function _t(e){var t,n,s,r,a,i,o=e._i,l=ct.exec(o)||ht.exec(o);if(l){for(f(e).iso=!0,t=0,n=dt.length;t<n;t++)if(dt[t][1].exec(l[1])){r=dt[t][0],s=!1!==dt[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=pt.length;t<n;t++)if(pt[t][1].exec(l[3])){a=(l[2]||" ")+pt[t][0];break}if(null==a)return void(e._isValid=!1)}if(!s&&null!=a)return void(e._isValid=!1);if(l[4]){if(!ut.exec(l[4]))return void(e._isValid=!1);i="Z"}e._f=r+(a||"")+(i||""),At(e)}else e._isValid=!1}function yt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function bt(e){var t,n,s,r,a,i,o,l,c=mt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(n=c[4],s=c[3],r=c[2],a=c[5],i=c[6],o=c[7],l=[yt(n),xe.indexOf(s),parseInt(r,10),parseInt(a,10),parseInt(i,10)],o&&l.push(parseInt(o,10)),t=l,!function(e,t,n){return!e||Ue.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(f(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return gt[e];if(t)return 0;var s=parseInt(n,10),r=s%100;return(s-r)/100*60+r}(c[8],c[9],c[10]),e._d=Oe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function vt(e,t,n){return null!=e?e:null!=t?t:n}function St(e){var t,s,r,a,i,o=[];if(!e._d){for(r=function(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,s,r,a,i,o,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,i=4,n=vt(t.GG,e._a[0],Ne(kt(),1,4).year),s=vt(t.W,1),((r=vt(t.E,1))<1||r>7)&&(l=!0)):(a=e._locale._week.dow,i=e._locale._week.doy,c=Ne(kt(),a,i),n=vt(t.gg,e._a[0],c.year),s=vt(t.w,c.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+a,(t.e<0||t.e>6)&&(l=!0)):r=a),s<1||s>je(n,a,i)?f(e)._overflowWeeks=!0:null!=l?f(e)._overflowWeekday=!0:(o=Ie(n,s,r,a,i),e._a[0]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(i=vt(e._a[0],r[0]),(e._dayOfYear>Re(i)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),s=Oe(i,0,e._dayOfYear),e._a[1]=s.getUTCMonth(),e._a[2]=s.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Oe:De).apply(null,o),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==a&&(f(e).weekdayMismatch=!0)}}function At(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],f(e).empty=!0;var t,s,r,a,i,o,l=""+e._i,c=l.length,h=0;for(r=N(e._f,e._locale).match(R)||[],t=0;t<r.length;t++)a=r[t],(s=(l.match(fe(a,e))||[])[0])&&((i=l.substr(0,l.indexOf(s))).length>0&&f(e).unusedInput.push(i),l=l.slice(l.indexOf(s)+s.length),h+=s.length),O[a]?(s?f(e).empty=!1:f(e).unusedTokens.push(a),ve(a,s,e)):e._strict&&!s&&f(e).unusedTokens.push(a);f(e).charsLeftOver=c-h,l.length>0&&f(e).unusedInput.push(l),e._a[3]<=12&&!0===f(e).bigHour&&e._a[3]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var s;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((s=e.isPM(n))&&t<12&&(t+=12),s||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(o=f(e).era)&&(e._a[0]=e._locale.erasConvertYear(o,e._a[0])),St(e),lt(e)}else bt(e);else _t(e)}function xt(e){var t=e._i,a=e._f;return e._locale=e._locale||ot(e._l),null===t||void 0===a&&""===t?g({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),S(t)?new v(lt(t)):(c(t)?e._d=t:s(a)?function(e){var t,n,s,r,a,i,o=!1;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)a=0,i=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],At(t),m(t)&&(i=!0),a+=f(t).charsLeftOver,a+=10*f(t).unusedTokens.length,f(t).score=a,o?a<s&&(s=a,n=t):(null==s||a<s||i)&&(s=a,n=t,i&&(o=!0));d(e,n||t)}(e):a?At(e):function(e){var t=e._i;o(t)?e._d=new Date(n.now()):c(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=ft.exec(e._i);null===t?(_t(e),!1===e._isValid&&(delete e._isValid,bt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:n.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):s(t)?(e._a=u(t.slice(0),(function(e){return parseInt(e,10)})),St(e)):r(t)?function(e){if(!e._d){var t=U(e._i),n=void 0===t.day?t.date:t.day;e._a=u([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),St(e)}}(e):l(t)?e._d=new Date(t):n.createFromInputFallback(e)}(e),m(e)||(e._d=null),e))}function wt(e,t,n,a,o){var l,c={};return!0!==t&&!1!==t||(a=t,t=void 0),!0!==n&&!1!==n||(a=n,n=void 0),(r(e)&&i(e)||s(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=o,c._l=n,c._i=e,c._f=t,c._strict=a,(l=new v(lt(xt(c))))._nextDay&&(l.add(1,"d"),l._nextDay=void 0),l}function kt(e,t,n,s){return wt(e,t,n,s,!1)}n.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var Pt=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=kt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),Ct=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=kt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Tt(e,t){var n,r;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return kt();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Mt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Et(e){var t=U(e),n=t.year||0,s=t.quarter||0,r=t.month||0,i=t.week||t.isoWeek||0,o=t.day||0,l=t.hour||0,c=t.minute||0,h=t.second||0,u=t.millisecond||0;this._isValid=function(e){var t,n,s=!1;for(t in e)if(a(e,t)&&(-1===ge.call(Mt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<Mt.length;++n)if(e[Mt[n]]){if(s)return!1;parseFloat(e[Mt[n]])!==V(e[Mt[n]])&&(s=!0)}return!0}(t),this._milliseconds=+u+1e3*h+6e4*c+1e3*l*60*60,this._days=+o+7*i,this._months=+r+3*s+12*n,this._data={},this._locale=ot(),this._bubble()}function Rt(e){return e instanceof Et}function Ft(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Dt(e,t){L(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+E(~~(e/60),2)+t+E(~~e%60,2)}))}Dt("Z",":"),Dt("ZZ",""),pe("Z",ue),pe("ZZ",ue),ye(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Lt(ue,e)}));var Ot=/([\+\-]|\d\d)/gi;function Lt(e,t){var n,s,r=(t||"").match(e);return null===r?null:0===(s=60*(n=((r[r.length-1]||[])+"").match(Ot)||["-",0,0])[1]+V(n[2]))?0:"+"===n[0]?s:-s}function It(e,t){var s,r;return t._isUTC?(s=t.clone(),r=(S(e)||c(e)?e.valueOf():kt(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+r),n.updateOffset(s,!1),s):kt(e).local()}function Nt(e){return-Math.round(e._d.getTimezoneOffset())}function jt(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Bt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,zt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ut(e,t){var n,s,r,i,o,c,h=e,u=null;return Rt(e)?h={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(h={},t?h[t]=+e:h.milliseconds=+e):(u=Bt.exec(e))?(n="-"===u[1]?-1:1,h={y:0,d:V(u[2])*n,h:V(u[3])*n,m:V(u[4])*n,s:V(u[5])*n,ms:V(Ft(1e3*u[6]))*n}):(u=zt.exec(e))?(n="-"===u[1]?-1:1,h={y:Wt(u[2],n),M:Wt(u[3],n),w:Wt(u[4],n),d:Wt(u[5],n),h:Wt(u[6],n),m:Wt(u[7],n),s:Wt(u[8],n)}):null==h?h={}:"object"==typeof h&&("from"in h||"to"in h)&&(i=kt(h.from),o=kt(h.to),r=i.isValid()&&o.isValid()?(o=It(o,i),i.isBefore(o)?c=Ht(i,o):((c=Ht(o,i)).milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},(h={}).ms=r.milliseconds,h.M=r.months),s=new Et(h),Rt(e)&&a(e,"_locale")&&(s._locale=e._locale),Rt(e)&&a(e,"_isValid")&&(s._isValid=e._isValid),s}function Wt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ht(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Yt(e,t){return function(n,s){var r;return null===s||isNaN(+s)||(P(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=s,s=r),qt(this,Ut(n,s),e),this}}function qt(e,t,s,r){var a=t._milliseconds,i=Ft(t._days),o=Ft(t._months);e.isValid()&&(r=null==r||r,o&&Te(e,$(e,"Month")+o*s),i&&X(e,"Date",$(e,"Date")+i*s),a&&e._d.setTime(e._d.valueOf()+a*s),r&&n.updateOffset(e,i||o))}Ut.fn=Et.prototype,Ut.invalid=function(){return Ut(NaN)};var Vt=Yt(1,"add"),Gt=Yt(-1,"subtract");function $t(e){return"string"==typeof e||e instanceof String}function Xt(e){return S(e)||c(e)||$t(e)||l(e)||function(e){var t=s(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&$t(e)})).length),t&&n}(e)||function(e){var t,n=r(e)&&!i(e),s=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<o.length;t+=1)s=s||a(e,o[t]);return n&&s}(e)||null==e}function Kt(e){var t,n=r(e)&&!i(e),s=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)s=s||a(e,o[t]);return n&&s}function Zt(e,t){if(e.date()<t.date())return-Zt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(n,"months");return-(n+(t-s<0?(t-s)/(s-e.clone().add(n-1,"months")):(t-s)/(e.clone().add(n+1,"months")-s)))||0}function Jt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ot(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Qt=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function en(){return this._locale}function tn(e,t){return(e%t+t)%t}function nn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function sn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function rn(e,t){return t.erasAbbrRegex(e)}function an(){var e,t,n=[],s=[],r=[],a=[],i=this.eras();for(e=0,t=i.length;e<t;++e)s.push(me(i[e].name)),n.push(me(i[e].abbr)),r.push(me(i[e].narrow)),a.push(me(i[e].name)),a.push(me(i[e].abbr)),a.push(me(i[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+s.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function on(e,t){L(0,[e,e.length],0,t)}function ln(e,t,n,s,r){var a;return null==e?Ne(this,s,r).year:(t>(a=je(e,s,r))&&(t=a),cn.call(this,e,t,n,s,r))}function cn(e,t,n,s,r){var a=Ie(e,t,n,s,r),i=Oe(a.year,0,a.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}L("N",0,0,"eraAbbr"),L("NN",0,0,"eraAbbr"),L("NNN",0,0,"eraAbbr"),L("NNNN",0,0,"eraName"),L("NNNNN",0,0,"eraNarrow"),L("y",["y",1],"yo","eraYear"),L("y",["yy",2],0,"eraYear"),L("y",["yyy",3],0,"eraYear"),L("y",["yyyy",4],0,"eraYear"),pe("N",rn),pe("NN",rn),pe("NNN",rn),pe("NNNN",(function(e,t){return t.erasNameRegex(e)})),pe("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),ye(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,s){var r=n._locale.erasParse(e,s,n._strict);r?f(n).era=r:f(n).invalidEra=e})),pe("y",le),pe("yy",le),pe("yyy",le),pe("yyyy",le),pe("yo",(function(e,t){return t._eraYearOrdinalRegex||le})),ye(["y","yy","yyy","yyyy"],0),ye(["yo"],(function(e,t,n,s){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[0]=n._locale.eraYearOrdinalParse(e,r):t[0]=parseInt(e,10)})),L(0,["gg",2],0,(function(){return this.weekYear()%100})),L(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),on("gggg","weekYear"),on("ggggg","weekYear"),on("GGGG","isoWeekYear"),on("GGGGG","isoWeekYear"),B("weekYear","gg"),B("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),pe("G",ce),pe("g",ce),pe("GG",ne,J),pe("gg",ne,J),pe("GGGG",ie,ee),pe("gggg",ie,ee),pe("GGGGG",oe,te),pe("ggggg",oe,te),be(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,s){t[s.substr(0,2)]=V(e)})),be(["gg","GG"],(function(e,t,s,r){t[r]=n.parseTwoDigitYear(e)})),L("Q",0,"Qo","quarter"),B("quarter","Q"),H("quarter",7),pe("Q",Z),ye("Q",(function(e,t){t[1]=3*(V(e)-1)})),L("D",["DD",2],"Do","date"),B("date","D"),H("date",9),pe("D",ne),pe("DD",ne,J),pe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ye(["D","DD"],2),ye("Do",(function(e,t){t[2]=V(e.match(ne)[0])}));var hn=G("Date",!0);L("DDD",["DDDD",3],"DDDo","dayOfYear"),B("dayOfYear","DDD"),H("dayOfYear",4),pe("DDD",ae),pe("DDDD",Q),ye(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=V(e)})),L("m",["mm",2],0,"minute"),B("minute","m"),H("minute",14),pe("m",ne),pe("mm",ne,J),ye(["m","mm"],4);var un=G("Minutes",!1);L("s",["ss",2],0,"second"),B("second","s"),H("second",15),pe("s",ne),pe("ss",ne,J),ye(["s","ss"],5);var dn,pn,fn=G("Seconds",!1);for(L("S",0,0,(function(){return~~(this.millisecond()/100)})),L(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),L(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),L(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),L(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),L(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),L(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),B("millisecond","ms"),H("millisecond",16),pe("S",ae,Z),pe("SS",ae,J),pe("SSS",ae,Q),dn="SSSS";dn.length<=9;dn+="S")pe(dn,le);function mn(e,t){t[6]=V(1e3*("0."+e))}for(dn="S";dn.length<=9;dn+="S")ye(dn,mn);pn=G("Milliseconds",!1),L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName");var gn=v.prototype;function _n(e){return e}gn.add=Vt,gn.calendar=function(e,t){1===arguments.length&&(arguments[0]?Xt(arguments[0])?(e=arguments[0],t=void 0):Kt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var s=e||kt(),r=It(s,this).startOf("day"),a=n.calendarFormat(this,r)||"sameElse",i=t&&(C(t[a])?t[a].call(this,s):t[a]);return this.format(i||this.localeData().calendar(a,this,kt(s)))},gn.clone=function(){return new v(this)},gn.diff=function(e,t,n){var s,r,a;if(!this.isValid())return NaN;if(!(s=It(e,this)).isValid())return NaN;switch(r=6e4*(s.utcOffset()-this.utcOffset()),t=z(t)){case"year":a=Zt(this,s)/12;break;case"month":a=Zt(this,s);break;case"quarter":a=Zt(this,s)/3;break;case"second":a=(this-s)/1e3;break;case"minute":a=(this-s)/6e4;break;case"hour":a=(this-s)/36e5;break;case"day":a=(this-s-r)/864e5;break;case"week":a=(this-s-r)/6048e5;break;default:a=this-s}return n?a:q(a)},gn.endOf=function(e){var t,s;if(void 0===(e=z(e))||"millisecond"===e||!this.isValid())return this;switch(s=this._isUTC?sn:nn,e){case"year":t=s(this.year()+1,0,1)-1;break;case"quarter":t=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=s(this.year(),this.month()+1,1)-1;break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-tn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-tn(t,1e3)-1}return this._d.setTime(t),n.updateOffset(this,!0),this},gn.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=I(this,e);return this.localeData().postformat(t)},gn.from=function(e,t){return this.isValid()&&(S(e)&&e.isValid()||kt(e).isValid())?Ut({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},gn.fromNow=function(e){return this.from(kt(),e)},gn.to=function(e,t){return this.isValid()&&(S(e)&&e.isValid()||kt(e).isValid())?Ut({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},gn.toNow=function(e){return this.to(kt(),e)},gn.get=function(e){return C(this[e=z(e)])?this[e]():this},gn.invalidAt=function(){return f(this).overflow},gn.isAfter=function(e,t){var n=S(e)?e:kt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=z(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},gn.isBefore=function(e,t){var n=S(e)?e:kt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=z(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},gn.isBetween=function(e,t,n,s){var r=S(e)?e:kt(e),a=S(t)?t:kt(t);return!!(this.isValid()&&r.isValid()&&a.isValid())&&("("===(s=s||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===s[1]?this.isBefore(a,n):!this.isAfter(a,n))},gn.isSame=function(e,t){var n,s=S(e)?e:kt(e);return!(!this.isValid()||!s.isValid())&&("millisecond"===(t=z(t)||"millisecond")?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},gn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},gn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},gn.isValid=function(){return m(this)},gn.lang=Qt,gn.locale=Jt,gn.localeData=en,gn.max=Ct,gn.min=Pt,gn.parsingFlags=function(){return d({},f(this))},gn.set=function(e,t){if("object"==typeof e){var n,s=function(e){var t,n=[];for(t in e)a(e,t)&&n.push({unit:t,priority:W[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=U(e));for(n=0;n<s.length;n++)this[s[n].unit](e[s[n].unit])}else if(C(this[e=z(e)]))return this[e](t);return this},gn.startOf=function(e){var t,s;if(void 0===(e=z(e))||"millisecond"===e||!this.isValid())return this;switch(s=this._isUTC?sn:nn,e){case"year":t=s(this.year(),0,1);break;case"quarter":t=s(this.year(),this.month()-this.month()%3,1);break;case"month":t=s(this.year(),this.month(),1);break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=s(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=tn(t,6e4);break;case"second":t=this._d.valueOf(),t-=tn(t,1e3)}return this._d.setTime(t),n.updateOffset(this,!0),this},gn.subtract=Gt,gn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},gn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},gn.toDate=function(){return new Date(this.valueOf())},gn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?I(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",I(n,"Z")):I(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},gn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,s="moment",r="";return this.isLocal()||(s=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),e="["+s+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=r+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(gn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),gn.toJSON=function(){return this.isValid()?this.toISOString():null},gn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},gn.unix=function(){return Math.floor(this.valueOf()/1e3)},gn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},gn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},gn.eraName=function(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until)return s[e].name;if(s[e].until<=n&&n<=s[e].since)return s[e].name}return""},gn.eraNarrow=function(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until)return s[e].narrow;if(s[e].until<=n&&n<=s[e].since)return s[e].narrow}return""},gn.eraAbbr=function(){var e,t,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until)return s[e].abbr;if(s[e].until<=n&&n<=s[e].since)return s[e].abbr}return""},gn.eraYear=function(){var e,t,s,r,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(s=a[e].since<=a[e].until?1:-1,r=this.clone().startOf("day").valueOf(),a[e].since<=r&&r<=a[e].until||a[e].until<=r&&r<=a[e].since)return(this.year()-n(a[e].since).year())*s+a[e].offset;return this.year()},gn.year=Fe,gn.isLeapYear=function(){return Y(this.year())},gn.weekYear=function(e){return ln.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},gn.isoWeekYear=function(e){return ln.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},gn.quarter=gn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},gn.month=Me,gn.daysInMonth=function(){return Se(this.year(),this.month())},gn.week=gn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},gn.isoWeek=gn.isoWeeks=function(e){var t=Ne(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},gn.weeksInYear=function(){var e=this.localeData()._week;return je(this.year(),e.dow,e.doy)},gn.weeksInWeekYear=function(){var e=this.localeData()._week;return je(this.weekYear(),e.dow,e.doy)},gn.isoWeeksInYear=function(){return je(this.year(),1,4)},gn.isoWeeksInISOWeekYear=function(){return je(this.isoWeekYear(),1,4)},gn.date=hn,gn.day=gn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},gn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},gn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},gn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},gn.hour=gn.hours=Je,gn.minute=gn.minutes=un,gn.second=gn.seconds=fn,gn.millisecond=gn.milliseconds=pn,gn.utcOffset=function(e,t,s){var r,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Lt(ue,e)))return this}else Math.abs(e)<16&&!s&&(e*=60);return!this._isUTC&&t&&(r=Nt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),a!==e&&(!t||this._changeInProgress?qt(this,Ut(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Nt(this)},gn.utc=function(e){return this.utcOffset(0,e)},gn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Nt(this),"m")),this},gn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Lt(he,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},gn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?kt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},gn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},gn.isLocal=function(){return!!this.isValid()&&!this._isUTC},gn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},gn.isUtc=jt,gn.isUTC=jt,gn.zoneAbbr=function(){return this._isUTC?"UTC":""},gn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},gn.dates=x("dates accessor is deprecated. Use date instead.",hn),gn.months=x("months accessor is deprecated. Use month instead",Me),gn.years=x("years accessor is deprecated. Use year instead",Fe),gn.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),gn.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=xt(t))._a?(e=t._isUTC?p(t._a):kt(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var s,r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),i=0;for(s=0;s<r;s++)V(e[s])!==V(t[s])&&i++;return i+a}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var yn=M.prototype;function bn(e,t,n,s){var r=ot(),a=p().set(s,t);return r[n](a,e)}function vn(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return bn(e,t,n,"month");var s,r=[];for(s=0;s<12;s++)r[s]=bn(e,s,n,"month");return r}function Sn(e,t,n,s){"boolean"==typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var r,a=ot(),i=e?a._week.dow:0,o=[];if(null!=n)return bn(t,(n+i)%7,s,"day");for(r=0;r<7;r++)o[r]=bn(t,(r+i)%7,s,"day");return o}yn.calendar=function(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return C(s)?s.call(t,n):s},yn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(R).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},yn.invalidDate=function(){return this._invalidDate},yn.ordinal=function(e){return this._ordinal.replace("%d",e)},yn.preparse=_n,yn.postformat=_n,yn.relativeTime=function(e,t,n,s){var r=this._relativeTime[n];return C(r)?r(e,t,n,s):r.replace(/%d/i,e)},yn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)},yn.set=function(e){var t,n;for(n in e)a(e,n)&&(C(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},yn.eras=function(e,t){var s,r,a,i=this._eras||ot("en")._eras;for(s=0,r=i.length;s<r;++s){if("string"==typeof i[s].since)a=n(i[s].since).startOf("day"),i[s].since=a.valueOf();switch(typeof i[s].until){case"undefined":i[s].until=1/0;break;case"string":a=n(i[s].until).startOf("day").valueOf(),i[s].until=a.valueOf()}}return i},yn.erasParse=function(e,t,n){var s,r,a,i,o,l=this.eras();for(e=e.toUpperCase(),s=0,r=l.length;s<r;++s)if(a=l[s].name.toUpperCase(),i=l[s].abbr.toUpperCase(),o=l[s].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(i===e)return l[s];break;case"NNNN":if(a===e)return l[s];break;case"NNNNN":if(o===e)return l[s]}else if([a,i,o].indexOf(e)>=0)return l[s]},yn.erasConvertYear=function(e,t){var s=e.since<=e.until?1:-1;return void 0===t?n(e.since).year():n(e.since).year()+(t-e.offset)*s},yn.erasAbbrRegex=function(e){return a(this,"_erasAbbrRegex")||an.call(this),e?this._erasAbbrRegex:this._erasRegex},yn.erasNameRegex=function(e){return a(this,"_erasNameRegex")||an.call(this),e?this._erasNameRegex:this._erasRegex},yn.erasNarrowRegex=function(e){return a(this,"_erasNarrowRegex")||an.call(this),e?this._erasNarrowRegex:this._erasRegex},yn.months=function(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||we).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone},yn.monthsShort=function(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[we.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},yn.monthsParse=function(e,t,n){var s,r,a;if(this._monthsParseExact)return Ce.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(r=p([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[s]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},yn.monthsRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||Ee.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Pe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},yn.monthsShortRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||Ee.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=ke),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},yn.week=function(e){return Ne(e,this._week.dow,this._week.doy).week},yn.firstDayOfYear=function(){return this._week.doy},yn.firstDayOfWeek=function(){return this._week.dow},yn.weekdays=function(e,t){var n=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Be(n,this._week.dow):e?n[e.day()]:n},yn.weekdaysMin=function(e){return!0===e?Be(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},yn.weekdaysShort=function(e){return!0===e?Be(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},yn.weekdaysParse=function(e,t,n){var s,r,a;if(this._weekdaysParseExact)return Ve.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(r=p([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[s]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},yn.weekdaysRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=He),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},yn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ye),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},yn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=qe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},yn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},yn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},at("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===V(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=x("moment.lang is deprecated. Use moment.locale instead.",at),n.langData=x("moment.langData is deprecated. Use moment.localeData instead.",ot);var An=Math.abs;function xn(e,t,n,s){var r=Ut(t,n);return e._milliseconds+=s*r._milliseconds,e._days+=s*r._days,e._months+=s*r._months,e._bubble()}function wn(e){return e<0?Math.floor(e):Math.ceil(e)}function kn(e){return 4800*e/146097}function Pn(e){return 146097*e/4800}function Cn(e){return function(){return this.as(e)}}var Tn=Cn("ms"),Mn=Cn("s"),En=Cn("m"),Rn=Cn("h"),Fn=Cn("d"),Dn=Cn("w"),On=Cn("M"),Ln=Cn("Q"),In=Cn("y");function Nn(e){return function(){return this.isValid()?this._data[e]:NaN}}var jn=Nn("milliseconds"),Bn=Nn("seconds"),zn=Nn("minutes"),Un=Nn("hours"),Wn=Nn("days"),Hn=Nn("months"),Yn=Nn("years"),qn=Math.round,Vn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Gn(e,t,n,s,r){return r.relativeTime(t||1,!!n,e,s)}var $n=Math.abs;function Xn(e){return(e>0)-(e<0)||+e}function Kn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,s,r,a,i,o,l=$n(this._milliseconds)/1e3,c=$n(this._days),h=$n(this._months),u=this.asSeconds();return u?(e=q(l/60),t=q(e/60),l%=60,e%=60,n=q(h/12),h%=12,s=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=u<0?"-":"",a=Xn(this._months)!==Xn(u)?"-":"",i=Xn(this._days)!==Xn(u)?"-":"",o=Xn(this._milliseconds)!==Xn(u)?"-":"",r+"P"+(n?a+n+"Y":"")+(h?a+h+"M":"")+(c?i+c+"D":"")+(t||e||l?"T":"")+(t?o+t+"H":"")+(e?o+e+"M":"")+(l?o+s+"S":"")):"P0D"}var Zn=Et.prototype;return Zn.isValid=function(){return this._isValid},Zn.abs=function(){var e=this._data;return this._milliseconds=An(this._milliseconds),this._days=An(this._days),this._months=An(this._months),e.milliseconds=An(e.milliseconds),e.seconds=An(e.seconds),e.minutes=An(e.minutes),e.hours=An(e.hours),e.months=An(e.months),e.years=An(e.years),this},Zn.add=function(e,t){return xn(this,e,t,1)},Zn.subtract=function(e,t){return xn(this,e,t,-1)},Zn.as=function(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if("month"===(e=z(e))||"quarter"===e||"year"===e)switch(t=this._days+s/864e5,n=this._months+kn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Pn(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}},Zn.asMilliseconds=Tn,Zn.asSeconds=Mn,Zn.asMinutes=En,Zn.asHours=Rn,Zn.asDays=Fn,Zn.asWeeks=Dn,Zn.asMonths=On,Zn.asQuarters=Ln,Zn.asYears=In,Zn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*V(this._months/12):NaN},Zn._bubble=function(){var e,t,n,s,r,a=this._milliseconds,i=this._days,o=this._months,l=this._data;return a>=0&&i>=0&&o>=0||a<=0&&i<=0&&o<=0||(a+=864e5*wn(Pn(o)+i),i=0,o=0),l.milliseconds=a%1e3,e=q(a/1e3),l.seconds=e%60,t=q(e/60),l.minutes=t%60,n=q(t/60),l.hours=n%24,i+=q(n/24),o+=r=q(kn(i)),i-=wn(Pn(r)),s=q(o/12),o%=12,l.days=i,l.months=o,l.years=s,this},Zn.clone=function(){return Ut(this)},Zn.get=function(e){return e=z(e),this.isValid()?this[e+"s"]():NaN},Zn.milliseconds=jn,Zn.seconds=Bn,Zn.minutes=zn,Zn.hours=Un,Zn.days=Wn,Zn.weeks=function(){return q(this.days()/7)},Zn.months=Hn,Zn.years=Yn,Zn.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,s,r=!1,a=Vn;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(r=e),"object"==typeof t&&(a=Object.assign({},Vn,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),s=function(e,t,n,s){var r=Ut(e).abs(),a=qn(r.as("s")),i=qn(r.as("m")),o=qn(r.as("h")),l=qn(r.as("d")),c=qn(r.as("M")),h=qn(r.as("w")),u=qn(r.as("y")),d=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||i<=1&&["m"]||i<n.m&&["mm",i]||o<=1&&["h"]||o<n.h&&["hh",o]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(d=d||h<=1&&["w"]||h<n.w&&["ww",h]),(d=d||c<=1&&["M"]||c<n.M&&["MM",c]||u<=1&&["y"]||["yy",u])[2]=t,d[3]=+e>0,d[4]=s,Gn.apply(null,d)}(this,!r,a,n=this.localeData()),r&&(s=n.pastFuture(+this,s)),n.postformat(s)},Zn.toISOString=Kn,Zn.toString=Kn,Zn.toJSON=Kn,Zn.locale=Jt,Zn.localeData=en,Zn.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Kn),Zn.lang=Qt,L("X",0,0,"unix"),L("x",0,0,"valueOf"),pe("x",ce),pe("X",/[+-]?\d+(\.\d{1,3})?/),ye("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),ye("x",(function(e,t,n){n._d=new Date(V(e))})),
//! moment.js
n.version="2.29.1",e=kt,n.fn=gn,n.min=function(){var e=[].slice.call(arguments,0);return Tt("isBefore",e)},n.max=function(){var e=[].slice.call(arguments,0);return Tt("isAfter",e)},n.now=function(){return Date.now?Date.now():+new Date},n.utc=p,n.unix=function(e){return kt(1e3*e)},n.months=function(e,t){return vn(e,t,"months")},n.isDate=c,n.locale=at,n.invalid=g,n.duration=Ut,n.isMoment=S,n.weekdays=function(e,t,n){return Sn(e,t,n,"weekdays")},n.parseZone=function(){return kt.apply(null,arguments).parseZone()},n.localeData=ot,n.isDuration=Rt,n.monthsShort=function(e,t){return vn(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return Sn(e,t,n,"weekdaysMin")},n.defineLocale=it,n.updateLocale=function(e,t){if(null!=t){var n,s,r=Qe;null!=et[e]&&null!=et[e].parentLocale?et[e].set(T(et[e]._config,t)):(null!=(s=rt(e))&&(r=s._config),t=T(r,t),null==s&&(t.abbr=e),(n=new M(t)).parentLocale=et[e],et[e]=n),at(e)}else null!=et[e]&&(null!=et[e].parentLocale?(et[e]=et[e].parentLocale,e===at()&&at(e)):null!=et[e]&&delete et[e]);return et[e]},n.locales=function(){return w(et)},n.weekdaysShort=function(e,t,n){return Sn(e,t,n,"weekdaysShort")},n.normalizeUnits=z,n.relativeTimeRounding=function(e){return void 0===e?qn:"function"==typeof e&&(qn=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==Vn[e]&&(void 0===t?Vn[e]:(Vn[e]=t,"s"===e&&(Vn.ss=t-1),!0))},n.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=gn,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}();var p,f=d.exports,m=Object.freeze({__proto__:null,formatDate:function(e,t,n){if(e=o(e)?e:"",o(n)||c(n)){const s=f(t||new Date);return s.locale(n),s.format(e)}return f(t||new Date).format(e)}}),g=Object.freeze({__proto__:null,classIf:function(e,t){return e?t:""},selectedIf:function(e){return e?"selected":""},checkedIf:function(e){return e?"checked":""},options:function(e,t){const n=t.hash.value||"value",s=t.hash.text||"text",r=t.hash.selected||null;return e.map((e=>{const t=e[n]||"",a=e[s]||"";return`<option value="${t}"${t==r?" selected":""}>${a}</option>`})).join("\n")}}),_=Object.freeze({__proto__:null,add:function(e,t){return Number(e)+Number(t)},sub:function(e,t){return Number(e)-Number(t)},ceil:function(e){return Math.ceil(Number(e))},floor:function(e){return Math.floor(Number(e))},abs:function(e){return Math.abs(Number(e))}}),y={};
/*! sprintf-js v1.1.2 | Copyright (c) 2007-present, Alexandru Mrteanu <hello@alexei.ro> | BSD-3-Clause */
p=y,function(){var e={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function t(n){return function(n,s){var r,a,i,o,l,c,h,u,d,p=1,f=n.length,m="";for(a=0;a<f;a++)if("string"==typeof n[a])m+=n[a];else if("object"==typeof n[a]){if((o=n[a]).keys)for(r=s[p],i=0;i<o.keys.length;i++){if(null==r)throw new Error(t('[sprintf] Cannot access property "%s" of undefined value "%s"',o.keys[i],o.keys[i-1]));r=r[o.keys[i]]}else r=o.param_no?s[o.param_no]:s[p++];if(e.not_type.test(o.type)&&e.not_primitive.test(o.type)&&r instanceof Function&&(r=r()),e.numeric_arg.test(o.type)&&"number"!=typeof r&&isNaN(r))throw new TypeError(t("[sprintf] expecting number but found %T",r));switch(e.number.test(o.type)&&(u=0<=r),o.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,o.width?parseInt(o.width):0);break;case"e":r=o.precision?parseFloat(r).toExponential(o.precision):parseFloat(r).toExponential();break;case"f":r=o.precision?parseFloat(r).toFixed(o.precision):parseFloat(r);break;case"g":r=o.precision?String(Number(r.toPrecision(o.precision))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=o.precision?r.substring(0,o.precision):r;break;case"t":r=String(!!r),r=o.precision?r.substring(0,o.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=o.precision?r.substring(0,o.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=o.precision?r.substring(0,o.precision):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}e.json.test(o.type)?m+=r:(!e.number.test(o.type)||u&&!o.sign?d="":(d=u?"+":"-",r=r.toString().replace(e.sign,"")),c=o.pad_char?"0"===o.pad_char?"0":o.pad_char.charAt(1):" ",h=o.width-(d+r).length,l=o.width&&0<h?c.repeat(h):"",m+=o.align?d+r+l:"0"===c?d+l+r:l+d+r)}return m}(function(t){if(s[t])return s[t];for(var n,r=t,a=[],i=0;r;){if(null!==(n=e.text.exec(r)))a.push(n[0]);else if(null!==(n=e.modulo.exec(r)))a.push("%");else{if(null===(n=e.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){i|=1;var o=[],l=n[2],c=[];if(null===(c=e.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(c[1]);""!==(l=l.substring(c[0].length));)if(null!==(c=e.key_access.exec(l)))o.push(c[1]);else{if(null===(c=e.index_access.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(c[1])}n[2]=o}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");a.push({placeholder:n[0],param_no:n[1],keys:n[2],sign:n[3],pad_char:n[4],align:n[5],width:n[6],precision:n[7],type:n[8]})}r=r.substring(n[0].length)}return s[t]=a}(n),arguments)}function n(e,n){return t.apply(null,[e].concat(n||[]))}var s=Object.create(null);p.sprintf=t,p.vsprintf=n,"undefined"!=typeof window&&(window.sprintf=t,window.vsprintf=n)}();var b=Object.freeze({__proto__:null,slice:function(e,t,n){return"string"!=typeof e||"number"!=typeof t||e.length<t?e:"number"!=typeof n?e.slice(t):e.slice(t,n)},nltobr:function(e){return e.replace(/\r?\n|\r/g,"<br>")},sprintf:function(e,...t){const n=[];for(let e of t)l(e)&&l(e.hash)&&(e=e.hash),n.push(e);return n.length>0?y.vsprintf(e,n):e},lowercase:function(e){return o(e)?e.toLowerCase():e},uppercase:function(e){return o(e)?e.toUpperCase():e},concat:function(...e){return l(e[e.length-1])&&e.pop(),e.join("")},join:function(e,t){return t&&!l(t)||(t=""),!!c(e)&&e.join(t)}});for(let e of[u,m,g,_,b])for(let[t,n]of Object.entries(e))i.registerHelper(t,n);class v extends n{enterListener=e=>!1;rslv;rej;loading;passwordInput;incorrect;submitButton;constructor(e,n){super(e,n),this.passwordInput=this.modalNode.querySelector('[data-element="passwordInput"]'),this.incorrect=this.modalNode.querySelector('[data-element="incorrect"]'),this.submitButton=this.modalNode.querySelector('[type="submit"]'),this.loading=new t(e),this.passwordInput.addEventListener("input",(e=>{this.submitButton.disabled=""===e.currentTarget.value})),this.modalNode.querySelector('[data-element="form"]')?.addEventListener("submit",(async e=>{e.preventDefault();const t=+new Date;try{let e;if(this.submitButton.disabled=!0,this.loading.show(),e=r(this.enterListener)?await this.enterListener(this.passwordInput.value):this.enterListener(this.passwordInput.value),!e)return await a(1-(+new Date-t)/1e3),this.loading.hide(),this.incorrect.textContent="Incorrect password",void this.passwordInput.classList.add("wrong");this.passwordInput.classList.remove("wrong"),this.passwordInput.classList.add("correct"),this.incorrect.textContent="",await a(1-(+new Date-t)/1e3),this.destroy(),this.rslv()}catch(e){this.destroy(),this.rej(e)}finally{this.submitButton.disabled=!1}}),{passive:!1})}render(){return i.compile('<div class="modal password-modal">\n        <div class="modal-dialog">\n          <div class="modal-content">\n            <div class="modal-header">{{language.message.passwordRequired}}</div>\n            <div class="modal-body">\n              <form data-element="form">\n                <div class="enter">\n                  <div>{{language.message.enterPassword}}</div>\n                  <input data-element="passwordInput" type="password" autocomplete="current-password" aria-label="Password required">\n                </div>\n                <div data-element="incorrect" class="incorrect-password"></div>\n              </form>\n            </div>\n            <div class="modal-footer">\n              \x3c!-- <button class="button button-cancel button-modal" data-element="passwordCancelButton"><span>Cancel</span></button> --\x3e\n              <button type="submit" class="button button-confirm button-modal" data-element="passwordSubmitButton" disabled><span>Submit</span></button>\n            </div>\n          </div>\n        </div>\n      </div>')({language:this.language})}async show(){return super.show(),this.passwordInput.focus(),new Promise(((e,t)=>{this.rslv=e,this.rej=t}))}destroy(){this.loading.destroy(),super.destroy()}onEnter(e){return this.enterListener=e,this}}class S{leftPanelToggle;leftPanel;pagegContainer;thumbnailsPanel;thumbnailNodes=[];activeThumbnailNode=void 0;selectListener=e=>{};constructor(e,t){this.leftPanelToggle=e.querySelector('[data-element="leftPanelToggle"]'),this.leftPanel=e.querySelector('[data-element="leftPanel"]'),this.pagegContainer=e.querySelector('[data-element="pagegContainer"]'),this.thumbnailsPanel=e.querySelector('[data-element="thumbnailsPanel"]'),this.leftPanelToggle.addEventListener("click",(()=>{this.leftPanel.classList.contains("left-panel-closed")?this.open():this.close()}),{passive:!0}),this.thumbnailNodes=this.render(t),this.activeThumbnailNode=this.thumbnailNodes.find((e=>e.classList.contains("thumbnail-active")));for(let e of this.thumbnailNodes)e.addEventListener("click",(e=>{this.activeThumbnailNode.classList.remove("thumbnail-active"),e.currentTarget.classList.add("thumbnail-active"),this.activeThumbnailNode=e.currentTarget;const t=parseInt(this.activeThumbnailNode.dataset.pageNumber,10);this.selectListener(t)}),{passive:!0})}open(){this.leftPanel.classList.remove("left-panel-closed"),this.pagegContainer.classList.add("page-container-open")}close(){this.leftPanel.classList.add("left-panel-closed"),this.pagegContainer.classList.remove("page-container-open")}activatePage(e){this.activeThumbnailNode&&this.activeThumbnailNode.classList.remove("thumbnail-active");const t=this.thumbnailNodes.find((t=>t.dataset.pageNumber==e.toString()));if(t){t.classList.add("thumbnail-active"),this.activeThumbnailNode=t;const e=this.thumbnailsPanel.getBoundingClientRect(),n=this.activeThumbnailNode.getBoundingClientRect();n.top>=e.top&&n.top<=e.top+this.thumbnailsPanel.clientHeight||(this.thumbnailsPanel.scrollTop=n.top+this.thumbnailsPanel.scrollTop-e.top)}}render(e){const t=[];for(let n=1;n<=e.length;n++){const s=e[n-1],r=s.getViewport({scale:1.5}),a=document.createElement("div");a.classList.add("thumbnail"),a.dataset.pageNumber=n.toString(),1===n&&a.classList.add("thumbnail-active");const i=document.createElement("canvas");i.classList.add("thumbnail-image"),i.width=Math.floor(r.width),i.height=Math.floor(r.height),a.appendChild(i);const o=document.createElement("div");o.classList.add("thumbnail-label"),o.textContent=n.toString(),a.appendChild(o),this.thumbnailsPanel.appendChild(a),s.render({canvasContext:i.getContext("2d"),viewport:r}),t.push(a)}return t}onSelect(e){return this.selectListener=e,this}}var A=e=>!isNaN(parseFloat(e))&&isFinite(e);class x{defaultViewport;zoomToggle;zoomMenu;zoomSelects;zoomOutButton;zoomInButton;zoomForm;zoomInput;pageView;resizeTimeout=null;lastZoom;zoomList;minZoom;maxZoom;changeListener=e=>{};constructor(e,t){this.defaultViewport=t,this.zoomToggle=e.querySelector('[data-element="zoomToggle"]'),this.zoomMenu=e.querySelector('[data-element="zoomMenu"]'),this.zoomSelects=Array.from(e.querySelectorAll('[data-element="zoomSelect"]')),this.zoomOutButton=e.querySelector('[data-element="zoomOutButton"]'),this.zoomInButton=e.querySelector('[data-element="zoomInButton"]'),this.zoomForm=e.querySelector('[data-element="zoomForm"]'),this.zoomInput=e.querySelector('[data-element="zoomInput"]'),this.pageView=e.querySelector('[data-element="pageView"]'),this.lastZoom=parseInt(this.zoomInput.value,10),this.zoomList=this.zoomSelects.flatMap((e=>{const t=parseInt(e.dataset.value,10);return A(t)?t:[]})),this.minZoom=Math.min(...this.zoomList),this.maxZoom=Math.max(...this.zoomList),this.zoomToggle.addEventListener("click",(e=>{this.zoomMenu.classList.contains("zoom-menu-closed")?(e.stopPropagation(),this.layout(),this.open()):this.close()}),{passive:!0});for(let e of this.zoomSelects)e.addEventListener("click",(e=>{this.close(),this.deselectMenu();const t=e.target;t.classList.add("zoom-menu-item-selected");const n=this.calcFactor(t.dataset.value);this.zoomInput.value=Math.floor(100*n).toString(),this.lastZoom=parseInt(this.zoomInput.value,10),this.changeListener(n)}),{passive:!0});window.addEventListener("resize",(()=>{this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout((()=>{this.layout();const e=this.zoomSelects.find((e=>e.classList.contains("zoom-menu-item-selected"))).dataset.value;if("pageFit"===e||"pageWidth"===e){const t=this.calcFactor(e);this.changeListener(t)}}),100)}),{passive:!0}),document.body.addEventListener("click",(e=>{var t,n;this.zoomMenu.classList.contains("zoom-menu-closed")||(t={x:e.pageX,y:e.pageY},(n=this.zoomMenu.getBoundingClientRect()).x<=t.x&&t.x<=n.x+n.width&&n.y<=t.y&&t.y<=n.y+n.height)||this.close()}),{passive:!0}),this.zoomOutButton.addEventListener("click",(()=>{this.calcStep(0)}),{passive:!0}),this.zoomInButton.addEventListener("click",(()=>{this.calcStep(1)}),{passive:!0}),window.addEventListener("wheel",(e=>{if(!e.ctrlKey)return;e.preventDefault();const t=this.lastZoom;let n=t;if(e.deltaY<0){if(this.zoomOutButton.disabled=!1,t>=this.maxZoom)return;const e=1.25;n=Math.min(Math.floor(t*e),this.maxZoom),this.zoomInButton.disabled=n>=this.maxZoom}else if(e.deltaY>0){if(this.zoomInButton.disabled=!1,t<=this.minZoom)return;const e=.8;n=Math.max(Math.floor(t*e),this.minZoom),this.zoomOutButton.disabled=n<=this.minZoom}this.zoomInput.value=n.toString(),this.lastZoom=parseInt(this.zoomInput.value,10),this.activateMenu(this.zoomInput.value);const s=this.calcFactor(this.zoomInput.value);this.changeListener(s)}),{passive:!1}),this.zoomInput.addEventListener("blur",(()=>{this.enterZoom()}),{passive:!0}),this.zoomForm.addEventListener("submit",(e=>{e.preventDefault(),this.enterZoom()}),{passive:!1})}open(){this.zoomMenu.classList.remove("zoom-menu-closed")}close(){this.zoomMenu.classList.add("zoom-menu-closed")}layout(){const e=this.zoomToggle.getBoundingClientRect();this.zoomMenu.style.top=`${e.bottom}px`,this.zoomMenu.style.left=`${e.left}px`}calcFactor(e){let t=1;return A(e)?t=parseInt(e,10)/100:"pageFit"===e?t=this.pageView.clientHeight/this.defaultViewport.height:"pageWidth"===e&&(t=this.pageView.clientWidth/this.defaultViewport.width),t}getZoomFactor(){return this.calcFactor(this.zoomInput.value)}deselectMenu(){const e=this.zoomSelects.find((e=>e.classList.contains("zoom-menu-item-selected")));e&&e.classList.remove("zoom-menu-item-selected")}activateMenu(e){this.deselectMenu();const t=this.zoomSelects.find((t=>t.dataset.value==e));t&&t.classList.add("zoom-menu-item-selected")}enterZoom(){let e=parseInt(this.zoomInput.value,10);if(isNaN(e))this.zoomInput.value=this.lastZoom.toString();else{e<this.minZoom?e=this.minZoom:e>this.maxZoom&&(e=this.maxZoom),this.zoomInput.value=e.toString(),this.lastZoom=parseInt(this.zoomInput.value,10),this.zoomOutButton.disabled=this.zoomInput.value==this.minZoom.toString(),this.zoomInButton.disabled=this.zoomInput.value==this.maxZoom.toString();const t=this.calcFactor(this.zoomInput.value);this.changeListener(t)}}calcStep(e){this.zoomInput.value=0===e?(this.zoomList.sort(((e,t)=>t-e)).find((e=>e<this.lastZoom))??this.minZoom).toString():(this.zoomList.sort(((e,t)=>e-t)).find((e=>e>this.lastZoom))??this.maxZoom).toString(),this.lastZoom=parseInt(this.zoomInput.value,10),0===e?(this.zoomOutButton.disabled=this.zoomInput.value==this.minZoom.toString(),this.zoomInButton.disabled=!1):(this.zoomInButton.disabled=this.zoomInput.value==this.maxZoom.toString(),this.zoomOutButton.disabled=!1),this.activateMenu(this.zoomInput.value);const t=this.calcFactor(this.zoomInput.value);this.changeListener(t)}onChange(e){return this.changeListener=e,this}}class w{pageInput;totalPage;prevPageButton;nextPageButton;pageView;pageNodes;pageForm;minPage=1;maxPage;lastPage=1;changeListener=e=>{};constructor(e,t){this.pageInput=e.querySelector('[data-element="pageInput"]'),this.totalPage=e.querySelector('[data-element="totalPage"]'),this.prevPageButton=e.querySelector('[data-element="prevPageButton"]'),this.nextPageButton=e.querySelector('[data-element="nextPageButton"]'),this.pageView=e.querySelector('[data-element="pageView"]'),this.pageNodes=Array.from(this.pageView.querySelectorAll('[id^="page"]')),this.pageForm=e.querySelector('[data-element="pageForm"]'),this.totalPage.textContent=t.toString(),this.maxPage=t;const n=new IntersectionObserver((e=>{e.forEach((e=>{if(!e.isIntersecting)return;const t=e.target,n=parseInt(t.dataset.pageNumber,10);this.updatePage(n),this.changeListener(n)}))}),{root:this.pageView,rootMargin:"-50% 0px",threshold:0});for(let e of this.pageNodes)n.observe(e);this.pageInput.addEventListener("blur",(()=>{this.enterPage()}),{passive:!0}),this.pageForm.addEventListener("submit",(e=>{e.preventDefault(),this.enterPage()}),{passive:!1}),this.prevPageButton.addEventListener("click",(()=>{this.activatePage(parseInt(this.pageInput.value,10)-1)}),{passive:!0}),this.nextPageButton.addEventListener("click",(()=>{this.activatePage(parseInt(this.pageInput.value,10)+1)}),{passive:!0})}activatePage(e){const t=this.pageNodes.find((t=>t.dataset.pageNumber==e.toString()));this.pageView.scrollTop=t.offsetTop,this.updatePage(e)}updatePage(e){this.pageInput.value=e.toString(),this.lastPage=parseInt(this.pageInput.value,10),this.prevPageButton.disabled=e==this.minPage,this.nextPageButton.disabled=e==this.maxPage}enterPage(){let e=parseInt(this.pageInput.value,10);isNaN(e)?this.pageInput.value=this.lastPage.toString():(e<this.minPage?e=this.minPage:e>this.maxPage&&(e=this.maxPage),this.activatePage(e))}onChange(e){return this.changeListener=e,this}getCurrentPageNumber(){return parseInt(this.pageInput.value,10)}}var k=e=>{const t=e.match(/([^/]+)\.pdf$/i);return t?`${t[1]}.pdf`:"document.pdf"},P={action:{cancel:"Abbrechen",close:"Schliessen",download:"Download",enterFullscreen:"Vollbildansicht",exitFullscreen:"Vollbildansicht beenden",fitToPage:"An Seite anpassen",fitToWidth:"An Breite anpassen",pagePrev:"Vorherige Seite",pageNext:"Nchste Seite",print:"Drucken",ok:"OK",submit:"OK",zoomIn:"Heranzoomen",zoomOut:"Rauszoomen",zoomControls:"Zoomeinstellungen",darkMode:"Dark Mode",lightMode:"Heller Modus"},component:{leftPanel:"Linke Leiste",zoomOverlay:"Zoom-Overlay"},message:{badDocument:"Fehler beim Laden des Dokuments. Das Dokument ist entweder defekt oder ungltig.",enterPassword:"Dieses Dokument ist durch ein Passwort geschtzt. Bitte geben Sie ein Passwort ein",incorrectPassword:"Falsches Passwort",notSupported:"Dieser Dateityp wird nicht untersttzt.",passwordRequired:"Passwort erforderlich",warning:"Warnung"},shortcut:{zoomIn:"(Strg +)",zoomOut:"(Strg -)"}},C={action:{cancel:"Cancel",close:"Close",download:"Download",enterFullscreen:"Full screen",exitFullscreen:"Exit full screen",fitToPage:"Fit to page",fitToWidth:"Fit to width",pagePrev:"Previous page",pageNext:"Next page",print:"Print",ok:"OK",submit:"Submit",zoomIn:"Zoom in",zoomOut:"Zoom out",zoomControls:"Zoom Controls",darkMode:"Dark mode",lightMode:"Light mode"},component:{leftPanel:"Panel",zoomOverlay:"Zoom Overlay"},message:{badDocument:"Failed to load document. The document is either corrupt or not valid.",enterPassword:"This document is password protected. Please enter a password",incorrectPassword:"Incorrect password",notSupported:"That file type is not supported.",passwordRequired:"Password required",warning:"Warning"},shortcut:{zoomIn:"(Ctrl +)",zoomOut:"(Ctrl -)"}},T={action:{cancel:"Cancelar",close:"Cerrar",download:"Descargar",enterFullscreen:"Pantalla completa",exitFullscreen:"Salir de pantalla completa",fitToPage:"Ajustar a la pgina",fitToWidth:"Ajustar al ancho",pagePrev:"Pagina anterior",pageNext:"Siguiente pgina",print:"Imprimir",ok:"OK",submit:"Enviar",zoomIn:"Acercar zoom",zoomOut:"Alejar zoom",zoomControls:"Controles de zoom",darkMode:"Modo oscuro",lightMode:"Modo de luz"},component:{leftPanel:"Panel",zoomOverlay:"Superposicin de zoom"},message:{badDocument:"Error al cargar el documento. El documento est daado o no es vlido.",enterPassword:"Este documento est protegido por contrasea. Introduce una contrasea",incorrectPassword:"Contrasea incorrecta",notSupported:"Ese tipo de archivo no es compatible.",passwordRequired:"Se requiere contrasea",warning:"Advertencia"},shortcut:{zoomIn:"(Ctrl +)",zoomOut:"(Ctrl -)"}},M={action:{cancel:"Annuler",close:"Fermer",download:"Tlcharger",enterFullscreen:"Plein cran",exitFullscreen:"Quitter le plein cran",fitToPage:"Ajuster  la page",fitToWidth:"Ajuster  la largeur",pagePrev:"Page prcdente",pageNext:"Page suivante",print:"Imprimer",ok:"OK",submit:"Soumettre",zoomIn:"Zoom avant",zoomOut:"Zoom arrire",zoomControls:"Commandes de zoom",darkMode:"Mode sombre",lightMode:"Mode clair"},component:{leftPanel:"Panneau de gauche",zoomOverlay:"Superposition de zoom"},message:{badDocument:"chec du chargement du document. Le document est corrompu ou non valide.",enterPassword:"Ce document est protg par un mot de passe. Veuillez saisir ce mot de passe.",incorrectPassword:"Mot de passe incorrect",notSupported:"Ce type de fichier n'est pas pris en charge.",passwordRequired:"Mot de passe requis",warning:"Avertissement"},shortcut:{zoomIn:"(Ctrl +)",zoomOut:"(Ctrl -)"}},E={action:{cancel:"Annulla",close:"Vicino",download:"Scarica",enterFullscreen:"A schermo intero",exitFullscreen:"Esci dalla modalit schermo intero",fitToPage:"Adatta alla pagina",fitToWidth:"Adatta alla larghezza",pagePrev:"Pagina precedente",pageNext:"Pagina successiva",print:"Stampa",ok:"ok",submit:"Invia",zoomIn:"Ingrandire",zoomOut:"Rimpicciolisci",zoomControls:"Controlli dello zoom",darkMode:"Modalit scura",lightMode:"Modalit luce"},component:{leftPanel:"Pannello",zoomOverlay:"Sovrapposizione zoom"},message:{badDocument:"Caricamento del documento non riuscito. Il documento  corrotto o non valido.",enterPassword:"Questo documento  protetto da password. Per favore inserire una password",incorrectPassword:"Password errata",notSupported:"Quel tipo di file non  supportato.",passwordRequired:"Password richiesta",warning:"Avvertimento"},shortcut:{zoomIn:"(Ctrl +)",zoomOut:"(Ctrl -)"}},R={action:{cancel:"",close:"",download:"",enterFullscreen:"",exitFullscreen:"",fitToPage:"",fitToWidth:"",pagePrev:"",pageNext:"",print:"",ok:"OK",submit:"",zoomIn:"",zoomOut:"",zoomControls:"",darkMode:"",lightMode:""},component:{leftPanel:"",zoomOverlay:""},message:{badDocument:"",enterPassword:" ",incorrectPassword:"",notSupported:"",passwordRequired:"",warning:""},shortcut:{zoomIn:"(Ctrl +)",zoomOut:"(Ctrl -)"}},F={action:{cancel:"",close:"",download:"",enterFullscreen:" ",exitFullscreen:"  ",fitToPage:" ",fitToWidth:" ",pagePrev:" ",pageNext:" ",print:"",ok:"",submit:"",zoomIn:"",zoomOut:"",zoomControls:" ",darkMode:"",lightMode:""},component:{leftPanel:"",zoomOverlay:" "},message:{badDocument:"  .    .",enterPassword:"    .  ",incorrectPassword:" ",notSupported:"    .",passwordRequired:" ",warning:""},shortcut:{zoomIn:"(Ctrl +)",zoomOut:"(Ctrl -)"}},D={action:{cancel:"Annuleren",close:"Sluiten",download:"Download bestand",enterFullscreen:"Document in volledig scherm",exitFullscreen:"Document normaal weergeven",fitToPage:"Vensterhoogte",fitToWidth:"Vensterbreedte",pagePrev:"Vorige pagina",pageNext:"Volgende bladzijde",print:"Printen",ok:"OK",submit:"Verzenden",zoomIn:"Zoom in",zoomOut:"Zoom uit",zoomControls:"Zoomregelaars",darkMode:"Donkere modus",lightMode:"Lichte modus"},component:{leftPanel:"Panel",zoomOverlay:"Zoom-overlay"},message:{badDocument:"Er is een fout opgetreden bij het laden van het document. Het document is corrupt of heeft een ongeldige indeling.",enterPassword:"Dit document heeft een wachtwoord beveiliging. Geef een wachtwoord",incorrectPassword:"Fout wachtwoord",notSupported:"Dit bestandstype wordt niet ondersteund.",passwordRequired:"Wachtwoord vereist",warning:"Waarschuwing"},shortcut:{zoomIn:"(Ctrl +)",zoomOut:"(Ctrl -)"}},O={action:{cancel:"Cancelar",close:"Fechar",download:"Download",enterFullscreen:"Tela cheia",exitFullscreen:"Sair da tela cheia",fitToPage:"Ajustar  pgina",fitToWidth:"Ajustar  largura",pagePrev:"Pgina anterior",pageNext:"Prxima pgina",print:"Imprimir",ok:"OK",submit:"Enviar",zoomIn:"Aproximar",zoomOut:"Afastar",zoomControls:"Controles de zoom",darkMode:"Modo escuro",lightMode:"Modo claro"},component:{leftPanel:"Painel",zoomOverlay:"Sobreposio de zoom"},message:{badDocument:"Falha ao carregar documento. O documento est corrompido ou  invlido.",enterPassword:"Esse documento  protegido por senha. Digite uma senha",incorrectPassword:"Senha incorreta",notSupported:"Esse tipo de arquivo no  compatvel.",passwordRequired:"Senha obrigatria",warning:"Aviso"},shortcut:{zoomIn:"(Ctrl +)",zoomOut:"(Ctrl -)"}},L={action:{cancel:"",close:"",download:"",enterFullscreen:" ",exitFullscreen:"   ",fitToPage:" ",fitToWidth:"  ",pagePrev:" ",pageNext:" ",print:"",ok:"OK",submit:"",zoomIn:"",zoomOut:"",zoomControls:" ",darkMode:" ",lightMode:" "},component:{leftPanel:"",zoomOverlay:" "},message:{badDocument:"    .     .",enterPassword:"  .   .",incorrectPassword:" ",notSupported:"   .",passwordRequired:" ",warning:""},shortcut:{zoomIn:"(Ctrl +)",zoomOut:"(Ctrl -)"}},I={action:{cancel:"",close:"",download:"",enterFullscreen:"",exitFullscreen:"",fitToPage:"",fitToWidth:"",pagePrev:"",pageNext:"",print:"",ok:"",submit:"",zoomIn:"",zoomOut:"",zoomControls:"",darkMode:"",lightMode:""},component:{leftPanel:"",zoomOverlay:""},message:{badDocument:"",enterPassword:"",incorrectPassword:"",notSupported:"",passwordRequired:"",warning:""},shortcut:{zoomIn:"(Ctrl +)",zoomOut:"(Ctrl -)"}},N={action:{cancel:"",close:"",download:"",enterFullscreen:"",exitFullscreen:"",fitToPage:"",fitToWidth:"",pagePrev:"",pageNext:"",print:"",ok:"OK",submit:"",zoomIn:"",zoomOut:"",zoomControls:"",darkMode:"",lightMode:""},component:{leftPanel:"",zoomOverlay:""},message:{badDocument:"",enterPassword:"",incorrectPassword:"",notSupported:"",passwordRequired:"",warning:""},shortcut:{zoomIn:"(Ctrl +)",zoomOut:"(Ctrl -)"}};class j extends HTMLElement{loading=new t(this);errorModal=new s(this);passwordModal;language;loaded=!1;calledLoadListener=!1;pageNav;documentTitle;printButton;downloadButton;themeChangeButton;listeners={pageChange:void 0,documentLoaded:void 0,passwordEnter:void 0};constructor(){super(),"false"!==this.getAttribute("restoretheme")&&(()=>{const t=localStorage.getItem("theme");t&&e(t)})(),this.render(!0),this.documentTitle=this.querySelector('[data-element="title"]'),this.printButton=this.querySelector('[data-element="printButton"]'),this.downloadButton=this.querySelector('[data-element="downloadButton"]'),this.themeChangeButton=this.querySelector('[data-element="themeChangeButton"]'),this.language=((e="en")=>{const t={de:P,en:C,es:T,fr:M,it:E,ja:R,ko:F,nl:D,pt_br:O,ru:L,zh_cn:I,zh_tw:N};return t[e in t?e:"en"]})(this.getAttribute("lang")||"en"),this.passwordModal=new v(this,this.language)}async connectedCallback(){try{this.loading.show();const t=this.getAttribute("src");if(!t)throw new Error("Element pdf-live is missing required attribute src");this.documentTitle.textContent=document.title=k(t);const n=this.getAttribute("worker");if(!n)throw new Error("Element pdf-live is missing required attribute worker");(()=>{const e=document.createElement("script");e.innerHTML='!function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],t):"object"==typeof exports?exports["pdfjs-dist/build/pdf"]=t():e["pdfjs-dist/build/pdf"]=e.pdfjsLib=t()}(this,(function(){return(()=>{"use strict";var __webpack_modules__=[,(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.UNSUPPORTED_FEATURES=t.TextRenderingMode=t.StreamType=t.RenderingIntentFlag=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.IsLittleEndianCached=t.IsEvalSupportedCached=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMode=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0;t.arrayByteLength=arrayByteLength;t.arraysToBytes=function arraysToBytes(e){const t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];let n=0;for(let s=0;s<t;s++)n+=arrayByteLength(e[s]);let s=0;const r=new Uint8Array(n);for(let n=0;n<t;n++){let t=e[n];t instanceof Uint8Array||(t="string"==typeof t?stringToBytes(t):new Uint8Array(t));const a=t.byteLength;r.set(t,s);s+=a}return r};t.assert=function assert(e,t){e||unreachable(t)};t.bytesToString=function bytesToString(e){"object"==typeof e&&null!==e&&void 0!==e.length||unreachable("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const s=[];for(let r=0;r<t;r+=n){const a=Math.min(r+n,t),i=e.subarray(r,a);s.push(String.fromCharCode.apply(null,i))}return s.join("")};t.createPromiseCapability=function createPromiseCapability(){const e=Object.create(null);let t=!1;Object.defineProperty(e,"settled",{get:()=>t});e.promise=new Promise((function(n,s){e.resolve=function(e){t=!0;n(e)};e.reject=function(e){t=!0;s(e)}}));return e};t.createValidAbsoluteUrl=function createValidAbsoluteUrl(e,t=null,n=null){if(!e)return null;try{if(n&&"string"==typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\\./g);t&&t.length>=2&&(e=`http://${e}`)}if(n.tryConvertEncoding)try{e=stringToUTF8String(e)}catch(e){}}const s=t?new URL(e,t):new URL(e);if(function _isValidProtocol(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(s))return s}catch(e){}return null};t.escapeString=function escapeString(e){return e.replace(/([()\\\\\\n\\r])/g,(e=>"\\n"===e?"\\\\n":"\\r"===e?"\\\\r":`\\\\${e}`))};t.getModificationDate=function getModificationDate(e=new Date){return[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")].join("")};t.getVerbosityLevel=function getVerbosityLevel(){return r};t.info=function info(e){r>=s.INFOS&&console.log(`Info: ${e}`)};t.isArrayBuffer=function isArrayBuffer(e){return"object"==typeof e&&null!==e&&void 0!==e.byteLength};t.isArrayEqual=function isArrayEqual(e,t){if(e.length!==t.length)return!1;for(let n=0,s=e.length;n<s;n++)if(e[n]!==t[n])return!1;return!0};t.isAscii=function isAscii(e){return/^[\\x00-\\x7F]*$/.test(e)};t.isSameOrigin=function isSameOrigin(e,t){let n;try{n=new URL(e);if(!n.origin||"null"===n.origin)return!1}catch(e){return!1}const s=new URL(t,n);return n.origin===s.origin};t.objectFromMap=function objectFromMap(e){const t=Object.create(null);for(const[n,s]of e)t[n]=s;return t};t.objectSize=function objectSize(e){return Object.keys(e).length};t.setVerbosityLevel=function setVerbosityLevel(e){Number.isInteger(e)&&(r=e)};t.shadow=shadow;t.string32=function string32(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)};t.stringToBytes=stringToBytes;t.stringToPDFString=function stringToPDFString(e){if(e[0]>=""){let t;""===e[0]&&""===e[1]?t="utf-16be":""===e[0]&&""===e[1]?t="utf-16le":""===e[0]&&""===e[1]&&""===e[2]&&(t="utf-8");if(t)try{const n=new TextDecoder(t,{fatal:!0}),s=stringToBytes(e);return n.decode(s)}catch(e){warn(`stringToPDFString: "${e}".`)}}const t=[];for(let n=0,s=e.length;n<s;n++){const s=c[e.charCodeAt(n)];t.push(s?String.fromCharCode(s):e.charAt(n))}return t.join("")};t.stringToUTF16BEString=function stringToUTF16BEString(e){const t=[""];for(let n=0,s=e.length;n<s;n++){const s=e.charCodeAt(n);t.push(String.fromCharCode(s>>8&255),String.fromCharCode(255&s))}return t.join("")};t.stringToUTF8String=stringToUTF8String;t.unreachable=unreachable;t.utf8StringToString=function utf8StringToString(e){return unescape(encodeURIComponent(e))};t.warn=warn;n(2);t.IDENTITY_MATRIX=[1,0,0,1,0,0];t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0];t.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};t.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"};t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"};t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};t.AnnotationReplyType={GROUP:"Group",REPLY:"R"};t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.PageActionEventType={O:"PageOpen",C:"PageClose"};t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const s={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=s;t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let r=s.WARNINGS;function warn(e){r>=s.WARNINGS&&console.log(`Warning: ${e}`)}function unreachable(e){throw new Error(e)}function shadow(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1});return n}const a=function BaseExceptionClosure(){function BaseException(e,t){this.constructor===BaseException&&unreachable("Cannot initialize BaseException.");this.message=e;this.name=t}BaseException.prototype=new Error;BaseException.constructor=BaseException;return BaseException}();t.BaseException=a;t.PasswordException=class PasswordException extends a{constructor(e,t){super(e,"PasswordException");this.code=t}};t.UnknownErrorException=class UnknownErrorException extends a{constructor(e,t){super(e,"UnknownErrorException");this.details=t}};t.InvalidPDFException=class InvalidPDFException extends a{constructor(e){super(e,"InvalidPDFException")}};t.MissingPDFException=class MissingPDFException extends a{constructor(e){super(e,"MissingPDFException")}};t.UnexpectedResponseException=class UnexpectedResponseException extends a{constructor(e,t){super(e,"UnexpectedResponseException");this.status=t}};t.FormatError=class FormatError extends a{constructor(e){super(e,"FormatError")}};t.AbortException=class AbortException extends a{constructor(e){super(e,"AbortException")}};function stringToBytes(e){"string"!=typeof e&&unreachable("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let s=0;s<t;++s)n[s]=255&e.charCodeAt(s);return n}function arrayByteLength(e){if(void 0!==e.length)return e.length;if(void 0!==e.byteLength)return e.byteLength;unreachable("Invalid argument for arrayByteLength")}const i={get value(){return shadow(this,"value",function isLittleEndian(){const e=new Uint8Array(4);e[0]=1;return 1===new Uint32Array(e.buffer,0,1)[0]}())}};t.IsLittleEndianCached=i;const o={get value(){return shadow(this,"value",function isEvalSupported(){try{new Function("");return!0}catch(e){return!1}}())}};t.IsEvalSupportedCached=o;const l=[...Array(256).keys()].map((e=>e.toString(16).padStart(2,"0")));class Util{static makeHexColor(e,t,n){return`#${l[e]}${l[t]}${l[n]}`}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=Util.applyTransform(e,t),s=Util.applyTransform(e.slice(2,4),t),r=Util.applyTransform([e[0],e[3]],t),a=Util.applyTransform([e[2],e[1]],t);return[Math.min(n[0],s[0],r[0],a[0]),Math.min(n[1],s[1],r[1],a[1]),Math.max(n[0],s[0],r[0],a[0]),Math.max(n[1],s[1],r[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static apply3dTransform(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],s=e[0]*t[1]+e[1]*t[3],r=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],i=(n+a)/2,o=Math.sqrt((n+a)**2-4*(n*a-r*s))/2,l=i+o||1,c=i-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);if(e[0]>e[2]){t[0]=e[2];t[2]=e[0]}if(e[1]>e[3]){t[1]=e[3];t[3]=e[1]}return t}static intersect(e,t){function compare(e,t){return e-t}const n=[e[0],e[2],t[0],t[2]].sort(compare),s=[e[1],e[3],t[1],t[3]].sort(compare),r=[];e=Util.normalizeRect(e);t=Util.normalizeRect(t);if(!(n[0]===e[0]&&n[1]===t[0]||n[0]===t[0]&&n[1]===e[0]))return null;r[0]=n[1];r[2]=n[2];if(!(s[0]===e[1]&&s[1]===t[1]||s[0]===t[1]&&s[1]===e[1]))return null;r[1]=s[1];r[3]=s[2];return r}static bezierBoundingBox(e,t,n,s,r,a,i,o){const l=[],c=[[],[]];let h,d,u,p,g,f,m,_;for(let c=0;c<2;++c){if(0===c){d=6*e-12*n+6*r;h=-3*e+9*n-9*r+3*i;u=3*n-3*e}else{d=6*t-12*s+6*a;h=-3*t+9*s-9*a+3*o;u=3*s-3*t}if(Math.abs(h)<1e-12){if(Math.abs(d)<1e-12)continue;p=-u/d;0<p&&p<1&&l.push(p)}else{m=d*d-4*u*h;_=Math.sqrt(m);if(!(m<0)){g=(-d+_)/(2*h);0<g&&g<1&&l.push(g);f=(-d-_)/(2*h);0<f&&f<1&&l.push(f)}}}let A,b=l.length;const y=b;for(;b--;){p=l[b];A=1-p;c[0][b]=A*A*A*e+3*A*A*p*n+3*A*p*p*r+p*p*p*i;c[1][b]=A*A*A*t+3*A*A*p*s+3*A*p*p*a+p*p*p*o}c[0][y]=e;c[1][y]=t;c[0][y+1]=i;c[1][y+1]=o;c[0].length=c[1].length=y+2;return[Math.min(...c[0]),Math.min(...c[1]),Math.max(...c[0]),Math.max(...c[1])]}}t.Util=Util;const c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function stringToUTF8String(e){return decodeURIComponent(escape(e))}},(e,t,n)=>{n(3)},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.isNodeJS=void 0;const n=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=n},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0;exports.getDocument=getDocument;exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory;exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){const t=new PDFDocumentLoadingTask;let n;if("string"==typeof e||e instanceof URL)n={url:e};else if((0,_util.isArrayBuffer)(e))n={data:e};else if(e instanceof PDFDataRangeTransport)n={range:e};else{if("object"!=typeof e)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");n=e}const s=Object.create(null);let r=null,a=null;for(const e in n){const t=n[e];switch(e){case"url":if("undefined"!=typeof window)try{s[e]=new URL(t,window.location).href;continue}catch(e){(0,_util.warn)(`Cannot create valid URL: "${e}".`)}else if("string"==typeof t||t instanceof URL){s[e]=t.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":r=t;continue;case"worker":a=t;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&t instanceof Buffer)s[e]=new Uint8Array(t);else{if(t instanceof Uint8Array)break;if("string"==typeof t)s[e]=(0,_util.stringToBytes)(t);else if("object"!=typeof t||null===t||isNaN(t.length)){if(!(0,_util.isArrayBuffer)(t))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");s[e]=new Uint8Array(t)}else s[e]=new Uint8Array(t)}continue}s[e]=t}s.rangeChunkSize=s.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE;s.CMapReaderFactory=s.CMapReaderFactory||DefaultCMapReaderFactory;s.StandardFontDataFactory=s.StandardFontDataFactory||DefaultStandardFontDataFactory;s.ignoreErrors=!0!==s.stopAtErrors;s.fontExtraProperties=!0===s.fontExtraProperties;s.pdfBug=!0===s.pdfBug;s.enableXfa=!0===s.enableXfa;("string"!=typeof s.docBaseUrl||(0,_display_utils.isDataScheme)(s.docBaseUrl))&&(s.docBaseUrl=null);Number.isInteger(s.maxImageSize)||(s.maxImageSize=-1);"boolean"!=typeof s.useWorkerFetch&&(s.useWorkerFetch=s.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&s.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory);"boolean"!=typeof s.isEvalSupported&&(s.isEvalSupported=!0);"boolean"!=typeof s.disableFontFace&&(s.disableFontFace=_is_node.isNodeJS);"boolean"!=typeof s.useSystemFonts&&(s.useSystemFonts=!_is_node.isNodeJS&&!s.disableFontFace);void 0===s.ownerDocument&&(s.ownerDocument=globalThis.document);"boolean"!=typeof s.disableRange&&(s.disableRange=!1);"boolean"!=typeof s.disableStream&&(s.disableStream=!1);"boolean"!=typeof s.disableAutoFetch&&(s.disableAutoFetch=!1);(0,_util.setVerbosityLevel)(s.verbosity);if(!a){const e={verbosity:s.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};a=e.port?PDFWorker.fromPort(e):new PDFWorker(e);t._worker=a}const i=t.docId;a.promise.then((function(){if(t.destroyed)throw new Error("Loading aborted");const e=_fetchDocument(a,s,r,i),n=new Promise((function(e){let t;r?t=new _transport_stream.PDFDataTransportStream({length:s.length,initialData:s.initialData,progressiveDone:s.progressiveDone,contentDispositionFilename:s.contentDispositionFilename,disableRange:s.disableRange,disableStream:s.disableStream},r):s.data||(t=createPDFNetworkStream({url:s.url,length:s.length,httpHeaders:s.httpHeaders,withCredentials:s.withCredentials,rangeChunkSize:s.rangeChunkSize,disableRange:s.disableRange,disableStream:s.disableStream}));e(t)}));return Promise.all([e,n]).then((function([e,n]){if(t.destroyed)throw new Error("Loading aborted");const r=new _message_handler.MessageHandler(i,e,a.port),o=new WorkerTransport(r,t,n,s);t._transport=o;r.send("Ready",null)}))})).catch(t._capability.reject);return t}async function _fetchDocument(e,t,n,s){if(e.destroyed)throw new Error("Worker was destroyed");if(n){t.length=n.length;t.initialData=n.initialData;t.progressiveDone=n.progressiveDone;t.contentDispositionFilename=n.contentDispositionFilename}const r=await e.messageHandler.sendWithPromise("GetDocRequest",{docId:s,apiVersion:"2.13.216",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties,enableXfa:t.enableXfa,useSystemFonts:t.useSystemFonts,cMapUrl:t.useWorkerFetch?t.cMapUrl:null,standardFontDataUrl:t.useWorkerFetch?t.standardFontDataUrl:null});if(e.destroyed)throw new Error("Worker was destroyed");return r}class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)();this._transport=null;this._worker=null;this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++;this.destroyed=!1;this.onPassword=null;this.onProgress=null;this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;await(this._transport?.destroy());this._transport=null;if(this._worker){this._worker.destroy();this._worker=null}}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,t,n=!1,s=null){this.length=e;this.initialData=t;this.progressiveDone=n;this.contentDispositionFilename=s;this._rangeListeners=[];this._progressListeners=[];this._progressiveReadListeners=[];this._progressiveDoneListeners=[];this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,t){this._pdfInfo=e;this._transport=t;Object.defineProperty(this,"fingerprint",{get(){(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead.");return this.fingerprints[0]}});Object.defineProperty(this,"getStats",{value:async()=>{(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead.");return this.stats||{streamTypes:{},fontTypes:{}}}})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");return this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(e,t,n,s,r=!1){this._pageIndex=e;this._pageInfo=t;this._ownerDocument=s;this._transport=n;this._stats=r?new _display_utils.StatTimer:null;this._pdfBug=r;this.commonObjs=n.commonObjs;this.objs=new PDFObjects;this.cleanupAfterRender=!1;this.pendingCleanup=!1;this._intentStates=new Map;this._annotationPromises=new Map;this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:r=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:r})}getAnnotations({intent:e="display"}={}){const t=this._transport.getRenderingIntent(e);let n=this._annotationPromises.get(t.cacheKey);if(!n){n=this._transport.getAnnotations(this._pageIndex,t.renderingIntent);this._annotationPromises.set(t.cacheKey,n);n=n.then((e=>{for(const t of e){void 0!==t.titleObj&&Object.defineProperty(t,"title",{get(){(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead.");return t.titleObj.str}});void 0!==t.contentsObj&&Object.defineProperty(t,"contents",{get(){(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead.");return t.contentsObj.str}})}return e}))}return n}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:s=_util.AnnotationMode.ENABLE,transform:r=null,imageLayer:a=null,canvasFactory:i=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null}){if(void 0!==arguments[0]?.renderInteractiveForms){(0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead.");!0===arguments[0].renderInteractiveForms&&s===_util.AnnotationMode.ENABLE&&(s=_util.AnnotationMode.ENABLE_FORMS)}if(void 0!==arguments[0]?.includeAnnotationStorage){(0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead.");!0===arguments[0].includeAnnotationStorage&&s===_util.AnnotationMode.ENABLE&&(s=_util.AnnotationMode.ENABLE_STORAGE)}this._stats&&this._stats.time("Overall");const h=this._transport.getRenderingIntent(n,s);this.pendingCleanup=!1;l||(l=this._transport.getOptionalContentConfig());let d=this._intentStates.get(h.cacheKey);if(!d){d=Object.create(null);this._intentStates.set(h.cacheKey,d)}if(d.streamReaderCancelTimeout){clearTimeout(d.streamReaderCancelTimeout);d.streamReaderCancelTimeout=null}const u=i||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),p=!!(h.renderingIntent&_util.RenderingIntentFlag.PRINT);if(!d.displayReadyCapability){d.displayReadyCapability=(0,_util.createPromiseCapability)();d.operatorList={fnArray:[],argsArray:[],lastChunk:!1};this._stats&&this._stats.time("Page Request");this._pumpOperatorList(h)}const complete=e=>{d.renderTasks.delete(g);(this.cleanupAfterRender||p)&&(this.pendingCleanup=!0);this._tryCleanup();if(e){g.capability.reject(e);this._abortOperatorList({intentState:d,reason:e instanceof Error?e:new Error(e)})}else g.capability.resolve();if(this._stats){this._stats.timeEnd("Rendering");this._stats.timeEnd("Overall")}},g=new InternalRenderTask({callback:complete,params:{canvasContext:e,viewport:t,transform:r,imageLayer:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:d.operatorList,pageIndex:this._pageIndex,canvasFactory:u,useRequestAnimationFrame:!p,pdfBug:this._pdfBug});(d.renderTasks||=new Set).add(g);const f=g.task;Promise.all([d.displayReadyCapability.promise,l]).then((([e,t])=>{if(this.pendingCleanup)complete();else{this._stats&&this._stats.time("Rendering");g.initializeGraphics({transparency:e,optionalContentConfig:t});g.operatorListChanged()}})).catch(complete);return f}getOperatorList({intent:e="display",annotationMode:t=_util.AnnotationMode.ENABLE}={}){const n=this._transport.getRenderingIntent(e,t,!0);let s,r=this._intentStates.get(n.cacheKey);if(!r){r=Object.create(null);this._intentStates.set(n.cacheKey,r)}if(!r.opListReadCapability){s=Object.create(null);s.operatorListChanged=function operatorListChanged(){if(r.operatorList.lastChunk){r.opListReadCapability.resolve(r.operatorList);r.renderTasks.delete(s)}};r.opListReadCapability=(0,_util.createPromiseCapability)();(r.renderTasks||=new Set).add(s);r.operatorList={fnArray:[],argsArray:[],lastChunk:!1};this._stats&&this._stats.time("Page Request");this._pumpOperatorList(n)}return r.opListReadCapability.promise}streamTextContent({disableCombineTextItems:e=!1,includeMarkedContent:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==e,includeMarkedContent:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then((e=>_xfa_text.XfaText.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const s=t.getReader(),r={items:[],styles:Object.create(null)};!function pump(){s.read().then((function({value:t,done:n}){if(n)e(r);else{Object.assign(r.styles,t.styles);r.items.push(...t.items);pump()}}),n)}()}))}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values()){this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0});if(!t.opListReadCapability)for(const n of t.renderTasks){e.push(n.completed);n.cancel()}}this.objs.clear();this._annotationPromises.clear();this._jsActionsPromise=null;this._structTreePromise=null;this.pendingCleanup=!1;return Promise.all(e)}cleanup(e=!1){this.pendingCleanup=!0;return this._tryCleanup(e)}_tryCleanup(e=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;this._intentStates.clear();this.objs.clear();this._annotationPromises.clear();this._jsActionsPromise=null;this._structTreePromise=null;e&&this._stats&&(this._stats=new _display_utils.StatTimer);this.pendingCleanup=!1;return!0}_startRenderPage(e,t){const n=this._intentStates.get(t);if(n){this._stats&&this._stats.timeEnd("Page Request");n.displayReadyCapability&&n.displayReadyCapability.resolve(e)}}_renderPageChunk(e,t){for(let n=0,s=e.length;n<s;n++){t.operatorList.fnArray.push(e.fnArray[n]);t.operatorList.argsArray.push(e.argsArray[n])}t.operatorList.lastChunk=e.lastChunk;for(const e of t.renderTasks)e.operatorListChanged();e.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:e,cacheKey:t}){const n=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:e&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),s=this._intentStates.get(t);s.streamReader=n;const pump=()=>{n.read().then((({value:e,done:t})=>{if(t)s.streamReader=null;else if(!this._transport.destroyed){this._renderPageChunk(e,s);pump()}}),(e=>{s.streamReader=null;if(!this._transport.destroyed){if(s.operatorList){s.operatorList.lastChunk=!0;for(const e of s.renderTasks)e.operatorListChanged();this._tryCleanup()}if(s.displayReadyCapability)s.displayReadyCapability.reject(e);else{if(!s.opListReadCapability)throw e;s.opListReadCapability.reject(e)}}}))};pump()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(!n){if(e.renderTasks.size>0)return;if(t instanceof _display_utils.RenderingCancelledException){e.streamReaderCancelTimeout=setTimeout((()=>{this._abortOperatorList({intentState:e,reason:t,force:!0});e.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT);return}}e.streamReader.cancel(new _util.AbortException(t.message)).catch((()=>{}));e.streamReader=null;if(!this._transport.destroyed){for(const[t,n]of this._intentStates)if(n===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[];this._deferred=Promise.resolve()}postMessage(e,t){const n={data:structuredClone(e,t)};this._deferred.then((()=>{for(const e of this._listeners)e.call(this,n)}))}addEventListener(e,t){this._listeners.push(t)}removeEventListener(e,t){const n=this._listeners.indexOf(t);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS&&"function"==typeof require){PDFWorkerUtil.isWorkerDisabled=!0;PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js"}else if("object"==typeof document){const e=document?.currentScript?.src;e&&(PDFWorkerUtil.fallbackWorkerSrc=e.replace(/(\\.(?:min\\.)?js)(\\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(e){const t=`importScripts("${e}");`;return URL.createObjectURL(new Blob([t]))};class PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:e=null,port:t=null,verbosity:n=(0,_util.getVerbosityLevel)()}={}){if(t&&PDFWorker._workerPorts.has(t))throw new Error("Cannot use more than one PDFWorker per port.");this.name=e;this.destroyed=!1;this.verbosity=n;this._readyCapability=(0,_util.createPromiseCapability)();this._port=null;this._webWorker=null;this._messageHandler=null;if(t){PDFWorker._workerPorts.set(t,this);this._initializeFromPort(t)}else this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e;this._messageHandler=new _message_handler.MessageHandler("main","worker",e);this._messageHandler.on("ready",(function(){}));this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let e=PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,e)||(e=PDFWorkerUtil.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e),n=new _message_handler.MessageHandler("main","worker",t),terminateEarly=()=>{t.removeEventListener("error",onWorkerError);n.destroy();t.terminate();this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},onWorkerError=()=>{this._webWorker||terminateEarly()};t.addEventListener("error",onWorkerError);n.on("test",(e=>{t.removeEventListener("error",onWorkerError);if(this.destroyed)terminateEarly();else if(e){this._messageHandler=n;this._port=t;this._webWorker=t;this._readyCapability.resolve();n.send("configure",{verbosity:this.verbosity})}else{this._setupFakeWorker();n.destroy();t.terminate()}}));n.on("ready",(e=>{t.removeEventListener("error",onWorkerError);if(this.destroyed)terminateEarly();else try{sendTest()}catch(e){this._setupFakeWorker()}}));const sendTest=()=>{const e=new Uint8Array([255]);try{n.send("test",e,[e.buffer])}catch(t){(0,_util.warn)("Cannot use postMessage transfers.");e[0]=0;n.send("test",e)}};sendTest();return}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){if(!PDFWorkerUtil.isWorkerDisabled){(0,_util.warn)("Setting up fake worker.");PDFWorkerUtil.isWorkerDisabled=!0}PDFWorker._setupFakeWorkerGlobal.then((e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new LoopbackPort;this._port=t;const n="fake"+PDFWorkerUtil.fakeWorkerId++,s=new _message_handler.MessageHandler(n+"_worker",n,t);e.setup(s,t);const r=new _message_handler.MessageHandler(n,n+"_worker",t);this._messageHandler=r;this._readyCapability.resolve();r.send("configure",{verbosity:this.verbosity})})).catch((e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))}))}destroy(){this.destroyed=!0;if(this._webWorker){this._webWorker.terminate();this._webWorker=null}PDFWorker._workerPorts.delete(this._port);this._port=null;if(this._messageHandler){this._messageHandler.destroy();this._messageHandler=null}}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(e.port)?this._workerPorts.get(e.port):new PDFWorker(e)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc){_is_node.isNodeJS||(0,_display_utils.deprecated)(\'No "GlobalWorkerOptions.workerSrc" specified.\');return PDFWorkerUtil.fallbackWorkerSrc}throw new Error(\'No "GlobalWorkerOptions.workerSrc" specified.\')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch(e){return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&"function"==typeof require){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}await(0,_display_utils.loadScript)(this.workerSrc);return window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;PDFWorker.getWorkerSrc=function(){(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead.");return this.workerSrc};class WorkerTransport{#e=null;#t=new Map;#n=new Map;#s=null;constructor(e,t,n,s){this.messageHandler=e;this.loadingTask=t;this.commonObjs=new PDFObjects;this.fontLoader=new _font_loader.FontLoader({docId:t.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:s.ownerDocument,styleElement:s.styleElement});this._params=s;if(!s.useWorkerFetch){this.CMapReaderFactory=new s.CMapReaderFactory({baseUrl:s.cMapUrl,isCompressed:s.cMapPacked});this.StandardFontDataFactory=new s.StandardFontDataFactory({baseUrl:s.standardFontDataUrl})}this.destroyed=!1;this.destroyCapability=null;this._passwordCapability=null;this._networkStream=n;this._fullReader=null;this._lastProgress=null;this.downloadInfoCapability=(0,_util.createPromiseCapability)();this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#e}getRenderingIntent(e,t=_util.AnnotationMode.ENABLE,n=!1){let s=_util.RenderingIntentFlag.DISPLAY,r="";switch(e){case"any":s=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":s=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case _util.AnnotationMode.DISABLE:s+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:s+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:s+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE;r=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${t}`)}n&&(s+=_util.RenderingIntentFlag.OPLIST);return{renderingIntent:s,cacheKey:`${s}_${r}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0;this.destroyCapability=(0,_util.createPromiseCapability)();this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const t of this.#t.values())e.push(t._destroy());this.#t.clear();this.#n.clear();this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);e.push(t);Promise.all(e).then((()=>{this.commonObjs.clear();this.fontLoader.clear();this.#s=null;this._getFieldObjectsPromise=null;this._hasJSActionsPromise=null;this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated."));if(this.messageHandler){this.messageHandler.destroy();this.messageHandler=null}this.destroyCapability.resolve()}),this.destroyCapability.reject);return this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available.");this._fullReader=this._networkStream.getFullReader();this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}};t.onPull=()=>{this._fullReader.read().then((function({value:e,done:n}){if(n)t.close();else{(0,_util.assert)((0,_util.isArrayBuffer)(e),"GetReader - expected an ArrayBuffer.");t.enqueue(new Uint8Array(e),1,[e])}})).catch((e=>{t.error(e)}))};t.onCancel=e=>{this._fullReader.cancel(e);t.ready.catch((e=>{if(!this.destroyed)throw e}))}}));e.on("ReaderHeadersReady",(e=>{const n=(0,_util.createPromiseCapability)(),s=this._fullReader;s.headersReady.then((()=>{if(!s.isStreamingSupported||!s.isRangeSupported){this._lastProgress&&t.onProgress?.(this._lastProgress);s.onProgress=e=>{t.onProgress?.({loaded:e.loaded,total:e.total})}}n.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})}),n.reject);return n.promise}));e.on("GetRangeReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);if(n){t.onPull=()=>{n.read().then((function({value:e,done:n}){if(n)t.close();else{(0,_util.assert)((0,_util.isArrayBuffer)(e),"GetRangeReader - expected an ArrayBuffer.");t.enqueue(new Uint8Array(e),1,[e])}})).catch((e=>{t.error(e)}))};t.onCancel=e=>{n.cancel(e);t.ready.catch((e=>{if(!this.destroyed)throw e}))}}else t.close()}));e.on("GetDoc",(({pdfInfo:e})=>{this._numPages=e.numPages;this._htmlForXfa=e.htmlForXfa;delete e.htmlForXfa;t._capability.resolve(new PDFDocumentProxy(e,this))}));e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":n=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":n=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":n=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":n=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}t._capability.reject(n)}));e.on("PasswordRequest",(e=>{this._passwordCapability=(0,_util.createPromiseCapability)();if(t.onPassword){const updatePassword=e=>{e instanceof Error?this._passwordCapability.reject(e):this._passwordCapability.resolve({password:e})};try{t.onPassword(updatePassword,e.code)}catch(e){this._passwordCapability.reject(e)}}else this._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return this._passwordCapability.promise}));e.on("DataLoaded",(e=>{t.onProgress?.({loaded:e.length,total:e.length});this.downloadInfoCapability.resolve(e)}));e.on("StartRenderPage",(e=>{if(this.destroyed)return;this.#t.get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}));e.on("commonobj",(([t,n,s])=>{if(!this.destroyed&&!this.commonObjs.has(t))switch(n){case"Font":const r=this._params;if("error"in s){const e=s.error;(0,_util.warn)(`Error during font loading: ${e}`);this.commonObjs.resolve(t,e);break}let a=null;r.pdfBug&&globalThis.FontInspector?.enabled&&(a={registerFont(e,t){globalThis.FontInspector.fontAdded(e,t)}});const i=new _font_loader.FontFaceObject(s,{isEvalSupported:r.isEvalSupported,disableFontFace:r.disableFontFace,ignoreErrors:r.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:a});this.fontLoader.bind(i).catch((n=>e.sendWithPromise("FontFallback",{id:t}))).finally((()=>{!r.fontExtraProperties&&i.data&&(i.data=null);this.commonObjs.resolve(t,i)}));break;case"FontPath":case"Image":this.commonObjs.resolve(t,s);break;default:throw new Error(`Got unknown common object type ${n}`)}}));e.on("obj",(([e,t,n,s])=>{if(this.destroyed)return;const r=this.#t.get(t);if(!r.objs.has(e))switch(n){case"Image":r.objs.resolve(e,s);const t=8e6;s?.data?.length>t&&(r.cleanupAfterRender=!0);break;case"Pattern":r.objs.resolve(e,s);break;default:throw new Error(`Got unknown object type ${n}`)}}));e.on("DocProgress",(e=>{this.destroyed||t.onProgress?.({loaded:e.loaded,total:e.total})}));e.on("DocStats",(e=>{this.destroyed||(this.#e=Object.freeze({streamTypes:Object.freeze(e.streamTypes),fontTypes:Object.freeze(e.fontTypes)}))}));e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this));e.on("FetchBuiltInCMap",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))));e.on("FetchStandardFontData",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}_onUnsupportedFeature({featureId:e}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(e)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#n.get(t);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((e=>{if(this.destroyed)throw new Error("Transport destroyed");const n=new PDFPageProxy(t,e,this,this._params.ownerDocument,this._params.pdfBug);this.#t.set(t,n);return n}));this.#n.set(t,s);return s}getPageIndex(e){return"object"!=typeof e||null===e||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally((()=>{this.annotationStorage.resetModified()}))}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((e=>new _optional_content_config.OptionalContentConfig(e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#s||=this.messageHandler.sendWithPromise("GetMetadata",null).then((e=>({info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){await this.messageHandler.sendWithPromise("Cleanup",null);if(!this.destroyed){for(const e of this.#t.values()){if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`)}this.commonObjs.clear();e||this.fontLoader.clear();this.#s=null;this._getFieldObjectsPromise=null;this._hasJSActionsPromise=null}}get loadingParams(){const e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,enableXfa:e.enableXfa})}}class PDFObjects{#r=Object.create(null);#a(e){const t=this.#r[e];return t||(this.#r[e]={capability:(0,_util.createPromiseCapability)(),data:null})}get(e,t=null){if(t){const n=this.#a(e);n.capability.promise.then((()=>t(n.data)));return null}const n=this.#r[e];if(!n?.capability.settled)throw new Error(`Requesting object that isn\'t resolved yet ${e}.`);return n.data}has(e){return this.#r[e]?.capability.settled||!1}resolve(e,t=null){const n=this.#a(e);n.data=t;n.capability.resolve()}clear(){this.#r=Object.create(null)}}class RenderTask{constructor(e){this._internalRenderTask=e;this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:e,params:t,objs:n,commonObjs:s,annotationCanvasMap:r,operatorList:a,pageIndex:i,canvasFactory:o,useRequestAnimationFrame:l=!1,pdfBug:c=!1}){this.callback=e;this.params=t;this.objs=n;this.commonObjs=s;this.annotationCanvasMap=r;this.operatorListIdx=null;this.operatorList=a;this._pageIndex=i;this.canvasFactory=o;this._pdfBug=c;this.running=!1;this.graphicsReadyCallback=null;this.graphicsReady=!1;this._useRequestAnimationFrame=!0===l&&"undefined"!=typeof window;this.cancelled=!1;this.capability=(0,_util.createPromiseCapability)();this.task=new RenderTask(this);this._cancelBound=this.cancel.bind(this);this._continueBound=this._continue.bind(this);this._scheduleNextBound=this._scheduleNext.bind(this);this._nextBound=this._next.bind(this);this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}if(this._pdfBug&&globalThis.StepperManager?.enabled){this.stepper=globalThis.StepperManager.create(this._pageIndex);this.stepper.init(this.operatorList);this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint()}const{canvasContext:n,viewport:s,transform:r,imageLayer:a,background:i}=this.params;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,a,t,this.annotationCanvasMap);this.gfx.beginDrawing({transform:r,viewport:s,transparency:e,background:i});this.operatorListIdx=0;this.graphicsReady=!0;this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(e=null){this.running=!1;this.cancelled=!0;this.gfx&&this.gfx.endDrawing();this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas);this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(this.graphicsReady){this.stepper&&this.stepper.updateOperatorList(this.operatorList);this.running||this._continue()}else this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0;this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame((()=>{this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){if(!this.cancelled){this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper);if(this.operatorListIdx===this.operatorList.argsArray.length){this.running=!1;if(this.operatorList.lastChunk){this.gfx.endDrawing();this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas);this.callback()}}}}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=void 0;t.deprecated=function deprecated(e){console.log("Deprecated API usage: "+e)};t.getFilenameFromUrl=function getFilenameFromUrl(e){const t=e.indexOf("#"),n=e.indexOf("?"),s=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",s)+1,s)};t.getPdfFilenameFromUrl=function getPdfFilenameFromUrl(e,t="document.pdf"){if("string"!=typeof e)return t;if(isDataScheme(e)){(0,r.warn)(\'getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.\');return t}const n=/[^/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i,s=/^(?:(?:[^:]+:)?\\/\\/[^/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/.exec(e);let a=n.exec(s[1])||n.exec(s[2])||n.exec(s[3]);if(a){a=a[0];if(a.includes("%"))try{a=n.exec(decodeURIComponent(a))[0]}catch(e){}}return a||t};t.getXfaPageViewport=function getXfaPageViewport(e,{scale:t=1,rotation:n=0}){const{width:s,height:r}=e.attributes.style,a=[0,0,parseInt(s),parseInt(r)];return new PageViewport({viewBox:a,scale:t,rotation:n})};t.isDataScheme=isDataScheme;t.isPdfFile=function isPdfFile(e){return"string"==typeof e&&/\\.pdf$/i.test(e)};t.isValidFetchUrl=isValidFetchUrl;t.loadScript=function loadScript(e,t=!1){return new Promise(((n,s)=>{const r=document.createElement("script");r.src=e;r.onload=function(e){t&&r.remove();n(e)};r.onerror=function(){s(new Error(`Cannot load script at: ${r.src}`))};(document.head||document.documentElement).appendChild(r)}))};var s=n(6),r=n(1);class PixelsPerInch{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}t.PixelsPerInch=PixelsPerInch;class DOMCanvasFactory extends s.BaseCanvasFactory{constructor({ownerDocument:e=globalThis.document}={}){super();this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");n.width=e;n.height=t;return n}}t.DOMCanvasFactory=DOMCanvasFactory;async function fetchData(e,t=!1){if(isValidFetchUrl(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);return t?new Uint8Array(await n.arrayBuffer()):(0,r.stringToBytes)(await n.text())}return new Promise(((n,s)=>{const a=new XMLHttpRequest;a.open("GET",e,!0);t&&(a.responseType="arraybuffer");a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(200===a.status||0===a.status){let e;t&&a.response?e=new Uint8Array(a.response):!t&&a.responseText&&(e=(0,r.stringToBytes)(a.responseText));if(e){n(e);return}}s(new Error(a.statusText))}};a.send(null)}))}class DOMCMapReaderFactory extends s.BaseCMapReaderFactory{_fetchData(e,t){return fetchData(e,this.isCompressed).then((e=>({cMapData:e,compressionType:t})))}}t.DOMCMapReaderFactory=DOMCMapReaderFactory;class DOMStandardFontDataFactory extends s.BaseStandardFontDataFactory{_fetchData(e){return fetchData(e,!0)}}t.DOMStandardFontDataFactory=DOMStandardFontDataFactory;class DOMSVGFactory extends s.BaseSVGFactory{_createSVG(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}}t.DOMSVGFactory=DOMSVGFactory;class PageViewport{constructor({viewBox:e,scale:t,rotation:n,offsetX:s=0,offsetY:r=0,dontFlip:a=!1}){this.viewBox=e;this.scale=t;this.rotation=n;this.offsetX=s;this.offsetY=r;const i=(e[2]+e[0])/2,o=(e[3]+e[1])/2;let l,c,h,d,u,p,g,f;(n%=360)<0&&(n+=360);switch(n){case 180:l=-1;c=0;h=0;d=1;break;case 90:l=0;c=1;h=1;d=0;break;case 270:l=0;c=-1;h=-1;d=0;break;case 0:l=1;c=0;h=0;d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}if(a){h=-h;d=-d}if(0===l){u=Math.abs(o-e[1])*t+s;p=Math.abs(i-e[0])*t+r;g=Math.abs(e[3]-e[1])*t;f=Math.abs(e[2]-e[0])*t}else{u=Math.abs(i-e[0])*t+s;p=Math.abs(o-e[1])*t+r;g=Math.abs(e[2]-e[0])*t;f=Math.abs(e[3]-e[1])*t}this.transform=[l*t,c*t,h*t,d*t,u-l*t*i-h*t*o,p-c*t*i-d*t*o];this.width=g;this.height=f}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:r=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:r})}convertToViewportPoint(e,t){return r.Util.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=r.Util.applyTransform([e[0],e[1]],this.transform),n=r.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return r.Util.applyInverseTransform([e,t],this.transform)}}t.PageViewport=PageViewport;class RenderingCancelledException extends r.BaseException{constructor(e,t){super(e,"RenderingCancelledException");this.type=t}}t.RenderingCancelledException=RenderingCancelledException;function isDataScheme(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}t.StatTimer=class StatTimer{constructor(){this.started=Object.create(null);this.times=[]}time(e){e in this.started&&(0,r.warn)(`Timer is already running for ${e}`);this.started[e]=Date.now()}timeEnd(e){e in this.started||(0,r.warn)(`Timer has not been started for ${e}`);this.times.push({name:e,start:this.started[e],end:Date.now()});delete this.started[e]}toString(){const e=[];let t=0;for(const e of this.times){const n=e.name;n.length>t&&(t=n.length)}for(const n of this.times){const s=n.end-n.start;e.push(`${n.name.padEnd(t)} ${s}ms\\n`)}return e.join("")}};function isValidFetchUrl(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch(e){return!1}}let a;t.PDFDateString=class PDFDateString{static toDateObject(e){if(!e||"string"!=typeof e)return null;a||(a=new RegExp("^D:(\\\\d{4})(\\\\d{2})?(\\\\d{2})?(\\\\d{2})?(\\\\d{2})?(\\\\d{2})?([Z|+|-])?(\\\\d{2})?\'?(\\\\d{2})?\'?"));const t=a.exec(e);if(!t)return null;const n=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let i=parseInt(t[4],10);i=i>=0&&i<=23?i:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(t[9],10)||0;d=d>=0&&d<=59?d:0;if("-"===c){i+=h;o+=d}else if("+"===c){i-=h;o-=d}return new Date(Date.UTC(n,s,r,i,o,l))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var s=n(1);class BaseCanvasFactory{constructor(){this.constructor===BaseCanvasFactory&&(0,s.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d")}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t;e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0;e.canvas.height=0;e.canvas=null;e.context=null}_createCanvas(e,t){(0,s.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=BaseCanvasFactory;class BaseCMapReaderFactory{constructor({baseUrl:e=null,isCompressed:t=!1}){this.constructor===BaseCMapReaderFactory&&(0,s.unreachable)("Cannot initialize BaseCMapReaderFactory.");this.baseUrl=e;this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error(\'The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.\');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),n=this.isCompressed?s.CMapCompressionType.BINARY:s.CMapCompressionType.NONE;return this._fetchData(t,n).catch((e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)}))}_fetchData(e,t){(0,s.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=BaseCMapReaderFactory;class BaseStandardFontDataFactory{constructor({baseUrl:e=null}){this.constructor===BaseStandardFontDataFactory&&(0,s.unreachable)("Cannot initialize BaseStandardFontDataFactory.");this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error(\'The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.\');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch((e=>{throw new Error(`Unable to load font data at: ${t}`)}))}_fetchData(e){(0,s.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=BaseStandardFontDataFactory;class BaseSVGFactory{constructor(){this.constructor===BaseSVGFactory&&(0,s.unreachable)("Cannot initialize BaseSVGFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const n=this._createSVG("svg:svg");n.setAttribute("version","1.1");n.setAttribute("width",`${e}px`);n.setAttribute("height",`${t}px`);n.setAttribute("preserveAspectRatio","none");n.setAttribute("viewBox",`0 0 ${e} ${t}`);return n}createElement(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){(0,s.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=BaseSVGFactory},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.FontLoader=t.FontFaceObject=void 0;var s=n(1);class BaseFontLoader{constructor({docId:e,onUnsupportedFeature:t,ownerDocument:n=globalThis.document,styleElement:r=null}){this.constructor===BaseFontLoader&&(0,s.unreachable)("Cannot initialize BaseFontLoader.");this.docId=e;this._onUnsupportedFeature=t;this._document=n;this.nativeFontFaces=[];this.styleElement=null}addNativeFontFace(e){this.nativeFontFaces.push(e);this._document.fonts.add(e)}insertRule(e){let t=this.styleElement;if(!t){t=this.styleElement=this._document.createElement("style");t.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`;this._document.documentElement.getElementsByTagName("head")[0].appendChild(t)}const n=t.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.length=0;if(this.styleElement){this.styleElement.remove();this.styleElement=null}}async bind(e){if(e.attached||e.missingFile)return;e.attached=!0;if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){this._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontLoadNative});(0,s.warn)(`Failed to load font \'${t.family}\': \'${n}\'.`);e.disableFontFace=!0;throw n}}return}const t=e.createFontFaceRule();if(t){this.insertRule(t);if(this.isSyncFontLoadingSupported)return;await new Promise((n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent([t],[e],s)}))}}_queueLoadingCallback(e){(0,s.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return(0,s.shadow)(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){(0,s.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,s.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(e,t,n){(0,s.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let r;t.FontLoader=r;t.FontLoader=r=class GenericFontLoader extends BaseFontLoader{constructor(e){super(e);this.loadingContext={requests:[],nextRequestId:0};this.loadTestFontId=0}get isSyncFontLoadingSupported(){let e=!1;if("undefined"==typeof navigator)e=!0;else{/Mozilla\\/5.0.*?rv:(\\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14&&(e=!0)}return(0,s.shadow)(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const t=this.loadingContext,n={id:"pdfjs-font-loading-"+t.nextRequestId++,done:!1,complete:function completeRequest(){(0,s.assert)(!n.done,"completeRequest() cannot be called twice.");n.done=!0;for(;t.requests.length>0&&t.requests[0].done;){const e=t.requests.shift();setTimeout(e.callback,0)}},callback:e};t.requests.push(n);return n}get _loadTestFont(){return(0,s.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t,n){function int32(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function spliceString(e,t,n,s){return e.substring(0,t)+s+e.substring(t+n)}let r,a;const i=this._document.createElement("canvas");i.width=1;i.height=1;const o=i.getContext("2d");let l=0;const c=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=spliceString(h,976,c.length,c);const d=1482184792;let u=int32(h,16);for(r=0,a=c.length-3;r<a;r+=4)u=u-d+int32(c,r)|0;r<c.length&&(u=u-d+int32(c+"XXX",r)|0);h=spliceString(h,16,4,(0,s.string32)(u));const p=`@font-face {font-family:"${c}";src:${`url(data:font/opentype;base64,${btoa(h)});`}}`;this.insertRule(p);const g=[];for(const e of t)g.push(e.loadedName);g.push(c);const f=this._document.createElement("div");f.style.visibility="hidden";f.style.width=f.style.height="10px";f.style.position="absolute";f.style.top=f.style.left="0px";for(const e of g){const t=this._document.createElement("span");t.textContent="Hi";t.style.fontFamily=e;f.appendChild(t)}this._document.body.appendChild(f);!function isFontReady(e,t){l++;if(l>30){(0,s.warn)("Load test font never loaded.");t();return}o.font="30px "+e;o.fillText(".",0,20);o.getImageData(0,0,1,1).data[3]>0?t():setTimeout(isFontReady.bind(null,e,t))}(c,(()=>{f.remove();n.complete()}))}};t.FontFaceObject=class FontFaceObject{constructor(e,{isEvalSupported:t=!0,disableFontFace:n=!1,ignoreErrors:s=!1,onUnsupportedFeature:r,fontRegistry:a=null}){this.compiledGlyphs=Object.create(null);for(const t in e)this[t]=e[t];this.isEvalSupported=!1!==t;this.disableFontFace=!0===n;this.ignoreErrors=!0===s;this._onUnsupportedFeature=r;this.fontRegistry=a}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`);e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});this.fontRegistry&&this.fontRegistry.registerFont(this);return e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=(0,s.bytesToString)(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let n;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`);n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${t}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;this.fontRegistry&&this.fontRegistry.registerFont(this,t);return n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(e){if(!this.ignoreErrors)throw e;this._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontGetPath});(0,s.warn)(`getPathGenerator - ignoring character: "${e}".`);return this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&s.IsEvalSupportedCached.value){const e=[];for(const t of n){const n=void 0!==t.args?t.args.join(","):"";e.push("c.",t.cmd,"(",n,");\\n")}return this.compiledGlyphs[t]=new Function("c","size",e.join(""))}return this.compiledGlyphs[t]=function(e,t){for(const s of n){"scale"===s.cmd&&(s.args=[t,-t]);e[s.cmd].apply(e,s.args)}}}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.NodeStandardFontDataFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var s=n(6),r=n(3),a=n(1);let i=class{constructor(){(0,a.unreachable)("Not implemented: NodeCanvasFactory")}};t.NodeCanvasFactory=i;let o=class{constructor(){(0,a.unreachable)("Not implemented: NodeCMapReaderFactory")}};t.NodeCMapReaderFactory=o;let l=class{constructor(){(0,a.unreachable)("Not implemented: NodeStandardFontDataFactory")}};t.NodeStandardFontDataFactory=l;if(r.isNodeJS){const fetchData=function(e){return new Promise(((t,n)=>{require("fs").readFile(e,((e,s)=>{!e&&s?t(new Uint8Array(s)):n(new Error(e))}))}))};t.NodeCanvasFactory=i=class extends s.BaseCanvasFactory{_createCanvas(e,t){return require("canvas").createCanvas(e,t)}};t.NodeCMapReaderFactory=o=class extends s.BaseCMapReaderFactory{_fetchData(e,t){return fetchData(e).then((e=>({cMapData:e,compressionType:t})))}};t.NodeStandardFontDataFactory=l=class extends s.BaseStandardFontDataFactory{_fetchData(e){return fetchData(e)}}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.AnnotationStorage=void 0;var s=n(1);t.AnnotationStorage=class AnnotationStorage{constructor(){this._storage=new Map;this._timeStamp=Date.now();this._modified=!1;this.onSetModified=null;this.onResetModified=null}getValue(e,t){const n=this._storage.get(e);return void 0===n?t:Object.assign(t,n)}setValue(e,t){const n=this._storage.get(e);let s=!1;if(void 0!==n){for(const[e,r]of Object.entries(t))if(n[e]!==r){s=!0;n[e]=r}}else{s=!0;this._storage.set(e,t)}if(s){this._timeStamp=Date.now();this._setModified()}}getAll(){return this._storage.size>0?(0,s.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){if(!this._modified){this._modified=!0;"function"==typeof this.onSetModified&&this.onSetModified()}}resetModified(){if(this._modified){this._modified=!1;"function"==typeof this.onResetModified&&this.onResetModified()}}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.CanvasGraphics=void 0;var s=n(1),r=n(11),a=n(5);const i=4096,o=16;function addContextCurrentTransform(e){e._transformStack&&(e._transformStack=[]);if(!e.mozCurrentTransform){e._originalSave=e.save;e._originalRestore=e.restore;e._originalRotate=e.rotate;e._originalScale=e.scale;e._originalTranslate=e.translate;e._originalTransform=e.transform;e._originalSetTransform=e.setTransform;e._originalResetTransform=e.resetTransform;e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0];e._transformStack=[];try{const t=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"lineWidth");e._setLineWidth=t.set;e._getLineWidth=t.get;Object.defineProperty(e,"lineWidth",{set:function setLineWidth(e){this._setLineWidth(1.000001*e)},get:function getLineWidth(){return this._getLineWidth()}})}catch(e){}Object.defineProperty(e,"mozCurrentTransform",{get:function getCurrentTransform(){return this._transformMatrix}});Object.defineProperty(e,"mozCurrentTransformInverse",{get:function getCurrentTransformInverse(){const[e,t,n,s,r,a]=this._transformMatrix,i=e*s-t*n,o=t*n-e*s;return[s/i,t/o,n/o,e/i,(s*r-n*a)/o,(t*r-e*a)/i]}});e.save=function ctxSave(){const e=this._transformMatrix;this._transformStack.push(e);this._transformMatrix=e.slice(0,6);this._originalSave()};e.restore=function ctxRestore(){0===this._transformStack.length&&(0,s.warn)("Tried to restore a ctx when the stack was already empty.");const e=this._transformStack.pop();if(e){this._transformMatrix=e;this._originalRestore()}};e.translate=function ctxTranslate(e,t){const n=this._transformMatrix;n[4]=n[0]*e+n[2]*t+n[4];n[5]=n[1]*e+n[3]*t+n[5];this._originalTranslate(e,t)};e.scale=function ctxScale(e,t){const n=this._transformMatrix;n[0]*=e;n[1]*=e;n[2]*=t;n[3]*=t;this._originalScale(e,t)};e.transform=function ctxTransform(t,n,s,r,a,i){const o=this._transformMatrix;this._transformMatrix=[o[0]*t+o[2]*n,o[1]*t+o[3]*n,o[0]*s+o[2]*r,o[1]*s+o[3]*r,o[0]*a+o[2]*i+o[4],o[1]*a+o[3]*i+o[5]];e._originalTransform(t,n,s,r,a,i)};e.setTransform=function ctxSetTransform(t,n,s,r,a,i){this._transformMatrix=[t,n,s,r,a,i];e._originalSetTransform(t,n,s,r,a,i)};e.resetTransform=function ctxResetTransform(){this._transformMatrix=[1,0,0,1,0,0];e._originalResetTransform()};e.rotate=function ctxRotate(e){const t=Math.cos(e),n=Math.sin(e),s=this._transformMatrix;this._transformMatrix=[s[0]*t+s[2]*n,s[1]*t+s[3]*n,s[0]*-n+s[2]*t,s[1]*-n+s[3]*t,s[4],s[5]];this._originalRotate(e)}}}class CachedCanvases{constructor(e){this.canvasFactory=e;this.cache=Object.create(null)}getCanvas(e,t,n,s){let r;if(void 0!==this.cache[e]){r=this.cache[e];this.canvasFactory.reset(r,t,n);r.context.setTransform(1,0,0,1,0,0)}else{r=this.canvasFactory.create(t,n);this.cache[e]=r}s&&addContextCurrentTransform(r.context);return r}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t);delete this.cache[e]}}}class CanvasExtraState{constructor(e,t){this.alphaIsShape=!1;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=s.IDENTITY_MATRIX;this.textMatrixScale=1;this.fontMatrix=s.FONT_IDENTITY_MATRIX;this.leading=0;this.x=0;this.y=0;this.lineX=0;this.lineY=0;this.charSpacing=0;this.wordSpacing=0;this.textHScale=1;this.textRenderingMode=s.TextRenderingMode.FILL;this.textRise=0;this.fillColor="#000000";this.strokeColor="#000000";this.patternFill=!1;this.fillAlpha=1;this.strokeAlpha=1;this.lineWidth=1;this.activeSMask=null;this.transferMaps=null;this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);e.clipBox=this.clipBox.slice();return e}setCurrentPoint(e,t){this.x=e;this.y=t}updatePathMinMax(e,t,n){[t,n]=s.Util.applyTransform([t,n],e);this.minX=Math.min(this.minX,t);this.minY=Math.min(this.minY,n);this.maxX=Math.max(this.maxX,t);this.maxY=Math.max(this.maxY,n)}updateCurvePathMinMax(e,t,n,r,a,i,o,l,c){const h=s.Util.bezierBoundingBox(t,n,r,a,i,o,l,c);this.updatePathMinMax(e,h[0],h[1]);this.updatePathMinMax(e,h[2],h[3])}getPathBoundingBox(e=r.PathType.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===r.PathType.STROKE){t||(0,s.unreachable)("Stroke bounding box must include transform.");const e=s.Util.singularValueDecompose2dScale(t),r=e[0]*this.lineWidth/2,a=e[1]*this.lineWidth/2;n[0]-=r;n[1]-=a;n[2]+=r;n[3]+=a}return n}updateClipFromPath(){const e=s.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}startNewPathAndClipBox(e){this.clipBox=e;this.minX=1/0;this.minY=1/0;this.maxX=0;this.maxY=0}getClippedPathBoundingBox(e=r.PathType.FILL,t=null){return s.Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function putBinaryImageData(e,t,n=null){if("undefined"!=typeof ImageData&&t instanceof ImageData){e.putImageData(t,0,0);return}const r=t.height,a=t.width,i=r%o,l=(r-i)/o,c=0===i?l:l+1,h=e.createImageData(a,o);let d,u=0;const p=t.data,g=h.data;let f,m,_,A,b,y,S,x;if(n)switch(n.length){case 1:b=n[0];y=n[0];S=n[0];x=n[0];break;case 4:b=n[0];y=n[1];S=n[2];x=n[3]}if(t.kind===s.ImageKind.GRAYSCALE_1BPP){const t=p.byteLength,n=new Uint32Array(g.buffer,0,g.byteLength>>2),r=n.length,A=a+7>>3;let b=4294967295,y=s.IsLittleEndianCached.value?4278190080:255;x&&255===x[0]&&0===x[255]&&([b,y]=[y,b]);for(f=0;f<c;f++){_=f<l?o:i;d=0;for(m=0;m<_;m++){const e=t-u;let s=0;const r=e>A?a:8*e-7,i=-8&r;let o=0,l=0;for(;s<i;s+=8){l=p[u++];n[d++]=128&l?b:y;n[d++]=64&l?b:y;n[d++]=32&l?b:y;n[d++]=16&l?b:y;n[d++]=8&l?b:y;n[d++]=4&l?b:y;n[d++]=2&l?b:y;n[d++]=1&l?b:y}for(;s<r;s++){if(0===o){l=p[u++];o=128}n[d++]=l&o?b:y;o>>=1}}for(;d<r;)n[d++]=0;e.putImageData(h,0,f*o)}}else if(t.kind===s.ImageKind.RGBA_32BPP){const t=!!(b||y||S);m=0;A=a*o*4;for(f=0;f<l;f++){g.set(p.subarray(u,u+A));u+=A;if(t)for(let e=0;e<A;e+=4){b&&(g[e+0]=b[g[e+0]]);y&&(g[e+1]=y[g[e+1]]);S&&(g[e+2]=S[g[e+2]])}e.putImageData(h,0,m);m+=o}if(f<c){A=a*i*4;g.set(p.subarray(u,u+A));if(t)for(let e=0;e<A;e+=4){b&&(g[e+0]=b[g[e+0]]);y&&(g[e+1]=y[g[e+1]]);S&&(g[e+2]=S[g[e+2]])}e.putImageData(h,0,m)}}else{if(t.kind!==s.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);{const t=!!(b||y||S);_=o;A=a*_;for(f=0;f<c;f++){if(f>=l){_=i;A=a*_}d=0;for(m=A;m--;){g[d++]=p[u++];g[d++]=p[u++];g[d++]=p[u++];g[d++]=255}if(t)for(let e=0;e<d;e+=4){b&&(g[e+0]=b[g[e+0]]);y&&(g[e+1]=y[g[e+1]]);S&&(g[e+2]=S[g[e+2]])}e.putImageData(h,0,f*o)}}}}function putBinaryImageMask(e,t){const n=t.height,s=t.width,r=n%o,a=(n-r)/o,i=0===r?a:a+1,l=e.createImageData(s,o);let c=0;const h=t.data,d=l.data;for(let t=0;t<i;t++){const n=t<a?o:r;let i=3;for(let e=0;e<n;e++){let e,t=0;for(let n=0;n<s;n++){if(!t){e=h[c++];t=128}d[i]=e&t?0:255;i+=4;t>>=1}}e.putImageData(l,0,t*o)}}function copyCtxState(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let s=0,r=n.length;s<r;s++){const r=n[s];void 0!==e[r]&&(t[r]=e[r])}if(void 0!==e.setLineDash){t.setLineDash(e.getLineDash());t.lineDashOffset=e.lineDashOffset}}function resetCtxToDefault(e){e.strokeStyle="#000000";e.fillStyle="#000000";e.fillRule="nonzero";e.globalAlpha=1;e.lineWidth=1;e.lineCap="butt";e.lineJoin="miter";e.miterLimit=10;e.globalCompositeOperation="source-over";e.font="10px sans-serif";if(void 0!==e.setLineDash){e.setLineDash([]);e.lineDashOffset=0}}function composeSMaskBackdrop(e,t,n,s){const r=e.length;for(let a=3;a<r;a+=4){const r=e[a];if(0===r){e[a-3]=t;e[a-2]=n;e[a-1]=s}else if(r<255){const i=255-r;e[a-3]=e[a-3]*r+t*i>>8;e[a-2]=e[a-2]*r+n*i>>8;e[a-1]=e[a-1]*r+s*i>>8}}}function composeSMaskAlpha(e,t,n){const s=e.length;for(let r=3;r<s;r+=4){const s=n?n[e[r]]:e[r];t[r]=t[r]*s*.00392156862745098|0}}function composeSMaskLuminosity(e,t,n){const s=e.length;for(let r=3;r<s;r+=4){const s=77*e[r-3]+152*e[r-2]+28*e[r-1];t[r]=n?t[r]*n[s>>8]>>8:t[r]*s>>16}}function composeSMask(e,t,n,s){const r=s[0],a=s[1],i=s[2]-r,o=s[3]-a;if(0!==i&&0!==o){!function genericComposeSMask(e,t,n,s,r,a,i,o,l,c,h){const d=!!a,u=d?a[0]:0,p=d?a[1]:0,g=d?a[2]:0;let f;f="Luminosity"===r?composeSMaskLuminosity:composeSMaskAlpha;const m=Math.min(s,Math.ceil(1048576/n));for(let r=0;r<s;r+=m){const a=Math.min(m,s-r),_=e.getImageData(o-c,r+(l-h),n,a),A=t.getImageData(o,r+l,n,a);d&&composeSMaskBackdrop(_.data,u,p,g);f(_.data,A.data,i);t.putImageData(A,o,r+l)}}(t.context,n,i,o,t.subtype,t.backdrop,t.transferMap,r,a,t.offsetX,t.offsetY);e.save();e.globalAlpha=1;e.globalCompositeOperation="source-over";e.setTransform(1,0,0,1,0,0);e.drawImage(n.canvas,0,0);e.restore()}}function getImageSmoothingEnabled(e,t){const n=s.Util.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]);n[1]=Math.fround(n[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*a.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==t?t:n[0]<=r||n[1]<=r}const l=["butt","round","square"],c=["miter","round","bevel"],h={},d={};class CanvasGraphics{constructor(e,t,n,s,r,a,i){this.ctx=e;this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height);this.stateStack=[];this.pendingClip=null;this.pendingEOFill=!1;this.res=null;this.xobjs=null;this.commonObjs=t;this.objs=n;this.canvasFactory=s;this.imageLayer=r;this.groupStack=[];this.processingType3=null;this.baseTransform=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=[];this.smaskCounter=0;this.tempSMask=null;this.suspendedCtx=null;this.contentVisible=!0;this.markedContentStack=[];this.optionalContentConfig=a;this.cachedCanvases=new CachedCanvases(this.canvasFactory);this.cachedPatterns=new Map;this.annotationCanvasMap=i;this.viewportScale=1;this.outputScaleX=1;this.outputScaleY=1;e&&addContextCurrentTransform(e);this._cachedGetSinglePixelWidth=null}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:s=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height;this.ctx.save();this.ctx.fillStyle=s||"rgb(255, 255, 255)";this.ctx.fillRect(0,0,r,a);this.ctx.restore();if(n){const e=this.cachedCanvases.getCanvas("transparent",r,a,!0);this.compositeCtx=this.ctx;this.transparentCanvas=e.canvas;this.ctx=e.context;this.ctx.save();this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save();resetCtxToDefault(this.ctx);if(e){this.ctx.transform.apply(this.ctx,e);this.outputScaleX=e[0];this.outputScaleY=e[0]}this.ctx.transform.apply(this.ctx,t.transform);this.viewportScale=t.scale;this.baseTransform=this.ctx.mozCurrentTransform.slice();this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]);this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(e,t,n,r){const a=e.argsArray,i=e.fnArray;let o=t||0;const l=a.length;if(l===o)return o;const c=l-o>10&&"function"==typeof n,h=c?Date.now()+15:0;let d=0;const u=this.commonObjs,p=this.objs;let g;for(;;){if(void 0!==r&&o===r.nextBreakPoint){r.breakIt(o,n);return o}g=i[o];if(g!==s.OPS.dependency)this[g].apply(this,a[o]);else for(const e of a[o]){const t=e.startsWith("g_")?u:p;if(!t.has(e)){t.get(e,n);return o}}o++;if(o===l)return o;if(c&&++d>10){if(Date.now()>h){n();return o}d=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore();if(this.transparentCanvas){this.ctx=this.compositeCtx;this.ctx.save();this.ctx.setTransform(1,0,0,1,0,0);this.ctx.drawImage(this.transparentCanvas,0,0);this.ctx.restore();this.transparentCanvas=null}this.cachedCanvases.clear();this.cachedPatterns.clear();this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(e,t){const n=e.width,s=e.height;let r,a,i=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=s,h="prescale1";for(;i>2&&l>1||o>2&&c>1;){let t=l,n=c;if(i>2&&l>1){t=Math.ceil(l/2);i/=l/t}if(o>2&&c>1){n=Math.ceil(c/2);o/=c/n}r=this.cachedCanvases.getCanvas(h,t,n);a=r.context;a.clearRect(0,0,t,n);a.drawImage(e,0,0,l,c,0,0,t,n);e=r.canvas;l=t;c=n;h="prescale1"===h?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,n=e.width,a=e.height,i=this.current.fillColor,o=this.current.patternFill,l=this.cachedCanvases.getCanvas("maskCanvas",n,a);putBinaryImageMask(l.context,e);const c=t.mozCurrentTransform;let h=s.Util.transform(c,[1/n,0,0,-1/a,0,0]);h=s.Util.transform(h,[1,0,0,1,0,-a]);const d=s.Util.applyTransform([0,0],h),u=s.Util.applyTransform([n,a],h),p=s.Util.normalizeRect([d[0],d[1],u[0],u[1]]),g=Math.ceil(p[2]-p[0]),f=Math.ceil(p[3]-p[1]),m=this.cachedCanvases.getCanvas("fillCanvas",g,f,!0),_=m.context,A=Math.min(d[0],u[0]),b=Math.min(d[1],u[1]);_.translate(-A,-b);_.transform.apply(_,h);const y=this._scaleImage(l.canvas,_.mozCurrentTransformInverse);_.imageSmoothingEnabled=getImageSmoothingEnabled(_.mozCurrentTransform,e.interpolate);_.drawImage(y.img,0,0,y.img.width,y.img.height,0,0,n,a);_.globalCompositeOperation="source-in";const S=s.Util.transform(_.mozCurrentTransformInverse,[1,0,0,1,-A,-b]);_.fillStyle=o?i.getPattern(t,this,S,r.PathType.FILL):i;_.fillRect(0,0,n,a);return{canvas:m.canvas,offsetX:Math.round(A),offsetY:Math.round(b)}}setLineWidth(e){this.current.lineWidth=e;this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=l[e]}setLineJoin(e){this.ctx.lineJoin=c[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;if(void 0!==n.setLineDash){n.setLineDash(e);n.lineDashOffset=t}}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(let t=0,n=e.length;t<n;t++){const n=e[t],s=n[0],r=n[1];switch(s){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=n[1];break;case"ca":this.current.fillAlpha=n[1];this.ctx.globalAlpha=n[1];break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null;this.tempSMask=null;this.checkSMaskState();break;case"TR":this.current.transferMaps=r}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,e,t,!0);this.suspendedCtx=this.ctx;this.ctx=s.context;const r=this.ctx;r.setTransform.apply(r,this.suspendedCtx.mozCurrentTransform);copyCtxState(this.suspendedCtx,r);!function mirrorContextOperations(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save;e.__originalRestore=e.restore;e.__originalRotate=e.rotate;e.__originalScale=e.scale;e.__originalTranslate=e.translate;e.__originalTransform=e.transform;e.__originalSetTransform=e.setTransform;e.__originalResetTransform=e.resetTransform;e.__originalClip=e.clip;e.__originalMoveTo=e.moveTo;e.__originalLineTo=e.lineTo;e.__originalBezierCurveTo=e.bezierCurveTo;e.__originalRect=e.rect;e.__originalClosePath=e.closePath;e.__originalBeginPath=e.beginPath;e._removeMirroring=()=>{e.save=e.__originalSave;e.restore=e.__originalRestore;e.rotate=e.__originalRotate;e.scale=e.__originalScale;e.translate=e.__originalTranslate;e.transform=e.__originalTransform;e.setTransform=e.__originalSetTransform;e.resetTransform=e.__originalResetTransform;e.clip=e.__originalClip;e.moveTo=e.__originalMoveTo;e.lineTo=e.__originalLineTo;e.bezierCurveTo=e.__originalBezierCurveTo;e.rect=e.__originalRect;e.closePath=e.__originalClosePath;e.beginPath=e.__originalBeginPath;delete e._removeMirroring};e.save=function ctxSave(){t.save();this.__originalSave()};e.restore=function ctxRestore(){t.restore();this.__originalRestore()};e.translate=function ctxTranslate(e,n){t.translate(e,n);this.__originalTranslate(e,n)};e.scale=function ctxScale(e,n){t.scale(e,n);this.__originalScale(e,n)};e.transform=function ctxTransform(e,n,s,r,a,i){t.transform(e,n,s,r,a,i);this.__originalTransform(e,n,s,r,a,i)};e.setTransform=function ctxSetTransform(e,n,s,r,a,i){t.setTransform(e,n,s,r,a,i);this.__originalSetTransform(e,n,s,r,a,i)};e.resetTransform=function ctxResetTransform(){t.resetTransform();this.__originalResetTransform()};e.rotate=function ctxRotate(e){t.rotate(e);this.__originalRotate(e)};e.clip=function ctxRotate(e){t.clip(e);this.__originalClip(e)};e.moveTo=function(e,n){t.moveTo(e,n);this.__originalMoveTo(e,n)};e.lineTo=function(e,n){t.lineTo(e,n);this.__originalLineTo(e,n)};e.bezierCurveTo=function(e,n,s,r,a,i){t.bezierCurveTo(e,n,s,r,a,i);this.__originalBezierCurveTo(e,n,s,r,a,i)};e.rect=function(e,n,s,r){t.rect(e,n,s,r);this.__originalRect(e,n,s,r)};e.closePath=function(){t.closePath();this.__originalClosePath()};e.beginPath=function(){t.beginPath();this.__originalBeginPath()}}(r,this.suspendedCtx);this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring();copyCtxState(this.ctx,this.suspendedCtx);this.ctx=this.suspendedCtx;this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;if(e){e[0]=Math.floor(e[0]);e[1]=Math.floor(e[1]);e[2]=Math.ceil(e[2]);e[3]=Math.ceil(e[3])}else e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask;composeSMask(this.suspendedCtx,t,this.ctx,e);this.ctx.save();this.ctx.setTransform(1,0,0,1,0,0);this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height);this.ctx.restore()}save(){if(this.inSMaskMode){copyCtxState(this.ctx,this.suspendedCtx);this.suspendedCtx.save()}else this.ctx.save();const e=this.current;this.stateStack.push(e);this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode();if(0!==this.stateStack.length){this.current=this.stateStack.pop();if(this.inSMaskMode){this.suspendedCtx.restore();copyCtxState(this.suspendedCtx,this.ctx)}else this.ctx.restore();this.checkSMaskState();this.pendingClip=null;this._cachedGetSinglePixelWidth=null}}transform(e,t,n,s,r,a){this.ctx.transform(e,t,n,s,r,a);this._cachedGetSinglePixelWidth=null}constructPath(e,t){const n=this.ctx,r=this.current;let a,i,o=r.x,l=r.y;for(let c=0,h=0,d=e.length;c<d;c++)switch(0|e[c]){case s.OPS.rectangle:o=t[h++];l=t[h++];const e=t[h++],c=t[h++],d=o+e,u=l+c;n.moveTo(o,l);if(0===e||0===c)n.lineTo(d,u);else{n.lineTo(d,l);n.lineTo(d,u);n.lineTo(o,u)}r.updatePathMinMax(n.mozCurrentTransform,o,l);r.updatePathMinMax(n.mozCurrentTransform,d,u);n.closePath();break;case s.OPS.moveTo:o=t[h++];l=t[h++];n.moveTo(o,l);r.updatePathMinMax(n.mozCurrentTransform,o,l);break;case s.OPS.lineTo:o=t[h++];l=t[h++];n.lineTo(o,l);r.updatePathMinMax(n.mozCurrentTransform,o,l);break;case s.OPS.curveTo:a=o;i=l;o=t[h+4];l=t[h+5];n.bezierCurveTo(t[h],t[h+1],t[h+2],t[h+3],o,l);r.updateCurvePathMinMax(n.mozCurrentTransform,a,i,t[h],t[h+1],t[h+2],t[h+3],o,l);h+=6;break;case s.OPS.curveTo2:a=o;i=l;n.bezierCurveTo(o,l,t[h],t[h+1],t[h+2],t[h+3]);r.updateCurvePathMinMax(n.mozCurrentTransform,a,i,o,l,t[h],t[h+1],t[h+2],t[h+3]);o=t[h+2];l=t[h+3];h+=4;break;case s.OPS.curveTo3:a=o;i=l;o=t[h+2];l=t[h+3];n.bezierCurveTo(t[h],t[h+1],o,l,o,l);r.updateCurvePathMinMax(n.mozCurrentTransform,a,i,t[h],t[h+1],o,l,o,l);h+=4;break;case s.OPS.closePath:n.closePath()}r.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(e){e=void 0===e||e;const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha;if(this.contentVisible)if("object"==typeof n&&n?.getPattern){const e=this.getSinglePixelWidth();t.save();t.strokeStyle=n.getPattern(t,this,t.mozCurrentTransformInverse,r.PathType.STROKE);t.lineWidth=Math.max(e,this.current.lineWidth);t.stroke();t.restore()}else{const e=this.getSinglePixelWidth();if(e<0&&-e>=this.current.lineWidth){t.save();t.resetTransform();t.lineWidth=Math.floor(this._combinedScaleFactor);t.stroke();t.restore()}else{t.lineWidth=Math.max(e,this.current.lineWidth);t.stroke()}}e&&this.consumePath(this.current.getClippedPathBoundingBox());t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath();this.stroke()}fill(e){e=void 0===e||e;const t=this.ctx,n=this.current.fillColor;let s=!1;if(this.current.patternFill){t.save();t.fillStyle=n.getPattern(t,this,t.mozCurrentTransformInverse,r.PathType.FILL);s=!0}const a=this.current.getClippedPathBoundingBox();if(this.contentVisible&&null!==a)if(this.pendingEOFill){t.fill("evenodd");this.pendingEOFill=!1}else t.fill();s&&t.restore();e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0;this.fill()}fillStroke(){this.fill(!1);this.stroke(!1);this.consumePath()}eoFillStroke(){this.pendingEOFill=!0;this.fillStroke()}closeFillStroke(){this.closePath();this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0;this.closePath();this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=h}eoClip(){this.pendingClip=d}beginText(){this.current.textMatrix=s.IDENTITY_MATRIX;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save();t.beginPath();for(let n=0;n<e.length;n++){const s=e[n];t.setTransform.apply(t,s.transform);t.translate(s.x,s.y);s.addToPath(t,s.fontSize)}t.restore();t.clip();t.beginPath();delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error(`Can\'t find font for ${e}`);r.fontMatrix=n.fontMatrix||s.FONT_IDENTITY_MATRIX;0!==r.fontMatrix[0]&&0!==r.fontMatrix[3]||(0,s.warn)("Invalid font matrix for font "+e);if(t<0){t=-t;r.fontDirection=-1}else r.fontDirection=1;this.current.font=n;this.current.fontSize=t;if(n.isType3Font)return;const a=n.loadedName||"sans-serif";let i="normal";n.black?i="900":n.bold&&(i="bold");const o=n.italic?"italic":"normal",l=`"${a}", ${n.fallbackName}`;let c=t;t<16?c=16:t>100&&(c=100);this.current.fontSizeScale=t/c;this.ctx.font=`${o} ${i} ${c}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e;this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t);this.moveText(e,t)}setTextMatrix(e,t,n,s,r,a){this.current.textMatrix=[e,t,n,s,r,a];this.current.textMatrixScale=Math.hypot(e,t);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,r,a){const i=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,h=o.fontSize/o.fontSizeScale,d=c&s.TextRenderingMode.FILL_STROKE_MASK,u=!!(c&s.TextRenderingMode.ADD_TO_PATH_FLAG),p=o.patternFill&&!l.missingFile;let g;(l.disableFontFace||u||p)&&(g=l.getPathGenerator(this.commonObjs,e));if(l.disableFontFace||p){i.save();i.translate(t,n);i.beginPath();g(i,h);r&&i.setTransform.apply(i,r);d!==s.TextRenderingMode.FILL&&d!==s.TextRenderingMode.FILL_STROKE||i.fill();if(d===s.TextRenderingMode.STROKE||d===s.TextRenderingMode.FILL_STROKE){if(a){i.resetTransform();i.lineWidth=Math.floor(this._combinedScaleFactor)}i.stroke()}i.restore()}else{d!==s.TextRenderingMode.FILL&&d!==s.TextRenderingMode.FILL_STROKE||i.fillText(e,t,n);if(d===s.TextRenderingMode.STROKE||d===s.TextRenderingMode.FILL_STROKE)if(a){i.save();i.moveTo(t,n);i.resetTransform();i.lineWidth=Math.floor(this._combinedScaleFactor);i.strokeText(e,0,0);i.restore()}else i.strokeText(e,t,n)}if(u){(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:i.mozCurrentTransform,x:t,y:n,fontSize:h,addToPath:g})}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1);e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let e=3;e<t.length;e+=4)if(t[e]>0&&t[e]<255){n=!0;break}return(0,s.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const a=t.fontSize;if(0===a)return;const i=this.ctx,o=t.fontSizeScale,l=t.charSpacing,c=t.wordSpacing,h=t.fontDirection,d=t.textHScale*h,u=e.length,p=n.vertical,g=p?1:-1,f=n.defaultVMetrics,m=a*t.fontMatrix[0],_=t.textRenderingMode===s.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;i.save();i.transform.apply(i,t.textMatrix);i.translate(t.x,t.y+t.textRise);h>0?i.scale(d,-1):i.scale(d,1);let A;if(t.patternFill){i.save();const e=t.fillColor.getPattern(i,this,i.mozCurrentTransformInverse,r.PathType.FILL);A=i.mozCurrentTransform;i.restore();i.fillStyle=e}let b=t.lineWidth,y=!1;const S=t.textMatrixScale;if(0===S||0===b){const e=t.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;if(e===s.TextRenderingMode.STROKE||e===s.TextRenderingMode.FILL_STROKE){this._cachedGetSinglePixelWidth=null;b=this.getSinglePixelWidth();y=b<0}}else b/=S;if(1!==o){i.scale(o,o);b/=o}i.lineWidth=b;let x,v=0;for(x=0;x<u;++x){const t=e[x];if("number"==typeof t){v+=g*t*a/1e3;continue}let s=!1;const r=(t.isSpace?c:0)+l,d=t.fontChar,u=t.accent;let b,S,C,P=t.width;if(p){const e=t.vmetric||f,n=-(t.vmetric?e[1]:.5*P)*m,s=e[2]*m;P=e?-e[0]:P;b=n/o;S=(v+s)/o}else{b=v/o;S=0}if(n.remeasure&&P>0){const e=1e3*i.measureText(d).width/a*o;if(P<e&&this.isFontSubpixelAAEnabled){const t=P/e;s=!0;i.save();i.scale(t,1);b/=t}else P!==e&&(b+=(P-e)/2e3*a/o)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(_&&!u)i.fillText(d,b,S);else{this.paintChar(d,b,S,A,y);if(u){const e=b+a*u.offset.x/o,t=S-a*u.offset.y/o;this.paintChar(u.fontChar,e,t,A,y)}}C=p?P*m-r*h:P*m+r*h;v+=C;s&&i.restore()}p?t.y-=v:t.x+=v*d;i.restore();this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,a=n.fontSize,i=n.fontDirection,o=r.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,h=n.textHScale*i,d=n.fontMatrix||s.FONT_IDENTITY_MATRIX,u=e.length;let p,g,f,m;if(!(n.textRenderingMode===s.TextRenderingMode.INVISIBLE)&&0!==a){this._cachedGetSinglePixelWidth=null;t.save();t.transform.apply(t,n.textMatrix);t.translate(n.x,n.y);t.scale(h,i);for(p=0;p<u;++p){g=e[p];if("number"==typeof g){m=o*g*a/1e3;this.ctx.translate(m,0);n.x+=m*h;continue}const i=(g.isSpace?c:0)+l,u=r.charProcOperatorList[g.operatorListId];if(!u){(0,s.warn)(`Type3 character "${g.operatorListId}" is not available.`);continue}if(this.contentVisible){this.processingType3=g;this.save();t.scale(a,a);t.transform.apply(t,d);this.executeOperatorList(u);this.restore()}f=s.Util.applyTransform([g.width,0],d)[0]*a+i;t.translate(f,0);n.x+=f*h}t.restore();this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,s,r,a){this.ctx.rect(n,s,r-n,a-s);this.clip();this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],s=this.baseTransform||this.ctx.mozCurrentTransform.slice(),a={createCanvasGraphics:e=>new CanvasGraphics(e,this.commonObjs,this.objs,this.canvasFactory)};t=new r.TilingPattern(e,n,this.ctx,a,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments);this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const r=s.Util.makeHexColor(e,t,n);this.ctx.strokeStyle=r;this.current.strokeColor=r}setFillRGBColor(e,t,n){const r=s.Util.makeHexColor(e,t,n);this.ctx.fillStyle=r;this.current.fillColor=r;this.current.patternFill=!1}_getPattern(e,t=null){let n;if(this.cachedPatterns.has(e))n=this.cachedPatterns.get(e);else{n=(0,r.getShadingPattern)(this.objs.get(e));this.cachedPatterns.set(e,n)}t&&(n.matrix=t);return n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,t.mozCurrentTransformInverse,r.PathType.SHADING);const a=t.mozCurrentTransformInverse;if(a){const e=t.canvas,n=e.width,r=e.height,i=s.Util.applyTransform([0,0],a),o=s.Util.applyTransform([0,r],a),l=s.Util.applyTransform([n,0],a),c=s.Util.applyTransform([n,r],a),h=Math.min(i[0],o[0],l[0],c[0]),d=Math.min(i[1],o[1],l[1],c[1]),u=Math.max(i[0],o[0],l[0],c[0]),p=Math.max(i[1],o[1],l[1],c[1]);this.ctx.fillRect(h,d,u-h,p-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox());this.restore()}beginInlineImage(){(0,s.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,s.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible){this.save();this.baseTransformStack.push(this.baseTransform);Array.isArray(e)&&6===e.length&&this.transform.apply(this,e);this.baseTransform=this.ctx.mozCurrentTransform;if(t){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n);this.current.updatePathMinMax(this.ctx.mozCurrentTransform,t[0],t[1]);this.current.updatePathMinMax(this.ctx.mozCurrentTransform,t[2],t[3]);this.clip();this.endPath()}}}paintFormXObjectEnd(){if(this.contentVisible){this.restore();this.baseTransform=this.baseTransformStack.pop()}}beginGroup(e){if(!this.contentVisible)return;this.save();if(this.inSMaskMode){this.endSMaskMode();this.current.activeSMask=null}const t=this.ctx;e.isolated||(0,s.info)("TODO: Support non-isolated groups.");e.knockout&&(0,s.warn)("Knockout groups not supported.");const n=t.mozCurrentTransform;e.matrix&&t.transform.apply(t,e.matrix);if(!e.bbox)throw new Error("Bounding box is required.");let r=s.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform);const a=[0,0,t.canvas.width,t.canvas.height];r=s.Util.intersect(r,a)||[0,0,0,0];const o=Math.floor(r[0]),l=Math.floor(r[1]);let c=Math.max(Math.ceil(r[2])-o,1),h=Math.max(Math.ceil(r[3])-l,1),d=1,u=1;if(c>i){d=c/i;c=i}if(h>i){u=h/i;h=i}this.current.startNewPathAndClipBox([0,0,c,h]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,c,h,!0),f=g.context;f.scale(1/d,1/u);f.translate(-o,-l);f.transform.apply(f,n);if(e.smask)this.smaskStack.push({canvas:g.canvas,context:f,offsetX:o,offsetY:l,scaleX:d,scaleY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null});else{t.setTransform(1,0,0,1,0,0);t.translate(o,l);t.scale(d,u);t.save()}copyCtxState(t,f);this.ctx=f;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(t);this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();this.ctx=n;this.ctx.imageSmoothingEnabled=!1;if(e.smask){this.tempSMask=this.smaskStack.pop();this.restore()}else{this.ctx.restore();const e=this.ctx.mozCurrentTransform;this.restore();this.ctx.save();this.ctx.setTransform.apply(this.ctx,e);const n=s.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0);this.ctx.restore();this.compose(n)}}beginAnnotations(){this.save();this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(e,t,n,r,a){this.save();if(Array.isArray(t)&&4===t.length){const r=t[2]-t[0],i=t[3]-t[1];if(a&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0];n[5]-=t[1];(t=t.slice())[0]=t[1]=0;t[2]=r;t[3]=i;const[a,o]=s.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:l}=this,c=Math.ceil(r*this.outputScaleX*l),h=Math.ceil(i*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(c,h);const{canvas:d,context:u}=this.annotationCanvas;d.style.width=`calc(${r}px * var(--viewport-scale-factor))`;d.style.height=`calc(${i}px * var(--viewport-scale-factor))`;this.annotationCanvasMap.set(e,d);this.annotationCanvas.savedCtx=this.ctx;this.ctx=u;this.ctx.setTransform(a,0,0,-o,0,i*o);addContextCurrentTransform(this.ctx);resetCtxToDefault(this.ctx)}else{resetCtxToDefault(this.ctx);this.ctx.rect(t[0],t[1],r,i);this.clip();this.endPath()}}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height);this.transform.apply(this,n);this.transform.apply(this,r)}endAnnotation(){if(this.annotationCanvas){this.ctx=this.annotationCanvas.savedCtx;delete this.annotationCanvas.savedCtx;delete this.annotationCanvas}this.restore()}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=this.ctx,n=e.width,s=e.height,r=this.processingType3;r&&void 0===r.compiled&&(r.compiled=n<=1e3&&s<=1e3?function compileType3Glyph(e){const t=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),n=e.width,s=e.height,r=n+1;let a,i,o,l;const c=new Uint8Array(r*(s+1)),h=n+7&-8,d=e.data,u=new Uint8Array(h*s);let p=0;for(a=0,i=d.length;a<i;a++){const e=d[a];let t=128;for(;t>0;){u[p++]=e&t?0:255;t>>=1}}let g=0;p=0;if(0!==u[p]){c[0]=1;++g}for(o=1;o<n;o++){if(u[p]!==u[p+1]){c[o]=u[p]?2:1;++g}p++}if(0!==u[p]){c[o]=2;++g}for(a=1;a<s;a++){p=a*h;l=a*r;if(u[p-h]!==u[p]){c[l]=u[p]?1:8;++g}let e=(u[p]?4:0)+(u[p-h]?8:0);for(o=1;o<n;o++){e=(e>>2)+(u[p+1]?4:0)+(u[p-h+1]?8:0);if(t[e]){c[l+o]=t[e];++g}p++}if(u[p-h]!==u[p]){c[l+o]=u[p]?2:4;++g}if(g>1e3)return null}p=h*(s-1);l=a*r;if(0!==u[p]){c[l]=8;++g}for(o=1;o<n;o++){if(u[p]!==u[p+1]){c[l+o]=u[p]?4:8;++g}p++}if(0!==u[p]){c[l+o]=4;++g}if(g>1e3)return null;const f=new Int32Array([0,r,-1,0,-r,0,0,0,1]),m=[];for(a=0;g&&a<=s;a++){let e=a*r;const t=e+n;for(;e<t&&!c[e];)e++;if(e===t)continue;const s=[e%r,a],i=e;let o=c[e];do{const t=f[o];do{e+=t}while(!c[e]);const n=c[e];if(5!==n&&10!==n){o=n;c[e]=0}else{o=n&51*o>>4;c[e]&=o>>2|o<<2}s.push(e%r,e/r|0);c[e]||--g}while(i!==e);m.push(s);--a}return function(e){e.save();e.scale(1/n,-1/s);e.translate(0,-s);e.beginPath();for(let t=0,n=m.length;t<n;t++){const n=m[t];e.moveTo(n[0],n[1]);for(let t=2,s=n.length;t<s;t+=2)e.lineTo(n[t],n[t+1])}e.fill();e.beginPath();e.restore()}}({data:e.data,width:n,height:s}):null);if(r?.compiled){r.compiled(t);return}const a=this._createMaskCanvas(e),i=a.canvas;t.save();t.setTransform(1,0,0,1,0,0);t.drawImage(i,a.offsetX,a.offsetY);t.restore();this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,r=0,a,i){if(!this.contentVisible)return;const o=this.ctx;o.save();const l=o.mozCurrentTransform;o.transform(t,n,r,a,0,0);const c=this._createMaskCanvas(e);o.setTransform(1,0,0,1,0,0);for(let e=0,h=i.length;e<h;e+=2){const h=s.Util.transform(l,[t,n,r,a,i[e],i[e+1]]),[d,u]=s.Util.applyTransform([0,0],h);o.drawImage(c.canvas,d,u)}o.restore();this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(let a=0,i=e.length;a<i;a++){const i=e[a],o=i.width,l=i.height,c=this.cachedCanvases.getCanvas("maskCanvas",o,l),h=c.context;h.save();putBinaryImageMask(h,i);h.globalCompositeOperation="source-in";h.fillStyle=s?n.getPattern(h,this,t.mozCurrentTransformInverse,r.PathType.FILL):n;h.fillRect(0,0,o,l);h.restore();t.save();t.transform.apply(t,i.transform);t.scale(1,-1);t.drawImage(c.canvas,0,0,o,l,0,-1,1,1);t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,s.warn)("Dependent image isn\'t ready yet")}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const a=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);if(!a){(0,s.warn)("Dependent image isn\'t ready yet");return}const i=a.width,o=a.height,l=[];for(let e=0,s=r.length;e<s;e+=2)l.push({transform:[t,0,0,n,r[e],r[e+1]],x:0,y:0,w:i,h:o});this.paintInlineImageXObjectGroup(a,l)}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,s=this.ctx;this.save();s.scale(1/t,-1/n);let r;if("function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)r=e;else{const s=this.cachedCanvases.getCanvas("inlineImage",t,n);putBinaryImageData(s.context,e,this.current.transferMaps);r=s.canvas}const a=this._scaleImage(r,s.mozCurrentTransformInverse);s.imageSmoothingEnabled=getImageSmoothingEnabled(s.mozCurrentTransform,e.interpolate);s.drawImage(a.img,0,0,a.paintWidth,a.paintHeight,0,-n,t,n);if(this.imageLayer){const r=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:e,left:r[0],top:r[1],width:t/s.mozCurrentTransformInverse[0],height:n/s.mozCurrentTransformInverse[3]})}this.compose();this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx,s=e.width,r=e.height,a=this.cachedCanvases.getCanvas("inlineImage",s,r);putBinaryImageData(a.context,e,this.current.transferMaps);for(let i=0,o=t.length;i<o;i++){const o=t[i];n.save();n.transform.apply(n,o.transform);n.scale(1,-1);n.drawImage(a.canvas,o.x,o.y,o.w,o.h,0,-1,1,1);if(this.imageLayer){const t=this.getCanvasPosition(o.x,o.y);this.imageLayer.appendImage({imgData:e,left:t[0],top:t[1],width:s,height:r})}n.restore()}this.compose()}paintSolidColorImageMask(){if(this.contentVisible){this.ctx.fillRect(0,0,1,1);this.compose()}}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0});this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop();this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){this.pendingClip&&this.current.updateClipFromPath();this.pendingClip||this.compose(e);const t=this.ctx;if(this.pendingClip){this.pendingClip===d?t.clip("evenodd"):t.clip();this.pendingClip=null}this.current.startNewPathAndClipBox(this.current.clipBox);t.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const e=this.ctx.mozCurrentTransform,t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=e[0]**2+e[2]**2,s=e[1]**2+e[3]**2,r=Math.sqrt(Math.max(n,s))/t;n!==s&&this._combinedScaleFactor*r>1?this._cachedGetSinglePixelWidth=-this._combinedScaleFactor*r:t>Number.EPSILON?this._cachedGetSinglePixelWidth=r:this._cachedGetSinglePixelWidth=1}return this._cachedGetSinglePixelWidth}getCanvasPosition(e,t){const n=this.ctx.mozCurrentTransform;return[n[0]*e+n[2]*t+n[4],n[1]*e+n[3]*t+n[5]]}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}t.CanvasGraphics=CanvasGraphics;for(const e in s.OPS)void 0!==CanvasGraphics.prototype[e]&&(CanvasGraphics.prototype[s.OPS[e]]=CanvasGraphics.prototype[e])},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.TilingPattern=t.PathType=void 0;t.getShadingPattern=function getShadingPattern(e){switch(e[0]){case"RadialAxial":return new RadialAxialShadingPattern(e);case"Mesh":return new MeshShadingPattern(e);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${e[0]}`)};var s=n(1);const r={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};t.PathType=r;function applyBoundingBox(e,t){if(!t||"undefined"==typeof Path2D)return;const n=t[2]-t[0],s=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],n,s);e.clip(r)}class BaseShadingPattern{constructor(){this.constructor===BaseShadingPattern&&(0,s.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,s.unreachable)("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor(e){super();this._type=e[1];this._bbox=e[2];this._colorStops=e[3];this._p0=e[4];this._p1=e[5];this._r0=e[6];this._r1=e[7];this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const e of this._colorStops)t.addColorStop(e[0],e[1]);return t}getPattern(e,t,n,a){let i;if(a===r.STROKE||a===r.FILL){const r=t.current.getClippedPathBoundingBox(a,e.mozCurrentTransform)||[0,0,0,0],o=Math.ceil(r[2]-r[0])||1,l=Math.ceil(r[3]-r[1])||1,c=t.cachedCanvases.getCanvas("pattern",o,l,!0),h=c.context;h.clearRect(0,0,h.canvas.width,h.canvas.height);h.beginPath();h.rect(0,0,h.canvas.width,h.canvas.height);h.translate(-r[0],-r[1]);n=s.Util.transform(n,[1,0,0,1,r[0],r[1]]);h.transform.apply(h,t.baseTransform);this.matrix&&h.transform.apply(h,this.matrix);applyBoundingBox(h,this._bbox);h.fillStyle=this._createGradient(h);h.fill();i=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(n);try{i.setTransform(d)}catch(e){(0,s.warn)(`RadialAxialShadingPattern.getPattern: "${e?.message}".`)}}else{applyBoundingBox(e,this._bbox);i=this._createGradient(e)}return i}}function drawTriangle(e,t,n,s,r,a,i,o){const l=t.coords,c=t.colors,h=e.data,d=4*e.width;let u;if(l[n+1]>l[s+1]){u=n;n=s;s=u;u=a;a=i;i=u}if(l[s+1]>l[r+1]){u=s;s=r;r=u;u=i;i=o;o=u}if(l[n+1]>l[s+1]){u=n;n=s;s=u;u=a;a=i;i=u}const p=(l[n]+t.offsetX)*t.scaleX,g=(l[n+1]+t.offsetY)*t.scaleY,f=(l[s]+t.offsetX)*t.scaleX,m=(l[s+1]+t.offsetY)*t.scaleY,_=(l[r]+t.offsetX)*t.scaleX,A=(l[r+1]+t.offsetY)*t.scaleY;if(g>=A)return;const b=c[a],y=c[a+1],S=c[a+2],x=c[i],v=c[i+1],C=c[i+2],P=c[o],w=c[o+1],T=c[o+2],k=Math.round(g),F=Math.round(A);let R,E,M,D,O,I,L,N;for(let e=k;e<=F;e++){if(e<m){let t;t=e<g?0:(g-e)/(g-m);R=p-(p-f)*t;E=b-(b-x)*t;M=y-(y-v)*t;D=S-(S-C)*t}else{let t;t=e>A?1:m===A?0:(m-e)/(m-A);R=f-(f-_)*t;E=x-(x-P)*t;M=v-(v-w)*t;D=C-(C-T)*t}let t;t=e<g?0:e>A?1:(g-e)/(g-A);O=p-(p-_)*t;I=b-(b-P)*t;L=y-(y-w)*t;N=S-(S-T)*t;const n=Math.round(Math.min(R,O)),s=Math.round(Math.max(R,O));let r=d*e+4*n;for(let e=n;e<=s;e++){t=(R-e)/(R-O);t<0?t=0:t>1&&(t=1);h[r++]=E-(E-I)*t|0;h[r++]=M-(M-L)*t|0;h[r++]=D-(D-N)*t|0;h[r++]=255}}}function drawFigure(e,t,n){const s=t.coords,r=t.colors;let a,i;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(s.length/o)-1,c=o-1;for(a=0;a<l;a++){let t=a*o;for(let a=0;a<c;a++,t++){drawTriangle(e,n,s[t],s[t+1],s[t+o],r[t],r[t+1],r[t+o]);drawTriangle(e,n,s[t+o+1],s[t+1],s[t+o],r[t+o+1],r[t+1],r[t+o])}}break;case"triangles":for(a=0,i=s.length;a<i;a+=3)drawTriangle(e,n,s[a],s[a+1],s[a+2],r[a],r[a+1],r[a+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor(e){super();this._coords=e[2];this._colors=e[3];this._figures=e[4];this._bounds=e[5];this._bbox=e[7];this._background=e[8];this.matrix=null}_createMeshCanvas(e,t,n){const s=Math.floor(this._bounds[0]),r=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-s,i=Math.ceil(this._bounds[3])-r,o=Math.min(Math.ceil(Math.abs(a*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(i*e[1]*1.1)),3e3),c=a/o,h=i/l,d={coords:this._coords,colors:this._colors,offsetX:-s,offsetY:-r,scaleX:1/c,scaleY:1/h},u=o+4,p=l+4,g=n.getCanvas("mesh",u,p,!1),f=g.context,m=f.createImageData(o,l);if(t){const e=m.data;for(let n=0,s=e.length;n<s;n+=4){e[n]=t[0];e[n+1]=t[1];e[n+2]=t[2];e[n+3]=255}}for(const e of this._figures)drawFigure(m,e,d);f.putImageData(m,2,2);return{canvas:g.canvas,offsetX:s-2*c,offsetY:r-2*h,scaleX:c,scaleY:h}}getPattern(e,t,n,a){applyBoundingBox(e,this._bbox);let i;if(a===r.SHADING)i=s.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else{i=s.Util.singularValueDecompose2dScale(t.baseTransform);if(this.matrix){const e=s.Util.singularValueDecompose2dScale(this.matrix);i=[i[0]*e[0],i[1]*e[1]]}}const o=this._createMeshCanvas(i,a===r.SHADING?null:this._background,t.cachedCanvases);if(a!==r.SHADING){e.setTransform.apply(e,t.baseTransform);this.matrix&&e.transform.apply(e,this.matrix)}e.translate(o.offsetX,o.offsetY);e.scale(o.scaleX,o.scaleY);return e.createPattern(o.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}const a=1,i=2;class TilingPattern{static get MAX_PATTERN_SIZE(){return(0,s.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(e,t,n,s,r){this.operatorList=e[2];this.matrix=e[3]||[1,0,0,1,0,0];this.bbox=e[4];this.xstep=e[5];this.ystep=e[6];this.paintType=e[7];this.tilingType=e[8];this.color=t;this.ctx=n;this.canvasGraphicsFactory=s;this.baseTransform=r}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,r=this.xstep,a=this.ystep,i=this.paintType,o=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;(0,s.info)("TilingType: "+o);const h=n[0],d=n[1],u=n[2],p=n[3],g=s.Util.singularValueDecompose2dScale(this.matrix),f=s.Util.singularValueDecompose2dScale(this.baseTransform),m=[g[0]*f[0],g[1]*f[1]],_=this.getSizeAndScale(r,this.ctx.canvas.width,m[0]),A=this.getSizeAndScale(a,this.ctx.canvas.height,m[1]),b=e.cachedCanvases.getCanvas("pattern",_.size,A.size,!0),y=b.context,S=c.createCanvasGraphics(y);S.groupLevel=e.groupLevel;this.setFillAndStrokeStyleToContext(S,i,l);let x=h,v=d,C=u,P=p;if(h<0){x=0;C+=Math.abs(h)}if(d<0){v=0;P+=Math.abs(d)}y.translate(-_.scale*x,-A.scale*v);S.transform(_.scale,0,0,A.scale,0,0);y.save();this.clipBbox(S,x,v,C,P);S.baseTransform=S.ctx.mozCurrentTransform.slice();S.executeOperatorList(t);S.endDrawing();return{canvas:b.canvas,scaleX:_.scale,scaleY:A.scale,offsetX:x,offsetY:v}}getSizeAndScale(e,t,n){e=Math.abs(e);const s=Math.max(TilingPattern.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*n);r>=s?r=s:n=r/e;return{scale:n,size:r}}clipBbox(e,t,n,s,r){const a=s-t,i=r-n;e.ctx.rect(t,n,a,i);e.clip();e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,o=e.current;switch(t){case a:const e=this.ctx;r.fillStyle=e.fillStyle;r.strokeStyle=e.strokeStyle;o.fillColor=e.fillStyle;o.strokeColor=e.strokeStyle;break;case i:const l=s.Util.makeHexColor(n[0],n[1],n[2]);r.fillStyle=l;r.strokeStyle=l;o.fillColor=l;o.strokeColor=l;break;default:throw new s.FormatError(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,a){let i=n;if(a!==r.SHADING){i=s.Util.transform(i,t.baseTransform);this.matrix&&(i=s.Util.transform(i,this.matrix))}const o=this.createPatternCanvas(t);let l=new DOMMatrix(i);l=l.translate(o.offsetX,o.offsetY);l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");try{c.setTransform(l)}catch(e){(0,s.warn)(`TilingPattern.getPattern: "${e?.message}".`)}return c}}t.TilingPattern=TilingPattern},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.GlobalWorkerOptions=void 0;const n=Object.create(null);t.GlobalWorkerOptions=n;n.workerPort=void 0===n.workerPort?null:n.workerPort;n.workerSrc=void 0===n.workerSrc?"":n.workerSrc},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.MessageHandler=void 0;var s=n(1);const r=1,a=2,i=1,o=2,l=3,c=4,h=5,d=6,u=7,p=8;function wrapReason(e){e instanceof Error||"object"==typeof e&&null!==e||(0,s.unreachable)(\'wrapReason: Expected "reason" to be a (possibly cloned) Error.\');switch(e.name){case"AbortException":return new s.AbortException(e.message);case"MissingPDFException":return new s.MissingPDFException(e.message);case"PasswordException":return new s.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new s.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new s.UnknownErrorException(e.message,e.details);default:return new s.UnknownErrorException(e.message,e.toString())}}t.MessageHandler=class MessageHandler{constructor(e,t,n){this.sourceName=e;this.targetName=t;this.comObj=n;this.callbackId=1;this.streamId=1;this.streamSinks=Object.create(null);this.streamControllers=Object.create(null);this.callbackCapabilities=Object.create(null);this.actionHandler=Object.create(null);this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream){this._processStreamMessage(t);return}if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error(`Cannot resolve callback ${e}`);delete this.callbackCapabilities[e];if(t.callback===r)n.resolve(t.data);else{if(t.callback!==a)throw new Error("Unexpected callback case");n.reject(wrapReason(t.reason))}return}const s=this.actionHandler[t.action];if(!s)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const e=this.sourceName,i=t.sourceName;new Promise((function(e){e(s(t.data))})).then((function(s){n.postMessage({sourceName:e,targetName:i,callback:r,callbackId:t.callbackId,data:s})}),(function(s){n.postMessage({sourceName:e,targetName:i,callback:a,callbackId:t.callbackId,reason:wrapReason(s)})}))}else t.streamId?this._createStreamSink(t):s(t.data)};n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,a=(0,s.createPromiseCapability)();this.callbackCapabilities[r]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(e){a.reject(e)}return a.promise}sendWithStream(e,t,n,r){const a=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:n=>{const i=(0,s.createPromiseCapability)();this.streamControllers[a]={controller:n,startCall:i,pullCall:null,cancelCall:null,isClosed:!1};c.postMessage({sourceName:o,targetName:l,action:e,streamId:a,data:t,desiredSize:n.desiredSize},r);return i.promise},pull:e=>{const t=(0,s.createPromiseCapability)();this.streamControllers[a].pullCall=t;c.postMessage({sourceName:o,targetName:l,stream:d,streamId:a,desiredSize:e.desiredSize});return t.promise},cancel:e=>{(0,s.assert)(e instanceof Error,"cancel must have a valid reason");const t=(0,s.createPromiseCapability)();this.streamControllers[a].cancelCall=t;this.streamControllers[a].isClosed=!0;c.postMessage({sourceName:o,targetName:l,stream:i,streamId:a,reason:wrapReason(e)});return t.promise}},n)}_createStreamSink(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,a=this.comObj,i=this,o=this.actionHandler[e.action],d={enqueue(e,i=1,o){if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=i;if(l>0&&this.desiredSize<=0){this.sinkCapability=(0,s.createPromiseCapability)();this.ready=this.sinkCapability.promise}a.postMessage({sourceName:n,targetName:r,stream:c,streamId:t,chunk:e},o)},close(){if(!this.isCancelled){this.isCancelled=!0;a.postMessage({sourceName:n,targetName:r,stream:l,streamId:t});delete i.streamSinks[t]}},error(e){(0,s.assert)(e instanceof Error,"error must have a valid reason");if(!this.isCancelled){this.isCancelled=!0;a.postMessage({sourceName:n,targetName:r,stream:h,streamId:t,reason:wrapReason(e)})}},sinkCapability:(0,s.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve();d.ready=d.sinkCapability.promise;this.streamSinks[t]=d;new Promise((function(t){t(o(e.data,d))})).then((function(){a.postMessage({sourceName:n,targetName:r,stream:p,streamId:t,success:!0})}),(function(e){a.postMessage({sourceName:n,targetName:r,stream:p,streamId:t,reason:wrapReason(e)})}))}_processStreamMessage(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,a=this.comObj,g=this.streamControllers[t],f=this.streamSinks[t];switch(e.stream){case p:e.success?g.startCall.resolve():g.startCall.reject(wrapReason(e.reason));break;case u:e.success?g.pullCall.resolve():g.pullCall.reject(wrapReason(e.reason));break;case d:if(!f){a.postMessage({sourceName:n,targetName:r,stream:u,streamId:t,success:!0});break}f.desiredSize<=0&&e.desiredSize>0&&f.sinkCapability.resolve();f.desiredSize=e.desiredSize;new Promise((function(e){e(f.onPull&&f.onPull())})).then((function(){a.postMessage({sourceName:n,targetName:r,stream:u,streamId:t,success:!0})}),(function(e){a.postMessage({sourceName:n,targetName:r,stream:u,streamId:t,reason:wrapReason(e)})}));break;case c:(0,s.assert)(g,"enqueue should have stream controller");if(g.isClosed)break;g.controller.enqueue(e.chunk);break;case l:(0,s.assert)(g,"close should have stream controller");if(g.isClosed)break;g.isClosed=!0;g.controller.close();this._deleteStreamController(g,t);break;case h:(0,s.assert)(g,"error should have stream controller");g.controller.error(wrapReason(e.reason));this._deleteStreamController(g,t);break;case o:e.success?g.cancelCall.resolve():g.cancelCall.reject(wrapReason(e.reason));this._deleteStreamController(g,t);break;case i:if(!f)break;new Promise((function(t){t(f.onCancel&&f.onCancel(wrapReason(e.reason)))})).then((function(){a.postMessage({sourceName:n,targetName:r,stream:o,streamId:t,success:!0})}),(function(e){a.postMessage({sourceName:n,targetName:r,stream:o,streamId:t,reason:wrapReason(e)})}));f.sinkCapability.reject(wrapReason(e.reason));f.isCancelled=!0;delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(e,t){await Promise.allSettled([e.startCall&&e.startCall.promise,e.pullCall&&e.pullCall.promise,e.cancelCall&&e.cancelCall.promise]);delete this.streamControllers[t]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.Metadata=void 0;var s=n(1);t.Metadata=class Metadata{#i;#o;constructor({parsedData:e,rawData:t}){this.#i=e;this.#o=t}getRaw(){return this.#o}get(e){return this.#i.get(e)??null}getAll(){return(0,s.objectFromMap)(this.#i)}has(e){return this.#i.has(e)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.OptionalContentConfig=void 0;var s=n(1);class OptionalContentGroup{constructor(e,t){this.visible=!0;this.name=e;this.intent=t}}t.OptionalContentConfig=class OptionalContentConfig{constructor(e){this.name=null;this.creator=null;this._order=null;this._groups=new Map;if(null!==e){this.name=e.name;this.creator=e.creator;this._order=e.order;for(const t of e.groups)this._groups.set(t.id,new OptionalContentGroup(t.name,t.intent));if("OFF"===e.baseState)for(const e of this._groups)e.visible=!1;for(const t of e.on)this._groups.get(t).visible=!0;for(const t of e.off)this._groups.get(t).visible=!1}}_evaluateVisibilityExpression(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const t=e[r];let a;if(Array.isArray(t))a=this._evaluateVisibilityExpression(t);else{if(!this._groups.has(t)){(0,s.warn)(`Optional content group not found: ${t}`);return!0}a=this._groups.get(t).visible}switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return"And"===n}isVisible(e){if(0===this._groups.size)return!0;if(!e){(0,s.warn)("Optional content group not defined.");return!0}if("OCG"===e.type){if(!this._groups.has(e.id)){(0,s.warn)(`Optional content group not found: ${e.id}`);return!0}return this._groups.get(e.id).visible}if("OCMD"===e.type){if(e.expression)return this._evaluateVisibilityExpression(e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!this._groups.has(t)){(0,s.warn)(`Optional content group not found: ${t}`);return!0}if(this._groups.get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!this._groups.has(t)){(0,s.warn)(`Optional content group not found: ${t}`);return!0}if(!this._groups.get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!this._groups.has(t)){(0,s.warn)(`Optional content group not found: ${t}`);return!0}if(!this._groups.get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!this._groups.has(t)){(0,s.warn)(`Optional content group not found: ${t}`);return!0}if(this._groups.get(t).visible)return!1}return!0}(0,s.warn)(`Unknown optional content policy ${e.policy}.`);return!0}(0,s.warn)(`Unknown group type ${e.type}.`);return!0}setVisibility(e,t=!0){this._groups.has(e)?this._groups.get(e).visible=!!t:(0,s.warn)(`Optional content group not found: ${e}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,s.objectFromMap)(this._groups):null}getGroup(e){return this._groups.get(e)||null}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.PDFDataTransportStream=void 0;var s=n(1),r=n(5);t.PDFDataTransportStream=class PDFDataTransportStream{constructor(e,t){(0,s.assert)(t,\'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.\');this._queuedChunks=[];this._progressiveDone=e.progressiveDone||!1;this._contentDispositionFilename=e.contentDispositionFilename||null;const n=e.initialData;if(n?.length>0){const e=new Uint8Array(n).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=t;this._isStreamingSupported=!e.disableStream;this._isRangeSupported=!e.disableRange;this._contentLength=e.length;this._fullRequestReader=null;this._rangeReaders=[];this._pdfDataRangeTransport.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})}));this._pdfDataRangeTransport.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})}));this._pdfDataRangeTransport.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})}));this._pdfDataRangeTransport.addProgressiveDoneListener((()=>{this._onProgressiveDone()}));this._pdfDataRangeTransport.transportReady()}_onReceiveData(e){const t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{const n=this._rangeReaders.some((function(n){if(n._begin!==e.begin)return!1;n._enqueue(t);return!0}));(0,s.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){if(void 0===e.total){const t=this._rangeReaders[0];t?.onProgress&&t.onProgress({loaded:e.loaded})}else{const t=this._fullRequestReader;t?.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone();this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){(0,s.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;this._queuedChunks=null;return new PDFDataTransportStreamReader(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new PDFDataTransportStreamRangeReader(this,e,t);this._pdfDataRangeTransport.requestDataRange(e,t);this._rangeReaders.push(n);return n}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}};class PDFDataTransportStreamReader{constructor(e,t,n=!1,s=null){this._stream=e;this._done=n||!1;this._filename=(0,r.isPdfFile)(s)?s:null;this._queuedChunks=t||[];this._loaded=0;for(const e of this._queuedChunks)this._loaded+=e.byteLength;this._requests=[];this._headersReady=Promise.resolve();e._fullRequestReader=this;this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,s.createPromiseCapability)();this._requests.push(e);return e.promise}cancel(e){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor(e,t,n){this._stream=e;this._begin=t;this._end=n;this._queuedChunk=null;this._requests=[];this._done=!1;this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0;this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;this._queuedChunk=null;return{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,s.createPromiseCapability)();this._requests.push(e);return e.promise}cancel(e){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0;this._stream._removeRangeReader(this)}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.XfaText=void 0;class XfaText{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};!function walk(e){if(!e)return;let n=null;const s=e.name;if("#text"===s)n=e.value;else{if(!XfaText.shouldBuildText(s))return;e?.attributes?.textContent?n=e.attributes.textContent:e.value&&(n=e.value)}null!==n&&t.push({str:n});if(e.children)for(const t of e.children)walk(t)}(e);return n}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}t.XfaText=XfaText},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.AnnotationLayer=void 0;var s=n(1),r=n(5),a=n(9),i=n(19),o=n(20);const l=1e3,c=new WeakSet;function getRectDims(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class AnnotationElementFactory{static create(e){switch(e.data.annotationType){case s.AnnotationType.LINK:return new LinkAnnotationElement(e);case s.AnnotationType.TEXT:return new TextAnnotationElement(e);case s.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new TextWidgetAnnotationElement(e);case"Btn":return e.data.radioButton?new RadioButtonWidgetAnnotationElement(e):e.data.checkBox?new CheckboxWidgetAnnotationElement(e):new PushButtonWidgetAnnotationElement(e);case"Ch":return new ChoiceWidgetAnnotationElement(e)}return new WidgetAnnotationElement(e);case s.AnnotationType.POPUP:return new PopupAnnotationElement(e);case s.AnnotationType.FREETEXT:return new FreeTextAnnotationElement(e);case s.AnnotationType.LINE:return new LineAnnotationElement(e);case s.AnnotationType.SQUARE:return new SquareAnnotationElement(e);case s.AnnotationType.CIRCLE:return new CircleAnnotationElement(e);case s.AnnotationType.POLYLINE:return new PolylineAnnotationElement(e);case s.AnnotationType.CARET:return new CaretAnnotationElement(e);case s.AnnotationType.INK:return new InkAnnotationElement(e);case s.AnnotationType.POLYGON:return new PolygonAnnotationElement(e);case s.AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(e);case s.AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(e);case s.AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(e);case s.AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(e);case s.AnnotationType.STAMP:return new StampAnnotationElement(e);case s.AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(e);default:return new AnnotationElement(e)}}}class AnnotationElement{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){this.isRenderable=t;this.data=e.data;this.layer=e.layer;this.page=e.page;this.viewport=e.viewport;this.linkService=e.linkService;this.downloadManager=e.downloadManager;this.imageResourcesPath=e.imageResourcesPath;this.renderForms=e.renderForms;this.svgFactory=e.svgFactory;this.annotationStorage=e.annotationStorage;this.enableScripting=e.enableScripting;this.hasJSActions=e.hasJSActions;this._fieldObjects=e.fieldObjects;this._mouseState=e.mouseState;t&&(this.container=this._createContainer(n));s&&(this.quadrilaterals=this._createQuadrilaterals(n))}_createContainer(e=!1){const t=this.data,n=this.page,r=this.viewport,a=document.createElement("section");let{width:i,height:o}=getRectDims(t.rect);a.setAttribute("data-annotation-id",t.id);const l=s.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(t.hasOwnCanvas){const e=r.transform.slice(),[t,n]=s.Util.singularValueDecompose2dScale(e);i=Math.ceil(i*t);o=Math.ceil(o*n);l[0]*=t;l[1]*=n;for(let t=0;t<4;t++)e[t]=Math.sign(e[t]);a.style.transform=`matrix(${e.join(",")})`}else a.style.transform=`matrix(${r.transform.join(",")})`;a.style.transformOrigin=`${-l[0]}px ${-l[1]}px`;if(!e&&t.borderStyle.width>0){a.style.borderWidth=`${t.borderStyle.width}px`;if(t.borderStyle.style!==s.AnnotationBorderStyleType.UNDERLINE){i-=2*t.borderStyle.width;o-=2*t.borderStyle.width}const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t=`${e}px / ${n}px`;a.style.borderRadius=t}switch(t.borderStyle.style){case s.AnnotationBorderStyleType.SOLID:a.style.borderStyle="solid";break;case s.AnnotationBorderStyleType.DASHED:a.style.borderStyle="dashed";break;case s.AnnotationBorderStyleType.BEVELED:(0,s.warn)("Unimplemented border style: beveled");break;case s.AnnotationBorderStyleType.INSET:(0,s.warn)("Unimplemented border style: inset");break;case s.AnnotationBorderStyleType.UNDERLINE:a.style.borderBottomStyle="solid"}t.borderColor||t.color||null?a.style.borderColor=s.Util.makeHexColor(0|t.color[0],0|t.color[1],0|t.color[2]):a.style.borderWidth=0}a.style.left=`${l[0]}px`;a.style.top=`${l[1]}px`;if(t.hasOwnCanvas)a.style.width=a.style.height="auto";else{a.style.width=`${i}px`;a.style.height=`${o}px`}return a}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const t=[],n=this.data.rect;for(const n of this.data.quadPoints){this.data.rect=[n[2].x,n[2].y,n[1].x,n[1].y];t.push(this._createContainer(e))}this.data.rect=n;return t}_createPopup(e,t){let n=this.container;if(this.quadrilaterals){e=e||this.quadrilaterals;n=this.quadrilaterals[0]}if(!e){(e=document.createElement("div")).style.height=n.style.height;e.style.width=n.style.width;n.appendChild(e)}const s=new PopupElement({container:n,trigger:e,color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,hideWrapper:!0}).render();s.style.left=n.style.width;n.appendChild(s)}_renderQuadrilaterals(e){for(const t of this.quadrilaterals)t.className=e;return this.quadrilaterals}render(){(0,s.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:e,id:a,exportValues:i}of r){if(-1===e)continue;if(a===t)continue;const r="string"==typeof i?i:null,o=document.getElementById(a);!o||c.has(o)?n.push({id:a,exportValue:r,domElement:o}):(0,s.warn)(`_getElementsByName - element not allowed: ${a}`)}return n}for(const s of document.getElementsByName(e)){const{id:e,exportValue:r}=s;e!==t&&(c.has(s)&&n.push({id:e,exportValue:r,domElement:s}))}return n}static get platform(){const e="undefined"!=typeof navigator?navigator.platform:"";return(0,s.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class LinkAnnotationElement extends AnnotationElement{constructor(e,t=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:e,linkService:t}=this,n=document.createElement("a");if(e.url){t.addLinkAttributes||(0,s.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance.");t.addLinkAttributes?.(n,e.url,e.newWindow)}else if(e.action)this._bindNamedAction(n,e.action);else if(e.dest)this._bindLink(n,e.dest);else{let t=!1;if(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions){t=!0;this._bindJSAction(n,e)}e.resetForm?this._bindResetFormAction(n,e.resetForm):t||this._bindLink(n,"")}if(this.quadrilaterals)return this._renderQuadrilaterals("linkAnnotation").map(((e,t)=>{const s=0===t?n:n.cloneNode();e.appendChild(s);return e}));this.container.className="linkAnnotation";this.container.appendChild(n);return this.container}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t);e.onclick=()=>{t&&this.linkService.goToDestination(t);return!1};(t||""===t)&&(e.className="internalLink")}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl("");e.onclick=()=>{this.linkService.executeNamedAction(t);return!1};e.className="internalLink"}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(t.actions)){const r=n.get(s);r&&(e[r]=()=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:s}});return!1})}e.onclick||(e.onclick=()=>!1);e.className="internalLink"}_bindResetFormAction(e,t){const n=e.onclick;n||(e.href=this.linkService.getAnchorUrl(""));e.className="internalLink";if(this._fieldObjects)e.onclick=()=>{n&&n();const{fields:e,refs:s,include:r}=t,a=[];if(0!==e.length||0!==s.length){const t=new Set(s);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===r&&a.push(n)}else for(const e of Object.values(this._fieldObjects))a.push(...e);const i=this.annotationStorage,o=[];for(const e of a){const{id:t}=e;o.push(t);switch(e.type){case"text":{const n=e.defaultValue||"";i.setValue(t,{value:n,valueAsString:n});break}case"checkbox":case"radiobutton":{const n=e.defaultValue===e.exportValues;i.setValue(t,{value:n});break}case"combobox":case"listbox":{const n=e.defaultValue||"";i.setValue(t,{value:n});break}default:continue}const n=document.getElementById(t);n&&c.has(n)&&n.dispatchEvent(new Event("resetform"))}this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}});return!1};else{(0,s.warn)(\'_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.\');n||(e.onclick=()=>!1)}}}class TextAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");e.style.height=this.container.style.height;e.style.width=this.container.style.width;e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg";e.alt="[{{type}} Annotation]";e.dataset.l10nId="text_annotation_type";e.dataset.l10nArgs=JSON.stringify({type:this.data.name});this.data.hasPopup||this._createPopup(e,this.data);this.container.appendChild(e);return this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){this.data.alternativeText&&(this.container.title=this.data.alternativeText);return this.container}_getKeyModifier(e){const{isWin:t,isMac:n}=AnnotationElement.platform;return t&&e.ctrlKey||n&&e.metaKey}_setEventListener(e,t,n,s){t.includes("mouse")?e.addEventListener(t,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:s(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(t,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:s(e)}})}))}_setEventListeners(e,t,n){for(const[s,r]of t)("Action"===r||this.data.actions?.[r])&&this._setEventListener(e,s,r,n)}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":s.Util.makeHexColor(t[0],t[1],t[2])}_dispatchEventFromSandbox(e,t){const setColor=(e,t,n)=>{const s=n.detail[e];n.target.style[t]=i.ColorConverters[`${s[0]}_HTML`](s.slice(1))},n={display:e=>{const t=e.detail.display%2==1;e.target.style.visibility=t?"hidden":"visible";this.annotationStorage.setValue(this.data.id,{hidden:t,print:0===e.detail.display||3===e.detail.display})},print:e=>{this.annotationStorage.setValue(this.data.id,{print:e.detail.print})},hidden:e=>{e.target.style.visibility=e.detail.hidden?"hidden":"visible";this.annotationStorage.setValue(this.data.id,{hidden:e.detail.hidden})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.detail.readonly?e.target.setAttribute("readonly",""):e.target.removeAttribute("readonly")},required:e=>{e.detail.required?e.target.setAttribute("required",""):e.target.removeAttribute("required")},bgColor:e=>{setColor("bgColor","backgroundColor",e)},fillColor:e=>{setColor("fillColor","backgroundColor",e)},fgColor:e=>{setColor("fgColor","color",e)},textColor:e=>{setColor("textColor","color",e)},borderColor:e=>{setColor("borderColor","borderColor",e)},strokeColor:e=>{setColor("strokeColor","borderColor",e)}};for(const s of Object.keys(t.detail)){const r=e[s]||n[s];r&&r(t)}}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,s){const r=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id)){a.domElement&&(a.domElement[t]=n);r.setValue(a.id,{[s]:n})}}render(){const e=this.annotationStorage,t=this.data.id;this.container.className="textWidgetAnnotation";let n=null;if(this.renderForms){const s=e.getValue(t,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),r=s.valueAsString||s.value||"",a={userValue:null,formattedValue:null};if(this.data.multiLine){n=document.createElement("textarea");n.textContent=r}else{n=document.createElement("input");n.type="text";n.setAttribute("value",r)}c.add(n);n.disabled=this.data.readOnly;n.name=this.data.fieldName;n.tabIndex=l;a.userValue=r;n.setAttribute("id",t);n.addEventListener("input",(s=>{e.setValue(t,{value:s.target.value});this.setPropertyOnSiblings(n,"value",s.target.value,"value")}));n.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue||"";n.value=a.userValue=t;delete a.formattedValue}));let blurListener=e=>{a.formattedValue&&(e.target.value=a.formattedValue);e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",(e=>{a.userValue&&(e.target.value=a.userValue)}));n.addEventListener("updatefromsandbox",(n=>{const s={value(n){a.userValue=n.detail.value||"";e.setValue(t,{value:a.userValue.toString()});a.formattedValue||(n.target.value=a.userValue)},valueAsString(n){a.formattedValue=n.detail.valueAsString||"";n.target!==document.activeElement&&(n.target.value=a.formattedValue);e.setValue(t,{formattedValue:a.formattedValue})},selRange(e){const[t,n]=e.detail.selRange;t>=0&&n<e.target.value.length&&e.target.setSelectionRange(t,n)}};this._dispatchEventFromSandbox(s,n)}));n.addEventListener("keydown",(e=>{let n=-1;"Escape"===e.key?n=0:"Enter"===e.key?n=2:"Tab"===e.key&&(n=3);if(-1!==n){a.userValue=e.target.value;this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:e.target.value,willCommit:!0,commitKey:n,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}})}}));const s=blurListener;blurListener=null;n.addEventListener("blur",(e=>{a.userValue=e.target.value;this._mouseState.isDown&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:e.target.value,willCommit:!0,commitKey:1,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}});s(e)}));this.data.actions?.Keystroke&&n.addEventListener("beforeinput",(e=>{a.formattedValue="";const{data:n,target:s}=e,{value:r,selectionStart:i,selectionEnd:o}=s;this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,change:n,willCommit:!1,selStart:i,selEnd:o}})}));this._setEventListeners(n,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}blurListener&&n.addEventListener("blur",blurListener);null!==this.data.maxLen&&(n.maxLength=this.data.maxLen);if(this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;n.classList.add("comb");n.style.letterSpacing=`calc(${e}px - 1ch)`}}else{n=document.createElement("div");n.textContent=this.data.fieldValue;n.style.verticalAlign="middle";n.style.display="table-cell"}this._setTextStyle(n);this._setBackgroundColor(n);this.container.appendChild(n);return this.container}_setTextStyle(e){const t=["left","center","right"],{fontSize:n,fontColor:r}=this.data.defaultAppearanceData,a=e.style;n&&(a.fontSize=`${n}px`);a.color=s.Util.makeHexColor(r[0],r[1],r[2]);null!==this.data.textAlignment&&(a.textAlign=t[this.data.textAlignment])}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;if("string"==typeof s){s="Off"!==s;e.setValue(n,{value:s})}this.container.className="buttonWidgetAnnotation checkBox";const r=document.createElement("input");c.add(r);r.disabled=t.readOnly;r.type="checkbox";r.name=t.fieldName;s&&r.setAttribute("checked",!0);r.setAttribute("id",n);r.setAttribute("exportValue",t.exportValue);r.tabIndex=l;r.addEventListener("change",(s=>{const{name:r,checked:a}=s.target;for(const s of this._getElementsByName(r,n)){const n=a&&s.exportValue===t.exportValue;s.domElement&&(s.domElement.checked=n);e.setValue(s.id,{value:n})}e.setValue(n,{value:a})}));r.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue}));if(this.enableScripting&&this.hasJSActions){r.addEventListener("updatefromsandbox",(t=>{const s={value(t){t.target.checked="Off"!==t.detail.value;e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(s,t)}));this._setEventListeners(r,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}this._setBackgroundColor(r);this.container.appendChild(r);return this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if("string"==typeof s){s=s!==t.buttonValue;e.setValue(n,{value:s})}const r=document.createElement("input");c.add(r);r.disabled=t.readOnly;r.type="radio";r.name=t.fieldName;s&&r.setAttribute("checked",!0);r.setAttribute("id",n);r.tabIndex=l;r.addEventListener("change",(t=>{const{name:s,checked:r}=t.target;for(const t of this._getElementsByName(s,n))e.setValue(t.id,{value:!1});e.setValue(n,{value:r})}));r.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!=n&&n===t.buttonValue}));if(this.enableScripting&&this.hasJSActions){const s=t.buttonValue;r.addEventListener("updatefromsandbox",(t=>{const r={value:t=>{const r=s===t.detail.value;for(const s of this._getElementsByName(t.target.name)){const t=r&&s.id===n;s.domElement&&(s.domElement.checked=t);e.setValue(s.id,{value:t})}}};this._dispatchEventFromSandbox(r,t)}));this._setEventListeners(r,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}this._setBackgroundColor(r);this.container.appendChild(r);return this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.className="buttonWidgetAnnotation pushButton";this.data.alternativeText&&(e.title=this.data.alternativeText);return e}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,t=this.data.id;e.getValue(t,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:n}=this.data.defaultAppearanceData;n||(n=9);const s=`calc(${n}px * var(--zoom-factor))`,r=document.createElement("select");c.add(r);r.disabled=this.data.readOnly;r.name=this.data.fieldName;r.setAttribute("id",t);r.tabIndex=l;r.style.fontSize=`${n}px`;if(!this.data.combo){r.size=this.data.options.length;this.data.multiSelect&&(r.multiple=!0)}r.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const e of r.options)e.selected=e.value===t}));for(const e of this.data.options){const t=document.createElement("option");t.textContent=e.displayValue;t.value=e.exportValue;this.data.combo&&(t.style.fontSize=s);this.data.fieldValue.includes(e.exportValue)&&t.setAttribute("selected",!0);r.appendChild(t)}const getValue=(e,t)=>{const n=t?"value":"textContent",s=e.target.options;return e.target.multiple?Array.prototype.filter.call(s,(e=>e.selected)).map((e=>e[n])):-1===s.selectedIndex?null:s[s.selectedIndex][n]},getItems=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};if(this.enableScripting&&this.hasJSActions){r.addEventListener("updatefromsandbox",(n=>{const s={value(n){const s=n.detail.value,a=new Set(Array.isArray(s)?s:[s]);for(const e of r.options)e.selected=a.has(e.value);e.setValue(t,{value:getValue(n,!0)})},multipleSelection(e){r.multiple=!0},remove(n){const s=r.options,a=n.detail.remove;s[a].selected=!1;r.remove(a);if(s.length>0){-1===Array.prototype.findIndex.call(s,(e=>e.selected))&&(s[0].selected=!0)}e.setValue(t,{value:getValue(n,!0),items:getItems(n)})},clear(n){for(;0!==r.length;)r.remove(0);e.setValue(t,{value:null,items:[]})},insert(n){const{index:s,displayValue:a,exportValue:i}=n.detail.insert,o=document.createElement("option");o.textContent=a;o.value=i;r.insertBefore(o,r.children[s]);e.setValue(t,{value:getValue(n,!0),items:getItems(n)})},items(n){const{items:s}=n.detail;for(;0!==r.length;)r.remove(0);for(const e of s){const{displayValue:t,exportValue:n}=e,s=document.createElement("option");s.textContent=t;s.value=n;r.appendChild(s)}r.options.length>0&&(r.options[0].selected=!0);e.setValue(t,{value:getValue(n,!0),items:getItems(n)})},indices(n){const s=new Set(n.detail.indices);for(const e of n.target.options)e.selected=s.has(e.index);e.setValue(t,{value:getValue(n,!0)})},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(s,n)}));r.addEventListener("input",(n=>{const s=getValue(n,!0),r=getValue(n,!1);e.setValue(t,{value:s});this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,changeEx:s,willCommit:!0,commitKey:1,keyDown:!1}})}));this._setEventListeners(r,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],(e=>e.target.checked))}else r.addEventListener("input",(function(n){e.setValue(t,{value:getValue(n)})}));this._setBackgroundColor(r);this.container.appendChild(r);return this.container}}class PopupAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="popupAnnotation";if(["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const e=`[data-annotation-id="${this.data.parentId}"]`,t=this.layer.querySelectorAll(e);if(0===t.length)return this.container;const n=new PopupElement({container:this.container,trigger:Array.from(t),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),r=this.page,a=s.Util.normalizeRect([this.data.parentRect[0],r.view[3]-this.data.parentRect[1]+r.view[1],this.data.parentRect[2],r.view[3]-this.data.parentRect[3]+r.view[1]]),i=a[0]+this.data.parentRect[2]-this.data.parentRect[0],o=a[1];this.container.style.transformOrigin=`${-i}px ${-o}px`;this.container.style.left=`${i}px`;this.container.style.top=`${o}px`;this.container.appendChild(n.render());return this.container}}class PopupElement{constructor(e){this.container=e.container;this.trigger=e.trigger;this.color=e.color;this.titleObj=e.titleObj;this.modificationDate=e.modificationDate;this.contentsObj=e.contentsObj;this.richText=e.richText;this.hideWrapper=e.hideWrapper||!1;this.pinned=!1}render(){const e=document.createElement("div");e.className="popupWrapper";this.hideElement=this.hideWrapper?e:this.container;this.hideElement.hidden=!0;const t=document.createElement("div");t.className="popup";const n=this.color;if(n){const e=.7*(255-n[0])+n[0],r=.7*(255-n[1])+n[1],a=.7*(255-n[2])+n[2];t.style.backgroundColor=s.Util.makeHexColor(0|e,0|r,0|a)}const a=document.createElement("h1");a.dir=this.titleObj.dir;a.textContent=this.titleObj.str;t.appendChild(a);const i=r.PDFDateString.toDateObject(this.modificationDate);if(i){const e=document.createElement("span");e.className="popupDate";e.textContent="{{date}}, {{time}}";e.dataset.l10nId="annotation_date_string";e.dataset.l10nArgs=JSON.stringify({date:i.toLocaleDateString(),time:i.toLocaleTimeString()});t.appendChild(e)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const e=this._formatContents(this.contentsObj);t.appendChild(e)}else{o.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:t});t.lastChild.className="richText popupContent"}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const e of this.trigger){e.addEventListener("click",this._toggle.bind(this));e.addEventListener("mouseover",this._show.bind(this,!1));e.addEventListener("mouseout",this._hide.bind(this,!1))}t.addEventListener("click",this._hide.bind(this,!0));e.appendChild(t);return e}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.className="popupContent";n.dir=t;const s=e.split(/(?:\\r\\n?|\\n)/);for(let e=0,t=s.length;e<t;++e){const r=s[e];n.appendChild(document.createTextNode(r));e<t-1&&n.appendChild(document.createElement("br"))}return n}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0);if(this.hideElement.hidden){this.hideElement.hidden=!1;this.container.style.zIndex+=1}}_hide(e=!0){e&&(this.pinned=!1);if(!this.hideElement.hidden&&!this.pinned){this.hideElement.hidden=!0;this.container.style.zIndex-=1}}}class FreeTextAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="freeTextAnnotation";this.data.hasPopup||this._createPopup(null,this.data);return this.container}}class LineAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:t,height:n}=getRectDims(e.rect),s=this.svgFactory.create(t,n),r=this.svgFactory.createElement("svg:line");r.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]);r.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]);r.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]);r.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]);r.setAttribute("stroke-width",e.borderStyle.width||1);r.setAttribute("stroke","transparent");r.setAttribute("fill","transparent");s.appendChild(r);this.container.append(s);this._createPopup(r,e);return this.container}}class SquareAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:t,height:n}=getRectDims(e.rect),s=this.svgFactory.create(t,n),r=e.borderStyle.width,a=this.svgFactory.createElement("svg:rect");a.setAttribute("x",r/2);a.setAttribute("y",r/2);a.setAttribute("width",t-r);a.setAttribute("height",n-r);a.setAttribute("stroke-width",r||1);a.setAttribute("stroke","transparent");a.setAttribute("fill","transparent");s.appendChild(a);this.container.append(s);this._createPopup(a,e);return this.container}}class CircleAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:t,height:n}=getRectDims(e.rect),s=this.svgFactory.create(t,n),r=e.borderStyle.width,a=this.svgFactory.createElement("svg:ellipse");a.setAttribute("cx",t/2);a.setAttribute("cy",n/2);a.setAttribute("rx",t/2-r/2);a.setAttribute("ry",n/2-r/2);a.setAttribute("stroke-width",r||1);a.setAttribute("stroke","transparent");a.setAttribute("fill","transparent");s.appendChild(a);this.container.append(s);this._createPopup(a,e);return this.container}}class PolylineAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0});this.containerClassName="polylineAnnotation";this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:t,height:n}=getRectDims(e.rect),s=this.svgFactory.create(t,n);let r=[];for(const t of e.vertices){const n=t.x-e.rect[0],s=e.rect[3]-t.y;r.push(n+","+s)}r=r.join(" ");const a=this.svgFactory.createElement(this.svgElementName);a.setAttribute("points",r);a.setAttribute("stroke-width",e.borderStyle.width||1);a.setAttribute("stroke","transparent");a.setAttribute("fill","transparent");s.appendChild(a);this.container.append(s);this._createPopup(a,e);return this.container}}class PolygonAnnotationElement extends PolylineAnnotationElement{constructor(e){super(e);this.containerClassName="polygonAnnotation";this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="caretAnnotation";this.data.hasPopup||this._createPopup(null,this.data);return this.container}}class InkAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0});this.containerClassName="inkAnnotation";this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:t,height:n}=getRectDims(e.rect),s=this.svgFactory.create(t,n);for(const t of e.inkLists){let n=[];for(const s of t){const t=s.x-e.rect[0],r=e.rect[3]-s.y;n.push(`${t},${r}`)}n=n.join(" ");const r=this.svgFactory.createElement(this.svgElementName);r.setAttribute("points",n);r.setAttribute("stroke-width",e.borderStyle.width||1);r.setAttribute("stroke","transparent");r.setAttribute("fill","transparent");this._createPopup(r,e);s.appendChild(r)}this.container.append(s);return this.container}}class HighlightAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){this.data.hasPopup||this._createPopup(null,this.data);if(this.quadrilaterals)return this._renderQuadrilaterals("highlightAnnotation");this.container.className="highlightAnnotation";return this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){this.data.hasPopup||this._createPopup(null,this.data);if(this.quadrilaterals)return this._renderQuadrilaterals("underlineAnnotation");this.container.className="underlineAnnotation";return this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){this.data.hasPopup||this._createPopup(null,this.data);if(this.quadrilaterals)return this._renderQuadrilaterals("squigglyAnnotation");this.container.className="squigglyAnnotation";return this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){this.data.hasPopup||this._createPopup(null,this.data);if(this.quadrilaterals)return this._renderQuadrilaterals("strikeoutAnnotation");this.container.className="strikeoutAnnotation";return this.container}}class StampAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="stampAnnotation";this.data.hasPopup||this._createPopup(null,this.data);return this.container}}class FileAttachmentAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0});const{filename:t,content:n}=this.data.file;this.filename=(0,r.getFilenameFromUrl)(t);this.content=n;this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,id:(0,s.stringToPDFString)(t),filename:t,content:n})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");e.style.height=this.container.style.height;e.style.width=this.container.style.width;e.addEventListener("dblclick",this._download.bind(this));!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data);this.container.appendChild(e);return this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}t.AnnotationLayer=class AnnotationLayer{static render(e){const t=[],n=[];for(const r of e.annotations){if(!r)continue;const{width:e,height:a}=getRectDims(r.rect);e<=0||a<=0||(r.annotationType!==s.AnnotationType.POPUP?t.push(r):n.push(r))}n.length&&t.push(...n);const i=e.div;for(const n of t){const t=AnnotationElementFactory.create({data:n,layer:i,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new r.DOMSVGFactory,annotationStorage:e.annotationStorage||new a.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(t.isRenderable){const e=t.render();n.hidden&&(e.style.visibility="hidden");if(Array.isArray(e))for(const t of e)i.appendChild(t);else t instanceof PopupAnnotationElement?i.prepend(e):i.appendChild(e)}}this.#l(i,e.annotationCanvasMap)}static update(e){const{page:t,viewport:n,annotations:r,annotationCanvasMap:a,div:i}=e,o=n.transform,l=`matrix(${o.join(",")})`;let c,h;for(const e of r){const n=i.querySelectorAll(`[data-annotation-id="${e.id}"]`);if(n)for(const r of n)if(e.hasOwnCanvas){const n=s.Util.normalizeRect([e.rect[0],t.view[3]-e.rect[1]+t.view[1],e.rect[2],t.view[3]-e.rect[3]+t.view[1]]);if(!h){c=Math.abs(o[0]||o[1]);const e=o.slice();for(let t=0;t<4;t++)e[t]=Math.sign(e[t]);h=`matrix(${e.join(",")})`}const a=n[0]*c,i=n[1]*c;r.style.left=`${a}px`;r.style.top=`${i}px`;r.style.transformOrigin=`${-a}px ${-i}px`;r.style.transform=h}else r.style.transform=l}this.#l(i,a);i.hidden=!1}static#l(e,t){if(t){for(const[n,s]of t){const t=e.querySelector(`[data-annotation-id="${n}"]`);if(!t)continue;const{firstChild:r}=t;"CANVAS"===r.nodeName?t.replaceChild(s,r):t.insertBefore(s,r)}t.clear()}}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.ColorConverters=void 0;function makeColorComp(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}t.ColorConverters=class ColorConverters{static CMYK_G([e,t,n,s]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_HTML([e]){const t=makeColorComp(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_HTML([e,t,n]){return`#${makeColorComp(e)}${makeColorComp(t)}${makeColorComp(n)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([e,t,n,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,n+s),1-Math.min(1,t+s)]}static CMYK_HTML(e){return this.RGB_HTML(this.CMYK_RGB(e))}static RGB_CMYK([e,t,n]){const s=1-e,r=1-t,a=1-n;return["CMYK",s,r,a,Math.min(s,r,a)]}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.XfaLayer=void 0;var s=n(1),r=n(17);t.XfaLayer=class XfaLayer{static setupStorage(e,t,n,s,r){const a=s.getValue(t,{value:null});switch(n.name){case"textarea":null!==a.value&&(e.textContent=a.value);if("print"===r)break;e.addEventListener("input",(e=>{s.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked");if("print"===r)break;e.addEventListener("change",(e=>{s.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{null!==a.value&&e.setAttribute("value",a.value);if("print"===r)break;e.addEventListener("input",(e=>{s.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==a.value)for(const e of n.children)e.attributes.value===a.value&&(e.attributes.selected=!0);e.addEventListener("input",(e=>{const n=e.target.options,r=-1===n.selectedIndex?"":n[n.selectedIndex].value;s.setValue(t,{value:r})}))}}static setAttributes({html:e,element:t,storage:n=null,intent:r,linkService:a}){const{attributes:i}=t,o=e instanceof HTMLAnchorElement;"radio"===i.type&&(i.name=`${i.name}-${r}`);for(const[t,n]of Object.entries(i))if(null!=n&&"dataId"!==t)if("style"!==t)if("textContent"===t)e.textContent=n;else if("class"===t)n.length&&e.setAttribute(t,n.join(" "));else{if(o&&("href"===t||"newWindow"===t))continue;e.setAttribute(t,n)}else Object.assign(e.style,n);if(o){a.addLinkAttributes||(0,s.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance.");a.addLinkAttributes?.(e,i.href,i.newWindow)}n&&i.dataId&&this.setupStorage(e,i.dataId,t,n)}static render(e){const t=e.annotationStorage,n=e.linkService,s=e.xfaHtml,a=e.intent||"display",i=document.createElement(s.name);s.attributes&&this.setAttributes({html:i,element:s,intent:a,linkService:n});const o=[[s,-1,i]],l=e.div;l.appendChild(i);if(e.viewport){const t=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=t}"richText"!==a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];for(;o.length>0;){const[e,s,i]=o[o.length-1];if(s+1===e.children.length){o.pop();continue}const l=e.children[++o[o.length-1][1]];if(null===l)continue;const{name:h}=l;if("#text"===h){const e=document.createTextNode(l.value);c.push(e);i.appendChild(e);continue}let d;d=l?.attributes?.xmlns?document.createElementNS(l.attributes.xmlns,h):document.createElement(h);i.appendChild(d);l.attributes&&this.setAttributes({html:d,element:l,storage:t,intent:a,linkService:n});if(l.children&&l.children.length>0)o.push([l,-1,d]);else if(l.value){const e=document.createTextNode(l.value);r.XfaText.shouldBuildText(h)&&c.push(e);d.appendChild(e)}}for(const e of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))e.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t;e.div.hidden=!1}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.renderTextLayer=function renderTextLayer(e){const t=new TextLayerRenderTask({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});t._render(e.timeout);return t};var s=n(1);const r=30,a=new Map,i=/^\\s+$/g;function appendText(e,t,n,o){const l=document.createElement("span"),c=e._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL};e._textDivs.push(l);const h=s.Util.transform(e._viewport.transform,t.transform);let d=Math.atan2(h[1],h[0]);const u=n[t.fontName];u.vertical&&(d+=Math.PI/2);const p=Math.hypot(h[2],h[3]),g=p*function getAscent(e,t){const n=a.get(e);if(n)return n;t.save();t.font=`30px ${e}`;const s=t.measureText("");let i=s.fontBoundingBoxAscent,o=Math.abs(s.fontBoundingBoxDescent);if(i){t.restore();const n=i/(i+o);a.set(e,n);return n}t.strokeStyle="red";t.clearRect(0,0,r,r);t.strokeText("g",0,0);let l=t.getImageData(0,0,r,r).data;o=0;for(let e=l.length-1-3;e>=0;e-=4)if(l[e]>0){o=Math.ceil(e/4/r);break}t.clearRect(0,0,r,r);t.strokeText("A",0,r);l=t.getImageData(0,0,r,r).data;i=0;for(let e=0,t=l.length;e<t;e+=4)if(l[e]>0){i=r-Math.floor(e/4/r);break}t.restore();if(i){const t=i/(i+o);a.set(e,t);return t}a.set(e,.8);return.8}(u.fontFamily,o);let f,m;if(0===d){f=h[4];m=h[5]-g}else{f=h[4]+g*Math.sin(d);m=h[5]-g*Math.cos(d)}l.style.left=`${f}px`;l.style.top=`${m}px`;l.style.fontSize=`${p}px`;l.style.fontFamily=u.fontFamily;l.setAttribute("role","presentation");l.textContent=t.str;l.dir=t.dir;e._fontInspectorEnabled&&(l.dataset.fontName=t.fontName);0!==d&&(c.angle=d*(180/Math.PI));let _=!1;if(t.str.length>1||e._enhanceTextSelection&&i.test(t.str))_=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(_=!0)}_&&(u.vertical?c.canvasWidth=t.height*e._viewport.scale:c.canvasWidth=t.width*e._viewport.scale);e._textDivProperties.set(l,c);e._textContentStream&&e._layoutText(l);if(e._enhanceTextSelection&&c.hasText){let n=1,r=0;if(0!==d){n=Math.cos(d);r=Math.sin(d)}const a=(u.vertical?t.height:t.width)*e._viewport.scale,i=p;let o,c;if(0!==d){o=[n,r,-r,n,f,m];c=s.Util.getAxialAlignedBoundingBox([0,0,a,i],o)}else c=[f,m,f+a,m+i];e._bounds.push({left:c[0],top:c[1],right:c[2],bottom:c[3],div:l,size:[a,i],m:o})}}function render(e){if(e._canceled)return;const t=e._textDivs,n=e._capability,s=t.length;if(s>1e5){e._renderingDone=!0;n.resolve()}else{if(!e._textContentStream)for(let n=0;n<s;n++)e._layoutText(t[n]);e._renderingDone=!0;n.resolve()}}function findPositiveMin(e,t,n){let s=0;for(let r=0;r<n;r++){const n=e[t++];n>0&&(s=s?Math.min(n,s):n)}return s}function expand(e){const t=e._bounds,n=e._viewport,r=function expandBounds(e,t,n){const s=n.map((function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}}));expandBoundsLTR(e,s);const r=new Array(n.length);for(const e of s){const t=e.index;r[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}}n.map((function(t,n){const a=r[n],i=s[n];i.x1=t.top;i.y1=e-a.right;i.x2=t.bottom;i.y2=e-a.left;i.index=n;i.x1New=void 0;i.x2New=void 0}));expandBoundsLTR(t,s);for(const e of s){const t=e.index;r[t].top=e.x1New;r[t].bottom=e.x2New}return r}(n.width,n.height,t);for(let n=0;n<r.length;n++){const a=t[n].div,i=e._textDivProperties.get(a);if(0===i.angle){i.paddingLeft=t[n].left-r[n].left;i.paddingTop=t[n].top-r[n].top;i.paddingRight=r[n].right-t[n].right;i.paddingBottom=r[n].bottom-t[n].bottom;e._textDivProperties.set(a,i);continue}const o=r[n],l=t[n],c=l.m,h=c[0],d=c[1],u=[[0,0],[0,l.size[1]],[l.size[0],0],l.size],p=new Float64Array(64);for(let e=0,t=u.length;e<t;e++){const t=s.Util.applyTransform(u[e],c);p[e+0]=h&&(o.left-t[0])/h;p[e+4]=d&&(o.top-t[1])/d;p[e+8]=h&&(o.right-t[0])/h;p[e+12]=d&&(o.bottom-t[1])/d;p[e+16]=d&&(o.left-t[0])/-d;p[e+20]=h&&(o.top-t[1])/h;p[e+24]=d&&(o.right-t[0])/-d;p[e+28]=h&&(o.bottom-t[1])/h;p[e+32]=h&&(o.left-t[0])/-h;p[e+36]=d&&(o.top-t[1])/-d;p[e+40]=h&&(o.right-t[0])/-h;p[e+44]=d&&(o.bottom-t[1])/-d;p[e+48]=d&&(o.left-t[0])/d;p[e+52]=h&&(o.top-t[1])/-h;p[e+56]=d&&(o.right-t[0])/d;p[e+60]=h&&(o.bottom-t[1])/-h}const g=1+Math.min(Math.abs(h),Math.abs(d));i.paddingLeft=findPositiveMin(p,32,16)/g;i.paddingTop=findPositiveMin(p,48,16)/g;i.paddingRight=findPositiveMin(p,0,16)/g;i.paddingBottom=findPositiveMin(p,16,16)/g;e._textDivProperties.set(a,i)}}function expandBoundsLTR(e,t){t.sort((function(e,t){return e.x1-t.x1||e.index-t.index}));const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const e of t){let t=0;for(;t<n.length&&n[t].end<=e.y1;)t++;let s,r,a=n.length-1;for(;a>=0&&n[a].start>=e.y2;)a--;let i,o,l=-1/0;for(i=t;i<=a;i++){s=n[i];r=s.boundary;let t;t=r.x2>e.x1?r.index>e.index?r.x1New:e.x1:void 0===r.x2New?(r.x2+e.x1)/2:r.x2New;t>l&&(l=t)}e.x1New=l;for(i=t;i<=a;i++){s=n[i];r=s.boundary;void 0===r.x2New?r.x2>e.x1?r.index>e.index&&(r.x2New=r.x2):r.x2New=l:r.x2New>l&&(r.x2New=Math.max(l,r.x2))}const c=[];let h=null;for(i=t;i<=a;i++){s=n[i];r=s.boundary;const t=r.x2>e.x2?r:e;if(h===t)c[c.length-1].end=s.end;else{c.push({start:s.start,end:s.end,boundary:t});h=t}}if(n[t].start<e.y1){c[0].start=e.y1;c.unshift({start:n[t].start,end:e.y1,boundary:n[t].boundary})}if(e.y2<n[a].end){c[c.length-1].end=e.y2;c.push({start:e.y2,end:n[a].end,boundary:n[a].boundary})}for(i=t;i<=a;i++){s=n[i];r=s.boundary;if(void 0!==r.x2New)continue;let e=!1;for(o=t-1;!e&&o>=0&&n[o].start>=r.y1;o--)e=n[o].boundary===r;for(o=a+1;!e&&o<n.length&&n[o].end<=r.y2;o++)e=n[o].boundary===r;for(o=0;!e&&o<c.length;o++)e=c[o].boundary===r;e||(r.x2New=l)}Array.prototype.splice.apply(n,[t,a-t+1].concat(c))}for(const t of n){const n=t.boundary;void 0===n.x2New&&(n.x2New=Math.max(e,n.x2))}}class TextLayerRenderTask{constructor({textContent:e,textContentStream:t,container:n,viewport:r,textDivs:a,textContentItemsStr:i,enhanceTextSelection:o}){this._textContent=e;this._textContentStream=t;this._container=n;this._document=n.ownerDocument;this._viewport=r;this._textDivs=a||[];this._textContentItemsStr=i||[];this._enhanceTextSelection=!!o;this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled;this._reader=null;this._layoutTextLastFontSize=null;this._layoutTextLastFontFamily=null;this._layoutTextCtx=null;this._textDivProperties=new WeakMap;this._renderingDone=!1;this._canceled=!1;this._capability=(0,s.createPromiseCapability)();this._renderTimer=null;this._bounds=[];this._capability.promise.finally((()=>{this._enhanceTextSelection||(this._textDivProperties=null);if(this._layoutTextCtx){this._layoutTextCtx.canvas.width=0;this._layoutTextCtx.canvas.height=0;this._layoutTextCtx=null}})).catch((()=>{}))}get promise(){return this._capability.promise}cancel(){this._canceled=!0;if(this._reader){this._reader.cancel(new s.AbortException("TextLayer task cancelled.")).catch((()=>{}));this._reader=null}if(null!==this._renderTimer){clearTimeout(this._renderTimer);this._renderTimer=null}this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(e,t){for(let n=0,s=e.length;n<s;n++)if(void 0!==e[n].str){this._textContentItemsStr.push(e[n].str);appendText(this,e[n],t,this._layoutTextCtx)}else if("beginMarkedContentProps"===e[n].type||"beginMarkedContent"===e[n].type){const t=this._container;this._container=document.createElement("span");this._container.classList.add("markedContent");null!==e[n].id&&this._container.setAttribute("id",`${e[n].id}`);t.appendChild(this._container)}else"endMarkedContent"===e[n].type&&(this._container=this._container.parentNode)}_layoutText(e){const t=this._textDivProperties.get(e);let n="";if(0!==t.canvasWidth&&t.hasText){const{fontSize:s,fontFamily:r}=e.style;if(s!==this._layoutTextLastFontSize||r!==this._layoutTextLastFontFamily){this._layoutTextCtx.font=`${s} ${r}`;this._layoutTextLastFontSize=s;this._layoutTextLastFontFamily=r}const{width:a}=this._layoutTextCtx.measureText(e.textContent);if(a>0){const e=t.canvasWidth/a;this._enhanceTextSelection&&(t.scale=e);n=`scaleX(${e})`}}0!==t.angle&&(n=`rotate(${t.angle}deg) ${n}`);if(n.length>0){this._enhanceTextSelection&&(t.originalTransform=n);e.style.transform=n}t.hasText&&this._container.appendChild(e);if(t.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation");this._container.appendChild(e)}}_render(e=0){const t=(0,s.createPromiseCapability)();let n=Object.create(null);const a=this._document.createElement("canvas");a.height=a.width=r;a.mozOpaque=!0;this._layoutTextCtx=a.getContext("2d",{alpha:!1});if(this._textContent){const e=this._textContent.items,n=this._textContent.styles;this._processItems(e,n);t.resolve()}else{if(!this._textContentStream)throw new Error(\'Neither "textContent" nor "textContentStream" parameters specified.\');{const pump=()=>{this._reader.read().then((({value:e,done:s})=>{if(s)t.resolve();else{Object.assign(n,e.styles);this._processItems(e.items,n);pump()}}),t.reject)};this._reader=this._textContentStream.getReader();pump()}}t.promise.then((()=>{n=null;e?this._renderTimer=setTimeout((()=>{render(this);this._renderTimer=null}),e):render(this)}),this._capability.reject)}expandTextDivs(e=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;if(null!==this._bounds){expand(this);this._bounds=null}const t=[],n=[];for(let s=0,r=this._textDivs.length;s<r;s++){const r=this._textDivs[s],a=this._textDivProperties.get(r);if(a.hasText)if(e){t.length=0;n.length=0;a.originalTransform&&t.push(a.originalTransform);if(a.paddingTop>0){n.push(`${a.paddingTop}px`);t.push(`translateY(${-a.paddingTop}px)`)}else n.push(0);a.paddingRight>0?n.push(a.paddingRight/a.scale+"px"):n.push(0);a.paddingBottom>0?n.push(`${a.paddingBottom}px`):n.push(0);if(a.paddingLeft>0){n.push(a.paddingLeft/a.scale+"px");t.push(`translateX(${-a.paddingLeft/a.scale}px)`)}else n.push(0);r.style.padding=n.join(" ");t.length&&(r.style.transform=t.join(" "))}else{r.style.padding=null;r.style.transform=a.originalTransform}}}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.SVGGraphics=void 0;var s=n(1),r=n(5),a=n(3);let i=class{constructor(){(0,s.unreachable)("Not implemented: SVGGraphics")}};t.SVGGraphics=i;{const e={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},n="http://www.w3.org/XML/1998/namespace",o="http://www.w3.org/1999/xlink",l=["butt","round","square"],c=["miter","round","bevel"],createObjectURL=function(e,t="",n=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!n)return URL.createObjectURL(new Blob([e],{type:t}));const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r=`data:${t};base64,`;for(let t=0,n=e.length;t<n;t+=3){const a=255&e[t],i=255&e[t+1],o=255&e[t+2];r+=s[a>>2]+s[(3&a)<<4|i>>4]+s[t+1<n?(15&i)<<2|o>>6:64]+s[t+2<n?63&o:64]}return r},h=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256);for(let e=0;e<256;e++){let n=e;for(let e=0;e<8;e++)n=1&n?3988292384^n>>1&2147483647:n>>1&2147483647;t[e]=n}function writePngChunk(e,n,s,r){let a=r;const i=n.length;s[a]=i>>24&255;s[a+1]=i>>16&255;s[a+2]=i>>8&255;s[a+3]=255&i;a+=4;s[a]=255&e.charCodeAt(0);s[a+1]=255&e.charCodeAt(1);s[a+2]=255&e.charCodeAt(2);s[a+3]=255&e.charCodeAt(3);a+=4;s.set(n,a);a+=n.length;const o=function crc32(e,n,s){let r=-1;for(let a=n;a<s;a++){const n=255&(r^e[a]);r=r>>>8^t[n]}return-1^r}(s,r+4,a);s[a]=o>>24&255;s[a+1]=o>>16&255;s[a+2]=o>>8&255;s[a+3]=255&o}function deflateSyncUncompressed(e){let t=e.length;const n=65535,s=Math.ceil(t/n),r=new Uint8Array(2+t+5*s+4);let a=0;r[a++]=120;r[a++]=156;let i=0;for(;t>n;){r[a++]=0;r[a++]=255;r[a++]=255;r[a++]=0;r[a++]=0;r.set(e.subarray(i,i+n),a);a+=n;i+=n;t-=n}r[a++]=1;r[a++]=255&t;r[a++]=t>>8&255;r[a++]=255&~t;r[a++]=(65535&~t)>>8&255;r.set(e.subarray(i),a);a+=e.length-i;const o=function adler32(e,t,n){let s=1,r=0;for(let a=t;a<n;++a){s=(s+(255&e[a]))%65521;r=(r+s)%65521}return r<<16|s}(e,0,e.length);r[a++]=o>>24&255;r[a++]=o>>16&255;r[a++]=o>>8&255;r[a++]=255&o;return r}function encode(t,n,r,i){const o=t.width,l=t.height;let c,h,d;const u=t.data;switch(n){case s.ImageKind.GRAYSCALE_1BPP:h=0;c=1;d=o+7>>3;break;case s.ImageKind.RGB_24BPP:h=2;c=8;d=3*o;break;case s.ImageKind.RGBA_32BPP:h=6;c=8;d=4*o;break;default:throw new Error("invalid format")}const p=new Uint8Array((1+d)*l);let g=0,f=0;for(let e=0;e<l;++e){p[g++]=0;p.set(u.subarray(f,f+d),g);f+=d;g+=d}if(n===s.ImageKind.GRAYSCALE_1BPP&&i){g=0;for(let e=0;e<l;e++){g++;for(let e=0;e<d;e++)p[g++]^=255}}const m=new Uint8Array([o>>24&255,o>>16&255,o>>8&255,255&o,l>>24&255,l>>16&255,l>>8&255,255&l,c,h,0,0,0]),_=function deflateSync(e){if(!a.isNodeJS)return deflateSyncUncompressed(e);try{let t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);const n=require("zlib").deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(e){(0,s.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return deflateSyncUncompressed(e)}(p),A=e.length+36+m.length+_.length,b=new Uint8Array(A);let y=0;b.set(e,y);y+=e.length;writePngChunk("IHDR",m,b,y);y+=12+m.length;writePngChunk("IDATA",_,b,y);y+=12+_.length;writePngChunk("IEND",new Uint8Array(0),b,y);return createObjectURL(b,"image/png",r)}return function convertImgDataToPng(e,t,n){return encode(e,void 0===e.kind?s.ImageKind.GRAYSCALE_1BPP:e.kind,t,n)}}();class SVGExtraState{constructor(){this.fontSizeScale=1;this.fontWeight=e.fontWeight;this.fontSize=0;this.textMatrix=s.IDENTITY_MATRIX;this.fontMatrix=s.FONT_IDENTITY_MATRIX;this.leading=0;this.textRenderingMode=s.TextRenderingMode.FILL;this.textMatrixScale=1;this.x=0;this.y=0;this.lineX=0;this.lineY=0;this.charSpacing=0;this.wordSpacing=0;this.textHScale=1;this.textRise=0;this.fillColor=e.fillColor;this.strokeColor="#000000";this.fillAlpha=1;this.strokeAlpha=1;this.lineWidth=1;this.lineJoin="";this.lineCap="";this.miterLimit=0;this.dashArray=[];this.dashPhase=0;this.dependencies=[];this.activeClipUrl=null;this.clipGroup=null;this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(e,t){this.x=e;this.y=t}}function opListToTree(e){let t=[];const n=[];for(const s of e)if("save"!==s.fn)"restore"===s.fn?t=n.pop():t.push(s);else{t.push({fnId:92,fn:"group",items:[]});n.push(t);t=t[t.length-1].items}return t}function pf(e){if(Number.isInteger(e))return e.toString();const t=e.toFixed(10);let n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)}function pm(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":`scale(${pf(e[0])} ${pf(e[3])})`;if(e[0]===e[3]&&e[1]===-e[2]){return`rotate(${pf(180*Math.acos(e[0])/Math.PI)})`}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return`translate(${pf(e[4])} ${pf(e[5])})`;return`matrix(${pf(e[0])} ${pf(e[1])} ${pf(e[2])} ${pf(e[3])} ${pf(e[4])} ${pf(e[5])})`}let d=0,u=0,p=0;t.SVGGraphics=i=class{constructor(e,t,n=!1){this.svgFactory=new r.DOMSVGFactory;this.current=new SVGExtraState;this.transformMatrix=s.IDENTITY_MATRIX;this.transformStack=[];this.extraStack=[];this.commonObjs=e;this.objs=t;this.pendingClip=null;this.pendingEOFill=!1;this.embedFonts=!1;this.embeddedFonts=Object.create(null);this.cssStyle=null;this.forceDataSchema=!!n;this._operatorIdMapping=[];for(const e in s.OPS)this._operatorIdMapping[s.OPS[e]]=e}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e);this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop();this.current=this.extraStack.pop();this.pendingClip=null;this.tgrp=null}group(e){this.save();this.executeOpTree(e);this.restore()}loadDependencies(e){const t=e.fnArray,n=e.argsArray;for(let e=0,r=t.length;e<r;e++)if(t[e]===s.OPS.dependency)for(const t of n[e]){const e=t.startsWith("g_")?this.commonObjs:this.objs,n=new Promise((n=>{e.get(t,n)}));this.current.dependencies.push(n)}return Promise.all(this.current.dependencies)}transform(e,t,n,r,a,i){const o=[e,t,n,r,a,i];this.transformMatrix=s.Util.transform(this.transformMatrix,o);this.tgrp=null}getSVG(e,t){this.viewport=t;const n=this._initialize(t);return this.loadDependencies(e).then((()=>{this.transformMatrix=s.IDENTITY_MATRIX;this.executeOpTree(this.convertOpList(e));return n}))}convertOpList(e){const t=this._operatorIdMapping,n=e.argsArray,s=e.fnArray,r=[];for(let e=0,a=s.length;e<a;e++){const a=s[e];r.push({fnId:a,fn:t[a],args:n[e]})}return opListToTree(r)}executeOpTree(e){for(const t of e){const e=t.fn,n=t.fnId,r=t.args;switch(0|n){case s.OPS.beginText:this.beginText();break;case s.OPS.dependency:break;case s.OPS.setLeading:this.setLeading(r);break;case s.OPS.setLeadingMoveText:this.setLeadingMoveText(r[0],r[1]);break;case s.OPS.setFont:this.setFont(r);break;case s.OPS.showText:case s.OPS.showSpacedText:this.showText(r[0]);break;case s.OPS.endText:this.endText();break;case s.OPS.moveText:this.moveText(r[0],r[1]);break;case s.OPS.setCharSpacing:this.setCharSpacing(r[0]);break;case s.OPS.setWordSpacing:this.setWordSpacing(r[0]);break;case s.OPS.setHScale:this.setHScale(r[0]);break;case s.OPS.setTextMatrix:this.setTextMatrix(r[0],r[1],r[2],r[3],r[4],r[5]);break;case s.OPS.setTextRise:this.setTextRise(r[0]);break;case s.OPS.setTextRenderingMode:this.setTextRenderingMode(r[0]);break;case s.OPS.setLineWidth:this.setLineWidth(r[0]);break;case s.OPS.setLineJoin:this.setLineJoin(r[0]);break;case s.OPS.setLineCap:this.setLineCap(r[0]);break;case s.OPS.setMiterLimit:this.setMiterLimit(r[0]);break;case s.OPS.setFillRGBColor:this.setFillRGBColor(r[0],r[1],r[2]);break;case s.OPS.setStrokeRGBColor:this.setStrokeRGBColor(r[0],r[1],r[2]);break;case s.OPS.setStrokeColorN:this.setStrokeColorN(r);break;case s.OPS.setFillColorN:this.setFillColorN(r);break;case s.OPS.shadingFill:this.shadingFill(r[0]);break;case s.OPS.setDash:this.setDash(r[0],r[1]);break;case s.OPS.setRenderingIntent:this.setRenderingIntent(r[0]);break;case s.OPS.setFlatness:this.setFlatness(r[0]);break;case s.OPS.setGState:this.setGState(r[0]);break;case s.OPS.fill:this.fill();break;case s.OPS.eoFill:this.eoFill();break;case s.OPS.stroke:this.stroke();break;case s.OPS.fillStroke:this.fillStroke();break;case s.OPS.eoFillStroke:this.eoFillStroke();break;case s.OPS.clip:this.clip("nonzero");break;case s.OPS.eoClip:this.clip("evenodd");break;case s.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case s.OPS.paintImageXObject:this.paintImageXObject(r[0]);break;case s.OPS.paintInlineImageXObject:this.paintInlineImageXObject(r[0]);break;case s.OPS.paintImageMaskXObject:this.paintImageMaskXObject(r[0]);break;case s.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(r[0],r[1]);break;case s.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case s.OPS.closePath:this.closePath();break;case s.OPS.closeStroke:this.closeStroke();break;case s.OPS.closeFillStroke:this.closeFillStroke();break;case s.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case s.OPS.nextLine:this.nextLine();break;case s.OPS.transform:this.transform(r[0],r[1],r[2],r[3],r[4],r[5]);break;case s.OPS.constructPath:this.constructPath(r[0],r[1]);break;case s.OPS.endPath:this.endPath();break;case 92:this.group(t.items);break;default:(0,s.warn)(`Unimplemented operator ${e}`)}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,t,n,s,r,a){const i=this.current;i.textMatrix=i.lineMatrix=[e,t,n,s,r,a];i.textMatrixScale=Math.hypot(e,t);i.x=i.lineX=0;i.y=i.lineY=0;i.xcoords=[];i.ycoords=[];i.tspan=this.svgFactory.createElement("svg:tspan");i.tspan.setAttributeNS(null,"font-family",i.fontFamily);i.tspan.setAttributeNS(null,"font-size",`${pf(i.fontSize)}px`);i.tspan.setAttributeNS(null,"y",pf(-i.y));i.txtElement=this.svgFactory.createElement("svg:text");i.txtElement.appendChild(i.tspan)}beginText(){const e=this.current;e.x=e.lineX=0;e.y=e.lineY=0;e.textMatrix=s.IDENTITY_MATRIX;e.lineMatrix=s.IDENTITY_MATRIX;e.textMatrixScale=1;e.tspan=this.svgFactory.createElement("svg:tspan");e.txtElement=this.svgFactory.createElement("svg:text");e.txtgrp=this.svgFactory.createElement("svg:g");e.xcoords=[];e.ycoords=[]}moveText(e,t){const n=this.current;n.x=n.lineX+=e;n.y=n.lineY+=t;n.xcoords=[];n.ycoords=[];n.tspan=this.svgFactory.createElement("svg:tspan");n.tspan.setAttributeNS(null,"font-family",n.fontFamily);n.tspan.setAttributeNS(null,"font-size",`${pf(n.fontSize)}px`);n.tspan.setAttributeNS(null,"y",pf(-n.y))}showText(t){const r=this.current,a=r.font,i=r.fontSize;if(0===i)return;const o=r.fontSizeScale,l=r.charSpacing,c=r.wordSpacing,h=r.fontDirection,d=r.textHScale*h,u=a.vertical,p=u?1:-1,g=a.defaultVMetrics,f=i*r.fontMatrix[0];let m=0;for(const e of t){if(null===e){m+=h*c;continue}if("number"==typeof e){m+=p*e*i/1e3;continue}const t=(e.isSpace?c:0)+l,n=e.fontChar;let s,d,_,A=e.width;if(u){let t;const n=e.vmetric||g;t=e.vmetric?n[1]:.5*A;t=-t*f;const r=n[2]*f;A=n?-n[0]:A;s=t/o;d=(m+r)/o}else{s=m/o;d=0}if(e.isInFont||a.missingFile){r.xcoords.push(r.x+s);u&&r.ycoords.push(-r.y+d);r.tspan.textContent+=n}_=u?A*f-t*h:A*f+t*h;m+=_}r.tspan.setAttributeNS(null,"x",r.xcoords.map(pf).join(" "));u?r.tspan.setAttributeNS(null,"y",r.ycoords.map(pf).join(" ")):r.tspan.setAttributeNS(null,"y",pf(-r.y));u?r.y-=m:r.x+=m*d;r.tspan.setAttributeNS(null,"font-family",r.fontFamily);r.tspan.setAttributeNS(null,"font-size",`${pf(r.fontSize)}px`);r.fontStyle!==e.fontStyle&&r.tspan.setAttributeNS(null,"font-style",r.fontStyle);r.fontWeight!==e.fontWeight&&r.tspan.setAttributeNS(null,"font-weight",r.fontWeight);const _=r.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;if(_===s.TextRenderingMode.FILL||_===s.TextRenderingMode.FILL_STROKE){r.fillColor!==e.fillColor&&r.tspan.setAttributeNS(null,"fill",r.fillColor);r.fillAlpha<1&&r.tspan.setAttributeNS(null,"fill-opacity",r.fillAlpha)}else r.textRenderingMode===s.TextRenderingMode.ADD_TO_PATH?r.tspan.setAttributeNS(null,"fill","transparent"):r.tspan.setAttributeNS(null,"fill","none");if(_===s.TextRenderingMode.STROKE||_===s.TextRenderingMode.FILL_STROKE){const e=1/(r.textMatrixScale||1);this._setStrokeAttributes(r.tspan,e)}let A=r.textMatrix;if(0!==r.textRise){A=A.slice();A[5]+=r.textRise}r.txtElement.setAttributeNS(null,"transform",`${pm(A)} scale(${pf(d)}, -1)`);r.txtElement.setAttributeNS(n,"xml:space","preserve");r.txtElement.appendChild(r.tspan);r.txtgrp.appendChild(r.txtElement);this._ensureTransformGroup().appendChild(r.txtElement)}setLeadingMoveText(e,t){this.setLeading(-t);this.moveText(e,t)}addFontStyle(e){if(!e.data)throw new Error(\'addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.\');if(!this.cssStyle){this.cssStyle=this.svgFactory.createElement("svg:style");this.cssStyle.setAttributeNS(null,"type","text/css");this.defs.appendChild(this.cssStyle)}const t=createObjectURL(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${e.loadedName}"; src: url(${t}); }\\n`}setFont(e){const t=this.current,n=this.commonObjs.get(e[0]);let r=e[1];t.font=n;if(this.embedFonts&&!n.missingFile&&!this.embeddedFonts[n.loadedName]){this.addFontStyle(n);this.embeddedFonts[n.loadedName]=n}t.fontMatrix=n.fontMatrix||s.FONT_IDENTITY_MATRIX;let a="normal";n.black?a="900":n.bold&&(a="bold");const i=n.italic?"italic":"normal";if(r<0){r=-r;t.fontDirection=-1}else t.fontDirection=1;t.fontSize=r;t.fontFamily=n.loadedName;t.fontWeight=a;t.fontStyle=i;t.tspan=this.svgFactory.createElement("svg:tspan");t.tspan.setAttributeNS(null,"y",pf(-t.y));t.xcoords=[];t.ycoords=[]}endText(){const e=this.current;if(e.textRenderingMode&s.TextRenderingMode.ADD_TO_PATH_FLAG&&e.txtElement?.hasChildNodes()){e.element=e.txtElement;this.clip("nonzero");this.endPath()}}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=l[e]}setLineJoin(e){this.current.lineJoin=c[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,t,n){this.current.strokeColor=s.Util.makeHexColor(e,t,n)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,t,n){this.current.fillColor=s.Util.makeHexColor(e,t,n);this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.xcoords=[];this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const t=this.viewport.width,n=this.viewport.height,r=s.Util.inverseTransform(this.transformMatrix),a=s.Util.applyTransform([0,0],r),i=s.Util.applyTransform([0,n],r),o=s.Util.applyTransform([t,0],r),l=s.Util.applyTransform([t,n],r),c=Math.min(a[0],i[0],o[0],l[0]),h=Math.min(a[1],i[1],o[1],l[1]),d=Math.max(a[0],i[0],o[0],l[0]),u=Math.max(a[1],i[1],o[1],l[1]),p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x",c);p.setAttributeNS(null,"y",h);p.setAttributeNS(null,"width",d-c);p.setAttributeNS(null,"height",u-h);p.setAttributeNS(null,"fill",this._makeShadingPattern(e));this.current.fillAlpha<1&&p.setAttributeNS(null,"fill-opacity",this.current.fillAlpha);this._ensureTransformGroup().appendChild(p)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const t=e[1],n=e[2],r=e[3]||s.IDENTITY_MATRIX,[a,i,o,l]=e[4],c=e[5],h=e[6],d=e[7],u="shading"+p++,[g,f,m,_]=s.Util.normalizeRect([...s.Util.applyTransform([a,i],r),...s.Util.applyTransform([o,l],r)]),[A,b]=s.Util.singularValueDecompose2dScale(r),y=c*A,S=h*b,x=this.svgFactory.createElement("svg:pattern");x.setAttributeNS(null,"id",u);x.setAttributeNS(null,"patternUnits","userSpaceOnUse");x.setAttributeNS(null,"width",y);x.setAttributeNS(null,"height",S);x.setAttributeNS(null,"x",`${g}`);x.setAttributeNS(null,"y",`${f}`);const v=this.svg,C=this.transformMatrix,P=this.current.fillColor,w=this.current.strokeColor,T=this.svgFactory.create(m-g,_-f);this.svg=T;this.transformMatrix=r;if(2===d){const e=s.Util.makeHexColor(...t);this.current.fillColor=e;this.current.strokeColor=e}this.executeOpTree(this.convertOpList(n));this.svg=v;this.transformMatrix=C;this.current.fillColor=P;this.current.strokeColor=w;x.appendChild(T.childNodes[0]);this.defs.appendChild(x);return`url(#${u})`}_makeShadingPattern(e){"string"==typeof e&&(e=this.objs.get(e));switch(e[0]){case"RadialAxial":const t="shading"+p++,n=e[3];let r;switch(e[1]){case"axial":const n=e[4],s=e[5];r=this.svgFactory.createElement("svg:linearGradient");r.setAttributeNS(null,"id",t);r.setAttributeNS(null,"gradientUnits","userSpaceOnUse");r.setAttributeNS(null,"x1",n[0]);r.setAttributeNS(null,"y1",n[1]);r.setAttributeNS(null,"x2",s[0]);r.setAttributeNS(null,"y2",s[1]);break;case"radial":const a=e[4],i=e[5],o=e[6],l=e[7];r=this.svgFactory.createElement("svg:radialGradient");r.setAttributeNS(null,"id",t);r.setAttributeNS(null,"gradientUnits","userSpaceOnUse");r.setAttributeNS(null,"cx",i[0]);r.setAttributeNS(null,"cy",i[1]);r.setAttributeNS(null,"r",l);r.setAttributeNS(null,"fx",a[0]);r.setAttributeNS(null,"fy",a[1]);r.setAttributeNS(null,"fr",o);break;default:throw new Error(`Unknown RadialAxial type: ${e[1]}`)}for(const e of n){const t=this.svgFactory.createElement("svg:stop");t.setAttributeNS(null,"offset",e[0]);t.setAttributeNS(null,"stop-color",e[1]);r.appendChild(t)}this.defs.appendChild(r);return`url(#${t})`;case"Mesh":(0,s.warn)("Unimplemented pattern Mesh");return null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${e[0]}`)}}setDash(e,t){this.current.dashArray=e;this.current.dashPhase=t}constructPath(e,t){const n=this.current;let r=n.x,a=n.y,i=[],o=0;for(const n of e)switch(0|n){case s.OPS.rectangle:r=t[o++];a=t[o++];const e=r+t[o++],n=a+t[o++];i.push("M",pf(r),pf(a),"L",pf(e),pf(a),"L",pf(e),pf(n),"L",pf(r),pf(n),"Z");break;case s.OPS.moveTo:r=t[o++];a=t[o++];i.push("M",pf(r),pf(a));break;case s.OPS.lineTo:r=t[o++];a=t[o++];i.push("L",pf(r),pf(a));break;case s.OPS.curveTo:r=t[o+4];a=t[o+5];i.push("C",pf(t[o]),pf(t[o+1]),pf(t[o+2]),pf(t[o+3]),pf(r),pf(a));o+=6;break;case s.OPS.curveTo2:i.push("C",pf(r),pf(a),pf(t[o]),pf(t[o+1]),pf(t[o+2]),pf(t[o+3]));r=t[o+2];a=t[o+3];o+=4;break;case s.OPS.curveTo3:r=t[o+2];a=t[o+3];i.push("C",pf(t[o]),pf(t[o+1]),pf(r),pf(a),pf(r),pf(a));o+=4;break;case s.OPS.closePath:i.push("Z")}i=i.join(" ");if(n.path&&e.length>0&&e[0]!==s.OPS.rectangle&&e[0]!==s.OPS.moveTo)i=n.path.getAttributeNS(null,"d")+i;else{n.path=this.svgFactory.createElement("svg:path");this._ensureTransformGroup().appendChild(n.path)}n.path.setAttributeNS(null,"d",i);n.path.setAttributeNS(null,"fill","none");n.element=n.path;n.setCurrentPoint(r,a)}endPath(){const e=this.current;e.path=null;if(!this.pendingClip)return;if(!e.element){this.pendingClip=null;return}const t="clippath"+d++,n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t);n.setAttributeNS(null,"transform",pm(this.transformMatrix));const s=e.element.cloneNode(!0);"evenodd"===this.pendingClip?s.setAttributeNS(null,"clip-rule","evenodd"):s.setAttributeNS(null,"clip-rule","nonzero");this.pendingClip=null;n.appendChild(s);this.defs.appendChild(n);if(e.activeClipUrl){e.clipGroup=null;for(const e of this.extraStack)e.clipGroup=null;n.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl=`url(#${t})`;this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const t=`${e.path.getAttributeNS(null,"d")}Z`;e.path.setAttributeNS(null,"d",t)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n);break;case"CA":this.setStrokeAlpha(n);break;case"ca":this.setFillAlpha(n);break;default:(0,s.warn)(`Unimplemented graphic state operator ${t}`)}}fill(){const e=this.current;if(e.element){e.element.setAttributeNS(null,"fill",e.fillColor);e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha);this.endPath()}}stroke(){const e=this.current;if(e.element){this._setStrokeAttributes(e.element);e.element.setAttributeNS(null,"fill","none");this.endPath()}}_setStrokeAttributes(e,t=1){const n=this.current;let s=n.dashArray;1!==t&&s.length>0&&(s=s.map((function(e){return t*e})));e.setAttributeNS(null,"stroke",n.strokeColor);e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha);e.setAttributeNS(null,"stroke-miterlimit",pf(n.miterLimit));e.setAttributeNS(null,"stroke-linecap",n.lineCap);e.setAttributeNS(null,"stroke-linejoin",n.lineJoin);e.setAttributeNS(null,"stroke-width",pf(t*n.lineWidth)+"px");e.setAttributeNS(null,"stroke-dasharray",s.map(pf).join(" "));e.setAttributeNS(null,"stroke-dashoffset",pf(t*n.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fill()}fillStroke(){this.stroke();this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fillStroke()}closeStroke(){this.closePath();this.stroke()}closeFillStroke(){this.closePath();this.fillStroke()}closeEOFillStroke(){this.closePath();this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0");e.setAttributeNS(null,"y","0");e.setAttributeNS(null,"width","1px");e.setAttributeNS(null,"height","1px");e.setAttributeNS(null,"fill",this.current.fillColor);this._ensureTransformGroup().appendChild(e)}paintImageXObject(e){const t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,s.warn)(`Dependent image with object ID ${e} is not ready yet`)}paintInlineImageXObject(e,t){const n=e.width,s=e.height,r=h(e,this.forceDataSchema,!!t),a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0");a.setAttributeNS(null,"y","0");a.setAttributeNS(null,"width",pf(n));a.setAttributeNS(null,"height",pf(s));this.current.element=a;this.clip("nonzero");const i=this.svgFactory.createElement("svg:image");i.setAttributeNS(o,"xlink:href",r);i.setAttributeNS(null,"x","0");i.setAttributeNS(null,"y",pf(-s));i.setAttributeNS(null,"width",pf(n)+"px");i.setAttributeNS(null,"height",pf(s)+"px");i.setAttributeNS(null,"transform",`scale(${pf(1/n)} ${pf(-1/s)})`);t?t.appendChild(i):this._ensureTransformGroup().appendChild(i)}paintImageMaskXObject(e){const t=this.current,n=e.width,s=e.height,r=t.fillColor;t.maskId="mask"+u++;const a=this.svgFactory.createElement("svg:mask");a.setAttributeNS(null,"id",t.maskId);const i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0");i.setAttributeNS(null,"y","0");i.setAttributeNS(null,"width",pf(n));i.setAttributeNS(null,"height",pf(s));i.setAttributeNS(null,"fill",r);i.setAttributeNS(null,"mask",`url(#${t.maskId})`);this.defs.appendChild(a);this._ensureTransformGroup().appendChild(i);this.paintInlineImageXObject(e,a)}paintFormXObjectBegin(e,t){Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]);if(t){const e=t[2]-t[0],n=t[3]-t[1],s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x",t[0]);s.setAttributeNS(null,"y",t[1]);s.setAttributeNS(null,"width",pf(e));s.setAttributeNS(null,"height",pf(n));this.current.element=s;this.clip("nonzero");this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.appendChild(n);this.defs=n;const s=this.svgFactory.createElement("svg:g");s.setAttributeNS(null,"transform",pm(e.transform));t.appendChild(s);this.svg=s;return t}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl);this.svg.appendChild(e);this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){if(!this.tgrp){this.tgrp=this.svgFactory.createElement("svg:g");this.tgrp.setAttributeNS(null,"transform",pm(this.transformMatrix));this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)}return this.tgrp}}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.PDFNodeStream=void 0;var s=n(1),r=n(24);const a=require("fs"),i=require("http"),o=require("https"),l=require("url"),c=/^file:\\/\\/\\/[a-zA-Z]:\\//;t.PDFNodeStream=class PDFNodeStream{constructor(e){this.source=e;this.url=function parseUrl(e){const t=l.parse(e);if("file:"===t.protocol||t.host)return t;if(/^[a-z]:[/\\\\]/i.test(e))return l.parse(`file:///${e}`);t.host||(t.protocol="file:");return t}(e.url);this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol;this.isFsUrl="file:"===this.url.protocol;this.httpHeaders=this.isHttp&&e.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){(0,s.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once.");this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this);return this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,e,t):new PDFNodeStreamRangeReader(this,e,t);this._rangeRequestReaders.push(n);return n}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class BaseFullReader{constructor(e){this._url=e.url;this._done=!1;this._storedError=null;this.onProgress=null;const t=e.source;this._contentLength=t.length;this._loaded=0;this._filename=null;this._disableRange=t.disableRange||!1;this._rangeChunkSize=t.rangeChunkSize;this._rangeChunkSize||this._disableRange||(this._disableRange=!0);this._isStreamingSupported=!t.disableStream;this._isRangeSupported=!t.disableRange;this._readableStream=null;this._readCapability=(0,s.createPromiseCapability)();this._headersCapability=(0,s.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;if(this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e){this._readCapability=(0,s.createPromiseCapability)();return this.read()}this._loaded+=e.length;this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(e).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e;this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e;e.on("readable",(()=>{this._readCapability.resolve()}));e.on("end",(()=>{e.destroy();this._done=!0;this._readCapability.resolve()}));e.on("error",(e=>{this._error(e)}));!this._isStreamingSupported&&this._isRangeSupported&&this._error(new s.AbortException("streaming is disabled"));this._storedError&&this._readableStream.destroy(this._storedError)}}class BaseRangeReader{constructor(e){this._url=e.url;this._done=!1;this._storedError=null;this.onProgress=null;this._loaded=0;this._readableStream=null;this._readCapability=(0,s.createPromiseCapability)();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;if(this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e){this._readCapability=(0,s.createPromiseCapability)();return this.read()}this._loaded+=e.length;this.onProgress&&this.onProgress({loaded:this._loaded});return{value:new Uint8Array(e).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e;this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e;e.on("readable",(()=>{this._readCapability.resolve()}));e.on("end",(()=>{e.destroy();this._done=!0;this._readCapability.resolve()}));e.on("error",(e=>{this._error(e)}));this._storedError&&this._readableStream.destroy(this._storedError)}}function createRequestOptions(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class PDFNodeStreamFullReader extends BaseFullReader{constructor(e){super(e);const handleResponse=t=>{if(404===t.statusCode){const e=new s.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=e;this._headersCapability.reject(e);return}this._headersCapability.resolve();this._setReadableStream(t);const getResponseHeader=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:n,suggestedLength:a}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:getResponseHeader,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=n;this._contentLength=a||this._contentLength;this._filename=(0,r.extractFilenameFromHeader)(getResponseHeader)};this._request=null;"http:"===this._url.protocol?this._request=i.request(createRequestOptions(this._url,e.httpHeaders),handleResponse):this._request=o.request(createRequestOptions(this._url,e.httpHeaders),handleResponse);this._request.on("error",(e=>{this._storedError=e;this._headersCapability.reject(e)}));this._request.end()}}class PDFNodeStreamRangeReader extends BaseRangeReader{constructor(e,t,n){super(e);this._httpHeaders={};for(const t in e.httpHeaders){const n=e.httpHeaders[t];void 0!==n&&(this._httpHeaders[t]=n)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const handleResponse=e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new s.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=e}};this._request=null;"http:"===this._url.protocol?this._request=i.request(createRequestOptions(this._url,this._httpHeaders),handleResponse):this._request=o.request(createRequestOptions(this._url,this._httpHeaders),handleResponse);this._request.on("error",(e=>{this._storedError=e}));this._request.end()}}class PDFNodeStreamFsFullReader extends BaseFullReader{constructor(e){super(e);let t=decodeURIComponent(this._url.path);c.test(this._url.href)&&(t=t.replace(/^\\//,""));a.lstat(t,((e,n)=>{if(e){"ENOENT"===e.code&&(e=new s.MissingPDFException(`Missing PDF "${t}".`));this._storedError=e;this._headersCapability.reject(e)}else{this._contentLength=n.size;this._setReadableStream(a.createReadStream(t));this._headersCapability.resolve()}}))}}class PDFNodeStreamFsRangeReader extends BaseRangeReader{constructor(e,t,n){super(e);let s=decodeURIComponent(this._url.path);c.test(this._url.href)&&(s=s.replace(/^\\//,""));this._setReadableStream(a.createReadStream(s,{start:t,end:n-1}))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.createResponseStatusError=function createResponseStatusError(e,t){if(404===e||0===e&&t.startsWith("file:"))return new s.MissingPDFException(\'Missing PDF "\'+t+\'".\');return new s.UnexpectedResponseException(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)};t.extractFilenameFromHeader=function extractFilenameFromHeader(e){const t=e("Content-Disposition");if(t){let e=(0,r.getFilenameFromContentDispositionHeader)(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(e){}if((0,a.isPdfFile)(e))return e}return null};t.validateRangeRequestCapabilities=function validateRangeRequestCapabilities({getResponseHeader:e,isHttp:t,rangeChunkSize:n,disableRange:r}){(0,s.assert)(n>0,"Range chunk size must be larger than zero");const a={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(e("Content-Length"),10);if(!Number.isInteger(i))return a;a.suggestedLength=i;if(i<=2*n)return a;if(r||!t)return a;if("bytes"!==e("Accept-Ranges"))return a;if("identity"!==(e("Content-Encoding")||"identity"))return a;a.allowRangeRequests=!0;return a};t.validateResponseStatus=function validateResponseStatus(e){return 200===e||206===e};var s=n(1),r=n(25),a=n(5)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.getFilenameFromContentDispositionHeader=function getFilenameFromContentDispositionHeader(e){let t=!0,n=toParamRegExp("filename\\\\*","i").exec(e);if(n){n=n[1];let e=rfc2616unquote(n);e=unescape(e);e=rfc5987decode(e);e=rfc2047decode(e);return fixupEncoding(e)}n=function rfc2231getparam(e){const t=[];let n;const s=toParamRegExp("filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)","ig");for(;null!==(n=s.exec(e));){let[,e,s,r]=n;e=parseInt(e,10);if(e in t){if(0===e)break}else t[e]=[s,r]}const r=[];for(let e=0;e<t.length&&e in t;++e){let[n,s]=t[e];s=rfc2616unquote(s);if(n){s=unescape(s);0===e&&(s=rfc5987decode(s))}r.push(s)}return r.join("")}(e);if(n){return fixupEncoding(rfc2047decode(n))}n=toParamRegExp("filename","i").exec(e);if(n){n=n[1];let e=rfc2616unquote(n);e=rfc2047decode(e);return fixupEncoding(e)}function toParamRegExp(e,t){return new RegExp("(?:^|;)\\\\s*"+e+\'\\\\s*=\\\\s*([^";\\\\s][^;\\\\s]*|"(?:[^"\\\\\\\\]|\\\\\\\\"?)+"?)\',t)}function textdecode(e,n){if(e){if(!/^[\\x00-\\xFF]+$/.test(n))return n;try{const r=new TextDecoder(e,{fatal:!0}),a=(0,s.stringToBytes)(n);n=r.decode(a);t=!1}catch(e){}}return n}function fixupEncoding(e){if(t&&/[\\x80-\\xff]/.test(e)){e=textdecode("utf-8",e);t&&(e=textdecode("iso-8859-1",e))}return e}function rfc2616unquote(e){if(e.startsWith(\'"\')){const t=e.slice(1).split(\'\\\\"\');for(let e=0;e<t.length;++e){const n=t[e].indexOf(\'"\');if(-1!==n){t[e]=t[e].slice(0,n);t.length=e+1}t[e]=t[e].replace(/\\\\(.)/g,"$1")}e=t.join(\'"\')}return e}function rfc5987decode(e){const t=e.indexOf("\'");if(-1===t)return e;return textdecode(e.slice(0,t),e.slice(t+1).replace(/^[^\']*\'/,""))}function rfc2047decode(e){return!e.startsWith("=?")||/[\\x00-\\x19\\x80-\\xff]/.test(e)?e:e.replace(/=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g,(function(e,t,n,s){if("q"===n||"Q"===n)return textdecode(t,s=(s=s.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{s=atob(s)}catch(e){}return textdecode(t,s)}))}return""};var s=n(1)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.PDFNetworkStream=void 0;var s=n(1),r=n(24);class NetworkManager{constructor(e,t={}){this.url=e;this.isHttp=/^https?:/i.test(e);this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null);this.withCredentials=t.withCredentials||!1;this.getXhr=t.getXhr||function NetworkManager_getXhr(){return new XMLHttpRequest};this.currXhrId=0;this.pendingRequests=Object.create(null)}requestRange(e,t,n){const s={begin:e,end:t};for(const e in n)s[e]=n[e];return this.request(s)}requestFull(e){return this.request(e)}request(e){const t=this.getXhr(),n=this.currXhrId++,s=this.pendingRequests[n]={xhr:t};t.open("GET",this.url);t.withCredentials=this.withCredentials;for(const e in this.httpHeaders){const n=this.httpHeaders[e];void 0!==n&&t.setRequestHeader(e,n)}if(this.isHttp&&"begin"in e&&"end"in e){t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`);s.expectedStatus=206}else s.expectedStatus=200;t.responseType="arraybuffer";e.onError&&(t.onerror=function(n){e.onError(t.status)});t.onreadystatechange=this.onStateChange.bind(this,n);t.onprogress=this.onProgress.bind(this,n);s.onHeadersReceived=e.onHeadersReceived;s.onDone=e.onDone;s.onError=e.onError;s.onProgress=e.onProgress;t.send(null);return n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived){n.onHeadersReceived();delete n.onHeadersReceived}if(4!==r.readyState)return;if(!(e in this.pendingRequests))return;delete this.pendingRequests[e];if(0===r.status&&this.isHttp){n.onError?.(r.status);return}const a=r.status||200;if(!(200===a&&206===n.expectedStatus)&&a!==n.expectedStatus){n.onError?.(r.status);return}const i=function getArrayBuffer(e){const t=e.response;return"string"!=typeof t?t:(0,s.stringToBytes)(t).buffer}(r);if(206===a){const e=r.getResponseHeader("Content-Range"),t=/bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:i})}else i?n.onDone({begin:0,chunk:i}):n.onError?.(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e];t.abort()}}t.PDFNetworkStream=class PDFNetworkStream{constructor(e){this._source=e;this._manager=new NetworkManager(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials});this._rangeChunkSize=e.rangeChunkSize;this._fullRequestReader=null;this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){(0,s.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once.");this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source);return this._fullRequestReader}getRangeReader(e,t){const n=new PDFNetworkStreamRangeRequestReader(this._manager,e,t);n.onClosed=this._onRangeRequestReaderClosed.bind(this);this._rangeRequestReaders.push(n);return n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class PDFNetworkStreamFullRequestReader{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url;this._fullRequestId=e.requestFull(n);this._headersReceivedCapability=(0,s.createPromiseCapability)();this._disableRange=t.disableRange||!1;this._contentLength=t.length;this._rangeChunkSize=t.rangeChunkSize;this._rangeChunkSize||this._disableRange||(this._disableRange=!0);this._isStreamingSupported=!1;this._isRangeSupported=!1;this._cachedChunks=[];this._requests=[];this._done=!1;this._storedError=void 0;this._filename=null;this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),getResponseHeader=e=>t.getResponseHeader(e),{allowRangeRequests:n,suggestedLength:s}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:getResponseHeader,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});n&&(this._isRangeSupported=!0);this._contentLength=s||this._contentLength;this._filename=(0,r.extractFilenameFromHeader)(getResponseHeader);this._isRangeSupported&&this._manager.abortRequest(e);this._headersReceivedCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);this._done=!0;if(!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=(0,r.createResponseStatusError)(e,this._url);this._headersReceivedCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0;this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,s.createPromiseCapability)();this._requests.push(e);return e.promise}cancel(e){this._done=!0;this._headersReceivedCapability.reject(e);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0;this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId);this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor(e,t,n){this._manager=e;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url;this._requestId=e.requestRange(t,n,s);this._requests=[];this._queuedChunk=null;this._done=!1;this._storedError=void 0;this.onProgress=null;this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0;this._close()}_onError(e){this._storedError=(0,r.createResponseStatusError)(e,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0;this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;this._queuedChunk=null;return{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,s.createPromiseCapability)();this._requests.push(e);return e.promise}cancel(e){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0;this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId);this._close()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.PDFFetchStream=void 0;var s=n(1),r=n(24);function createFetchOptions(e,t,n){return{method:"GET",headers:e,signal:n?.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function createHeaders(e){const t=new Headers;for(const n in e){const s=e[n];void 0!==s&&t.append(n,s)}return t}t.PDFFetchStream=class PDFFetchStream{constructor(e){this.source=e;this.isHttp=/^https?:/i.test(e.url);this.httpHeaders=this.isHttp&&e.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){(0,s.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once.");this._fullRequestReader=new PDFFetchStreamReader(this);return this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new PDFFetchStreamRangeReader(this,e,t);this._rangeRequestReaders.push(n);return n}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class PDFFetchStreamReader{constructor(e){this._stream=e;this._reader=null;this._loaded=0;this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1;this._contentLength=t.length;this._headersCapability=(0,s.createPromiseCapability)();this._disableRange=t.disableRange||!1;this._rangeChunkSize=t.rangeChunkSize;this._rangeChunkSize||this._disableRange||(this._disableRange=!0);"undefined"!=typeof AbortController&&(this._abortController=new AbortController);this._isStreamingSupported=!t.disableStream;this._isRangeSupported=!t.disableRange;this._headers=createHeaders(this._stream.httpHeaders);const n=t.url;fetch(n,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,r.validateResponseStatus)(e.status))throw(0,r.createResponseStatusError)(e.status,n);this._reader=e.body.getReader();this._headersCapability.resolve();const getResponseHeader=t=>e.headers.get(t),{allowRangeRequests:t,suggestedLength:a}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:getResponseHeader,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=t;this._contentLength=a||this._contentLength;this._filename=(0,r.extractFilenameFromHeader)(getResponseHeader);!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new s.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject);this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();if(t)return{value:e,done:t};this._loaded+=e.byteLength;this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(e).buffer,done:!1}}cancel(e){this._reader&&this._reader.cancel(e);this._abortController&&this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor(e,t,n){this._stream=e;this._reader=null;this._loaded=0;const a=e.source;this._withCredentials=a.withCredentials||!1;this._readCapability=(0,s.createPromiseCapability)();this._isStreamingSupported=!a.disableStream;"undefined"!=typeof AbortController&&(this._abortController=new AbortController);this._headers=createHeaders(this._stream.httpHeaders);this._headers.append("Range",`bytes=${t}-${n-1}`);const i=a.url;fetch(i,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,r.validateResponseStatus)(e.status))throw(0,r.createResponseStatusError)(e.status,i);this._readCapability.resolve();this._reader=e.body.getReader()})).catch(this._readCapability.reject);this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();if(t)return{value:e,done:t};this._loaded+=e.byteLength;this.onProgress&&this.onProgress({loaded:this._loaded});return{value:new Uint8Array(e).buffer,done:!1}}cancel(e){this._reader&&this._reader.cancel(e);this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};__webpack_modules__[e](n,n.exports,__w_pdfjs_require__);return n.exports}var __webpack_exports__={};(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0});Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return r.AnnotationLayer}});Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}});Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}});Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return a.GlobalWorkerOptions}});Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}});Object.defineProperty(e,"LoopbackPort",{enumerable:!0,get:function(){return n.LoopbackPort}});Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}});Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}});Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}});Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return s.PDFDateString}});Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}});Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}});Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}});Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return s.PixelsPerInch}});Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return s.RenderingCancelledException}});Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return l.SVGGraphics}});Object.defineProperty(e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return t.UNSUPPORTED_FEATURES}});Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}});Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}});Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}});Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}});Object.defineProperty(e,"build",{enumerable:!0,get:function(){return n.build}});Object.defineProperty(e,"createPromiseCapability",{enumerable:!0,get:function(){return t.createPromiseCapability}});Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}});Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return n.getDocument}});Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return s.getFilenameFromUrl}});Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return s.getPdfFilenameFromUrl}});Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return s.getXfaPageViewport}});Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return s.isPdfFile}});Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return s.loadScript}});Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return o.renderTextLayer}});Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}});Object.defineProperty(e,"version",{enumerable:!0,get:function(){return n.version}});var t=__w_pdfjs_require__(1),n=__w_pdfjs_require__(4),s=__w_pdfjs_require__(5),r=__w_pdfjs_require__(18),a=__w_pdfjs_require__(12),i=__w_pdfjs_require__(3),o=__w_pdfjs_require__(21),l=__w_pdfjs_require__(22),c=__w_pdfjs_require__(20);if(i.isNodeJS){const{PDFNodeStream:e}=__w_pdfjs_require__(23);(0,n.setPDFNetworkStreamFactory)((t=>new e(t)))}else{const{PDFNetworkStream:e}=__w_pdfjs_require__(26),{PDFFetchStream:t}=__w_pdfjs_require__(27);(0,n.setPDFNetworkStreamFactory)((n=>(0,s.isValidFetchUrl)(n.url)?new t(n):new e(n)))}})();return __webpack_exports__})()}));',document.body.appendChild(e)})();const s=await(async(e,t,n)=>{try{window.pdfjsLib.GlobalWorkerOptions.workerSrc=t;const n=-1===e.indexOf("?")?"?":"&";return await window.pdfjsLib.getDocument(`${e}${n}t=${+new Date}`).promise}catch(e){throw new Error(n.message.badDocument)}})(t,n,this.language);this.hasAttribute("protected")&&(this.loading.hide(),this.passwordModal.onEnter((async e=>new Promise((async(t,n)=>{this.listeners.passwordEnter?r(this.listeners.passwordEnter)?t(await this.listeners.passwordEnter(e)):t(this.listeners.passwordEnter(e)):n(new Error("Password protection requires password enter event"))})))),await this.passwordModal.show(),this.loading.show());const a=await(async()=>{const{width:e,height:t}=(await s.getPage(1)).getViewport({scale:1.5});return{width:e,height:t}})(),i=new x(this,a).onChange((e=>{((e,t=1)=>{for(let n=1;n<=e.length;n++){const s=e[n-1],r=s.getViewport({scale:1.5*t}),a=window.devicePixelRatio||1,i=document.querySelector(`#page${n}`);i.style.width=`${Math.floor(r.width)}px`,i.style.height=`${Math.floor(r.height)}px`,i.style.margin=4*t+"px",i.querySelector("canvas")?.remove();const o=document.createElement("canvas");o.width=Math.floor(r.width*a),o.height=Math.floor(r.height*a),i.appendChild(o),s.render({canvasContext:o.getContext("2d"),transform:1!==a?[a,0,0,a,0,0]:null,viewport:r})}})(o,e)})),o=await(async(e,t=1)=>{const n=document.querySelector('[data-element="pageView"]'),s=[];for(let r=1;r<=e.numPages;r++){const a=await e.getPage(r),i=a.getViewport({scale:1.5*t}),o=window.devicePixelRatio||1,l=document.createElement("div");l.id=`page${r}`,l.style.width=`${Math.floor(i.width)}px`,l.style.height=`${Math.floor(i.height)}px`,l.style.margin=4*t+"px",l.classList.add("page"),l.dataset.pageNumber=r.toString();const c=document.createElement("canvas");c.width=Math.floor(i.width*o),c.height=Math.floor(i.height*o),l.appendChild(c),n.appendChild(l),a.render({canvasContext:c.getContext("2d"),transform:1!==o?[o,0,0,o,0,0]:null,viewport:i}),s.push(a)}return s})(s,i.getZoomFactor()),l=new S(this,o).onSelect((e=>{this.pageNav?.activatePage(e)}));this.pageNav=new w(this,s.numPages).onChange((e=>{l.activatePage(e),this.listeners.pageChange&&this.listeners.pageChange(e)})),this.printButton.addEventListener("click",(async()=>{await(async e=>{const t=document.querySelector('[data-element="printFrame"]');return t.src=e,new Promise((e=>{t.addEventListener("load",(()=>{t.contentWindow.print(),e()}),{passive:!0,once:!0})}))})(t)}),{passive:!0}),this.downloadButton.addEventListener("click",(async()=>{await(async(e,t)=>{const n=await e.getData(),s=new Uint8Array(n),r=new File([s],t,{type:"application/pdf"}),a=document.createElement("a");a.download=t,a.rel="noopener",a.href=URL.createObjectURL(r),setTimeout((()=>URL.revokeObjectURL(a.href)),4e4),setTimeout((()=>a.dispatchEvent(new MouseEvent("click"))),0)})(s,k(t))}),{passive:!0}),this.themeChangeButton.addEventListener("click",(t=>{let n=document.documentElement.getAttribute("data-theme");const s=t.currentTarget;let r;n&&"light"!==n?(r="light",s.setAttribute("data-mode","light"),s.setAttribute("aria-label",this.language.action.lightMode),s.setAttribute("title",this.language.action.lightMode)):(r="dark",s.setAttribute("data-mode","dark"),s.setAttribute("aria-label",this.language.action.darkMode),s.setAttribute("title",this.language.action.darkMode)),e(r)}),{passive:!0}),this.classList.add("document-loaded"),!this.calledLoadListener&&this.listeners.documentLoaded&&this.listeners.documentLoaded(),this.loaded=!0}catch(e){throw this.errorModal.show(e instanceof Error?e.message:String(e)),e}finally{this.loading.hide()}}static define(){return window.customElements.get("pdf-live")||window.customElements.define("pdf-live",this),this}static createElement(){return new(this.define())}on(e,t){if(!(e in this.listeners))throw new Error(`Invalid event type "${e}" dispatched in element <pdf-live>, Valid types are "pageChange", "documentLoaded", and "passwordEnter"`);return this.listeners[e]=t,("documentLoaded"===e||this.loaded)&&(this.listeners.documentLoaded&&this.listeners.documentLoaded(),this.calledLoadListener=!0),this}getCurrentPageNumber(){return this.pageNav.getCurrentPageNumber()}render(e){this.insertAdjacentHTML("beforeend",i.compile('\x3c!-- begin:Header --\x3e\n        <div data-element="header" class="header">\n          <div class="header-container">\n            <button data-element="leftPanelToggle" class="left-panel-toggle button" aria-label="{{language.component.leftPanel}}" title="{{language.component.leftPanel}}">\n              <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n                <path d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/>\n              </svg>\n            </button>\n            <div class="document-title">\n              <div data-element="title" class="document-title-ellipsis"></div>\n            </div>\n            <div class="zoom-overlay">\n              <button data-element="zoomOutButton" class="button action-button" aria-label="{{language.action.zoomOut}}" aria-keyshortcuts="Control+-" title="{{language.action.zoomOut}}{{language.shortcut.zoomOut}}">\n                <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n                  <path d="M400 288h-352c-17.69 0-32-14.32-32-32.01s14.31-31.99 32-31.99h352c17.69 0 32 14.3 32 31.99S417.7 288 400 288z"/>\n                </svg>\n              </button>\n              <div data-element="zoomToggle" class="zoom-overlay-toggle">\n                <div class="zoom-overlay-toggle-text">\n                  <form data-element="zoomForm">\n                    <input data-element="zoomInput" type="text" class="textarea" tabindex="-1" aria-label="Set zoom" value="100">\n                  </form>\n                  <span>%</span>\n                </div>\n                <button class="button" aria-label="Zoom Controls">\n                  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">\n                    <path d="M192 384c-8.188 0-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L192 306.8l137.4-137.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-160 160C208.4 380.9 200.2 384 192 384z"/>\n                  </svg>\n                </button>\n              </div>\n              <button data-element="zoomInButton" class="button action-button" aria-label="{{language.action.zoomIn}}" aria-keyshortcuts="Control+=" title="{{language.action.zoomIn}}{{language.shortcut.zoomIn}}">\n                <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n                  <path d="M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"/>\n                </svg>\n              </button>\n            </div>\n            <div class="header-nav">\n              <button data-element="printButton" class="button" aria-label="{{language.action.print}}" title="{{language.action.print}}">\n                <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n                  <path d="M448 192H64C28.65 192 0 220.7 0 256v96c0 17.67 14.33 32 32 32h32v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h32c17.67 0 32-14.33 32-32V256C512 220.7 483.3 192 448 192zM384 448H128v-96h256V448zM432 296c-13.25 0-24-10.75-24-24c0-13.27 10.75-24 24-24s24 10.73 24 24C456 285.3 445.3 296 432 296zM128 64h229.5L384 90.51V160h64V77.25c0-8.484-3.375-16.62-9.375-22.62l-45.25-45.25C387.4 3.375 379.2 0 370.8 0H96C78.34 0 64 14.33 64 32v128h64V64z"/>\n                </svg>\n              </button>\n              <button data-element="downloadButton" class="button" aria-label="{{language.action.download}}" title="{{language.action.download}}">\n                <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n                  <path d="M480 352h-133.5l-45.25 45.25C289.2 409.3 273.1 416 256 416s-33.16-6.656-45.25-18.75L165.5 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96C512 366.3 497.7 352 480 352zM432 456c-13.2 0-24-10.8-24-24c0-13.2 10.8-24 24-24s24 10.8 24 24C456 445.2 445.2 456 432 456zM233.4 374.6C239.6 380.9 247.8 384 256 384s16.38-3.125 22.62-9.375l128-128c12.49-12.5 12.49-32.75 0-45.25c-12.5-12.5-32.76-12.5-45.25 0L288 274.8V32c0-17.67-14.33-32-32-32C238.3 0 224 14.33 224 32v242.8L150.6 201.4c-12.49-12.5-32.75-12.5-45.25 0c-12.49 12.5-12.49 32.75 0 45.25L233.4 374.6z"/>\n                </svg>\n              </button>\n              <button data-element="themeChangeButton" class="button" data-mode="light" aria-label="{{language.action.darkMode}}" title="{{language.action.darkMode}}">\n                <svg class="icon icon-dark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n                  <path d="M279.135 512c78.756 0 150.982-35.804 198.844-94.775 28.27-34.831-2.558-85.722-46.249-77.401-82.348 15.683-158.272-47.268-158.272-130.792 0-48.424 26.06-92.292 67.434-115.836 38.745-22.05 28.999-80.788-15.022-88.919A257.936 257.936 0 0 0 279.135 0c-141.36 0-256 114.575-256 256 0 141.36 114.576 256 256 256zm0-464c12.985 0 25.689 1.201 38.016 3.478-54.76 31.163-91.693 90.042-91.693 157.554 0 113.848 103.641 199.2 215.252 177.944C402.574 433.964 344.366 464 279.135 464c-114.875 0-208-93.125-208-208s93.125-208 208-208z"/>\n                </svg>\n                <svg class="icon icon-light" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n                  <path d="M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"/>\n                </svg>\n              </button>\n            </div>\n          </div>\n        </div>\n        \x3c!-- end:Header --\x3e\n        \n        \x3c!-- begin:Content --\x3e\n        <div class="content">\n\n          \x3c!-- begin:Left panel --\x3e\n          <div data-element="leftPanel" class="left-panel{{#unless openLeftPanel}} left-panel-closed{{/unless}}">\n            <div class="left-panel-container">\n              <div data-element="thumbnailsPanel" class="thumbnails-panel"></div>\n            </div>\n          </div>\n          \x3c!-- end:Left panel --\x3e\n\n          \x3c!-- begin:Page container --\x3e\n          <div data-element="pagegContainer" class="page-container {{#if openLeftPanel}} page-container-open{{/if}}">\n            \n            \x3c!-- begin:Page view --\x3e\n            <div data-element="pageView" class="page-view"></div>\n            \x3c!-- end:Page view --\x3e\n\n            \x3c!-- begin:Page navigation --\x3e\n            <div class="page-footer" style="width: calc(100% - 0px); margin-left: 0px;">\n              <div data-element="pageNavOverlay" class="page-nav-overlay">\n                <button data-element="prevPageButton" class="button side-arrow-container" aria-label="{{language.action.pagePrev}}" title="{{language.action.pagePrev}}" disabled>\n                  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512">\n                    <path d="M192 448c-8.188 0-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L77.25 256l137.4 137.4c12.5 12.5 12.5 32.75 0 45.25C208.4 444.9 200.2 448 192 448z"/>\n                  </svg>\n                </button>\n                <div class="page-nav-form-container">\n                  <form data-element="pageForm">\n                    <input data-element="pageInput" type="text" tabindex="-1" aria-label="Set page" value="1"> / <span data-element="totalPage">1</span>\n                  </form>\n                </div>\n                <button data-element="nextPageButton" class="button side-arrow-container" aria-label="{{language.action.pageNext}}" title="{{language.action.pageNext}}">\n                  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512">\n                    <path d="M64 448c-8.188 0-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L178.8 256L41.38 118.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l160 160c12.5 12.5 12.5 32.75 0 45.25l-160 160C80.38 444.9 72.19 448 64 448z"/>\n                  </svg>\n                </button>\n              </div>\n            </div>\n            \x3c!-- end:Page navigation --\x3e\n\n          </div>\n          \x3c!-- end:Page container --\x3e\n\n        </div>\n        \x3c!-- end:Content --\x3e\n\n        \x3c!-- begin:Zoom menu --\x3e\n        <div data-element="zoomMenu" class="zoom-menu zoom-menu-closed" role="listbox" aria-label="{{language.component.zoomOverlay}}">\n          <button data-element="zoomSelect"\n                  data-value="pageWidth"\n                  class="button zoom-menu-item"\n                  aria-label="{{language.action.fitToWidth}}"\n                  role="option">\n            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n              <path d="M447.1 319.1v135.1c0 13.26-10.75 23.1-23.1 23.1h-135.1c-12.94 0-24.61-7.781-29.56-19.75c-4.906-11.1-2.203-25.72 6.937-34.87l30.06-30.06L224 323.9l-71.43 71.44l30.06 30.06c9.156 9.156 11.91 22.91 6.937 34.87C184.6 472.2 172.9 479.1 160 479.1H24c-13.25 0-23.1-10.74-23.1-23.1v-135.1c0-12.94 7.781-24.61 19.75-29.56C23.72 288.8 27.88 288 32 288c8.312 0 16.5 3.242 22.63 9.367l30.06 30.06l71.44-71.44L84.69 184.6L54.63 214.6c-9.156 9.156-22.91 11.91-34.87 6.937C7.798 216.6 .0013 204.9 .0013 191.1v-135.1c0-13.26 10.75-23.1 23.1-23.1h135.1c12.94 0 24.61 7.781 29.56 19.75C191.2 55.72 191.1 59.87 191.1 63.1c0 8.312-3.237 16.5-9.362 22.63L152.6 116.7l71.44 71.44l71.43-71.44l-30.06-30.06c-9.156-9.156-11.91-22.91-6.937-34.87c4.937-11.95 16.62-19.75 29.56-19.75h135.1c13.26 0 23.1 10.75 23.1 23.1v135.1c0 12.94-7.781 24.61-19.75 29.56c-11.1 4.906-25.72 2.203-34.87-6.937l-30.06-30.06l-71.43 71.43l71.44 71.44l30.06-30.06c9.156-9.156 22.91-11.91 34.87-6.937C440.2 295.4 447.1 307.1 447.1 319.1z"/>\n            </svg>\n            {{language.action.fitToWidth}}\n          </button>\n          <button data-element="zoomSelect"\n                  data-value="pageFit"\n                  class="button zoom-menu-item"\n                  aria-label="{{language.action.fitToPage}}"\n                  role="option">\n            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n              <path d="M208 281.4c-12.5-12.5-32.76-12.5-45.26-.002l-78.06 78.07l-30.06-30.06c-6.125-6.125-14.31-9.367-22.63-9.367c-4.125 0-8.279 .7891-12.25 2.43c-11.97 4.953-19.75 16.62-19.75 29.56v135.1C.0013 501.3 10.75 512 24 512h136c12.94 0 24.63-7.797 29.56-19.75c4.969-11.97 2.219-25.72-6.938-34.87l-30.06-30.06l78.06-78.07c12.5-12.49 12.5-32.75 .002-45.25L208 281.4zM487.1 0h-136c-12.94 0-24.63 7.797-29.56 19.75c-4.969 11.97-2.219 25.72 6.938 34.87l30.06 30.06l-78.06 78.07c-12.5 12.5-12.5 32.76 0 45.26l22.62 22.62c12.5 12.5 32.76 12.5 45.26 0l78.06-78.07l30.06 30.06c9.156 9.141 22.87 11.84 34.87 6.937C504.2 184.6 512 172.9 512 159.1V23.1C512 10.74 501.3 0 487.1 0z"/>\n            </svg>\n            {{language.action.fitToPage}}\n          </button>\n          <div class="divider"></div>\n          <button data-element="zoomSelect" data-value="50" class="zoom-menu-item" aria-label="50%" role="option">50%</button>\n          <button data-element="zoomSelect" data-value="75" class="zoom-menu-item" aria-label="75%" role="option">75%</button>\n          <button data-element="zoomSelect" data-value="100" class="zoom-menu-item zoom-menu-item-selected" aria-label="100%" role="option"">100%</button>\n          <button data-element="zoomSelect" data-value="125" class="zoom-menu-item" aria-label="125%" role="option"">125%</button>\n          <button data-element="zoomSelect" data-value="150" class="zoom-menu-item" aria-label="150%" role="option"">150%</button>\n          <button data-element="zoomSelect" data-value="200" class="zoom-menu-item" aria-label="200%" role="option"">200%</button>\n        </div>\n        \x3c!-- end:Zoom menu --\x3e\n        <iframe data-element="printFrame" style="display: none;"></iframe>')({language:this.language,openLeftPanel:e}))}}j.define();export{j as default};
